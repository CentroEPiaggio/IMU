C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 1   


C51 COMPILER V9.51, COMPILATION OF MODULE COMMAND_PROCESSING
OBJECT MODULE PLACED IN .\DP8051_Keil_951\Release\command_processing.obj
COMPILER INVOKED BY: C:\Program Files (x86)\Cypress\PSoC Creator\4.1\PSoC Creator\import\keil\pk51\9.51\C51\BIN\c51.exe 
                    -command_processing.c NOIV LARGE MODDP2 OMF2 VB(1) NOIP INCDIR(.,Generated_Source\PSoC3) FF(3) DB DF(NDEBUG) WL(2) PR(.\D
                    -P8051_Keil_951\Release/command_processing.lst) CD OT(11,SPEED) OJ(.\DP8051_Keil_951\Release\command_processing.obj)

line level    source

*** MESSAGE C286 IN LINE 0 OF (null): license limits optimization to level 5
   1          // ----------------------------------------------------------------------------
   2          // BSD 3-Clause License
   3          
   4          // Copyright (c) 2016, qbrobotics
   5          // Copyright (c) 2017-2018, Centro "E.Piaggio"
   6          // All rights reserved.
   7          
   8          // Redistribution and use in source and binary forms, with or without
   9          // modification, are permitted provided that the following conditions are met:
  10          
  11          // * Redistributions of source code must retain the above copyright notice, this
  12          //   list of conditions and the following disclaimer.
  13          
  14          // * Redistributions in binary form must reproduce the above copyright notice,
  15          //   this list of conditions and the following disclaimer in the documentation
  16          //   and/or other materials provided with the distribution.
  17          
  18          // * Neither the name of the copyright holder nor the names of its
  19          //   contributors may be used to endorse or promote products derived from
  20          //   this software without specific prior written permission.
  21          
  22          // THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  23          // AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  24          // IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  25          // DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  26          // FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  27          // DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  28          // SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  29          // CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  30          // OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  31          // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  32          // POSSIBILITY OF SUCH DAMAGE.
  33          // ----------------------------------------------------------------------------
  34          
  35          /**
  36          * \file         command_processing.c
  37          *
  38          
  39          * \brief        Command processing functions.
  40          * \date         February 01, 2018
  41          * \author       _Centro "E.Piaggio"_
  42          * \copyright    (C) 2012-2016 qbrobotics. All rights reserved.
  43          * \copyright    (C) 2017-2018 Centro "E.Piaggio". All rights reserved.
  44          */
  45          
  46          //=================================================================     includes
  47          #include "command_processing.h"
  48          #include "interruptions.h"
  49          #include "utils.h"
  50          #include "globals.h"
  51          #include "commands.h"
  52          #include "IMU_functions.h"
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 2   

  53          #include <STDIO.H>
  54          
  55          //================================================================     variables
  56          
  57          reg8 * EEPROM_ADDR = (reg8 *) CYDEV_EE_BASE;
  58          
  59          //==============================================================================
  60          //                                                            RX DATA PROCESSING
  61          //==============================================================================
  62          //  This function checks for the availability of a data packet and process it:
  63          //      - Verify checksum;
  64          //      - Process commands;
  65          //==============================================================================
  66          
  67          void commProcess(){
  68   1      
  69   1          uint8 CYDATA rx_cmd;
  70   1      
  71   1          rx_cmd = g_rx.buffer[0];
  72   1      
  73   1      //==========================================================     verify checksum
  74   1      
  75   1          if (!(LCRChecksum(g_rx.buffer, g_rx.length - 1) == g_rx.buffer[g_rx.length - 1])){
  76   2              // Wrong checksum
  77   2              g_rx.ready = 0;
  78   2              return;
  79   2          }
  80   1      
  81   1      
  82   1          switch(rx_cmd) {
  83   2             
  84   2      //=========================================================     CMD_SET_BAUDRATE
  85   2                  
  86   2              case CMD_SET_BAUDRATE:
  87   2                  cmd_set_baudrate();
  88   2                  break;  
  89   2                  
  90   2      //=============================================================     CMD_GET_INFO
  91   2      
  92   2              case CMD_GET_INFO:
  93   2                  infoGet( *((uint16 *) &g_rx.buffer[1]));
  94   2                  break;
  95   2      
  96   2      //============================================================     CMD_GET_PARAM
  97   2                  
  98   2              case CMD_GET_PARAM_LIST:
  99   2                  get_param_list( *((uint16 *) &g_rx.buffer[1]));
 100   2                  break;
 101   2      
 102   2      //=================================================================     CMD_PING
 103   2                  
 104   2              case CMD_PING:
 105   2                  cmd_ping();
 106   2                  break;
 107   2      
 108   2      //=========================================================     CMD_STORE_PARAMS
 109   2                  
 110   2              case CMD_STORE_PARAMS:
 111   2                  cmd_store_params();
 112   2                  break;
 113   2      
 114   2      //=================================================     CMD_STORE_DEFAULT_PARAMS
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 3   

 115   2      
 116   2              case CMD_STORE_DEFAULT_PARAMS:
 117   2                  if(memStore(DEFAULT_EEPROM_DISPLACEMENT))
 118   2                      sendAcknowledgment(ACK_OK);
 119   2                  else
 120   2                      sendAcknowledgment(ACK_ERROR);
 121   2                  break;
 122   2      
 123   2      //=======================================================     CMD_RESTORE_PARAMS
 124   2      
 125   2              case CMD_RESTORE_PARAMS:
 126   2                  if(memRestore())
 127   2                      sendAcknowledgment(ACK_OK);
 128   2                  else
 129   2                      sendAcknowledgment(ACK_ERROR);
 130   2                  break;
 131   2      
 132   2      //=============================================================     CMD_INIT_MEM
 133   2      
 134   2              case CMD_INIT_MEM:
 135   2                  if(memInit())
 136   2                      sendAcknowledgment(ACK_OK);
 137   2                  else
 138   2                      sendAcknowledgment(ACK_ERROR);
 139   2                  break;
 140   2      
 141   2      //===========================================================     CMD_BOOTLOADER
 142   2      
 143   2              case CMD_BOOTLOADER:
 144   2                  //Not sure if ACK_OK is correct, should check
 145   2                  sendAcknowledgment(ACK_OK);
 146   2                  CyDelay(1000);
 147   2                  FTDI_ENABLE_REG_Write(0x00);
 148   2                  CyDelay(1000);
 149   2                  Bootloadable_Load();
 150   2                  break;
 151   2      
 152   2      //=====================================================     CMD_GET_IMU_READINGS
 153   2      
 154   2              case CMD_GET_IMU_READINGS:
 155   2                  cmd_get_imu_readings();
 156   2                  break;                
 157   2                  
 158   2      //=========================================================== ALL OTHER COMMANDS
 159   2              default:
 160   2                  break;
 161   2                  
 162   2          }
 163   1      }
 164          
 165          
 166          //==============================================================================
 167          //                                                                     INFO SEND
 168          //==============================================================================
 169          
 170          void infoSend(){
 171   1          unsigned char packet_string[1100];
 172   1          infoPrepare(packet_string);
 173   1          UART_RS485_PutString(packet_string);
 174   1      }
 175          
 176          
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 4   

 177          //==============================================================================
 178          //                                                              COMMAND GET INFO
 179          //==============================================================================
 180          
 181          void infoGet(uint16 info_type) {
 182   1          static unsigned char packet_string[1100];
 183   1      
 184   1          //==================================     choose info type and prepare string
 185   1      
 186   1          switch (info_type) {
 187   2              case INFO_ALL:
 188   2                  infoPrepare(packet_string);
 189   2                  UART_RS485_PutString(packet_string);  
 190   2                  break;
 191   2              case INFO_READING:                        
 192   2                  infoReading(packet_string);
 193   2                  UART_RS485_PutString(packet_string);
 194   2                  break;
 195   2              default:
 196   2                  break;
 197   2          }
 198   1      }
 199          
 200          //==============================================================================
 201          //                                                            GET PARAMETER LIST
 202          //==============================================================================
 203          
 204          void get_param_list(uint16 index)
 205          {
 206   1          //Package to be sent variables
 207   1          uint8 packet_data[  PARAM_BYTE_SLOT   +     // Number of connected IMUs
 208   1                              6*PARAM_BYTE_SLOT +     // IMUs ID
 209   1                              9*PARAM_BYTE_SLOT +     // Mag cal parameters
 210   1                              PARAM_BYTE_SLOT   +     // 1 - Device ID
 211   1                              PARAM_BYTE_SLOT*N_IMU_MAX + // IMU configurations
 212   1                              PARAM_BYTE_SLOT   +     // SPI read delay
 213   1                              PARAM_MENU_SLOT   + PARAM_BYTE_SLOT + 1 ] = "";
 214   1          uint16 num_imus_id_params = 6;
 215   1          uint16 num_mag_cal_params = 0;
 216   1          uint16 first_imu_parameter = 2;
 217   1          uint16 packet_length = PARAM_BYTE_SLOT +
 218   1                                 num_imus_id_params*PARAM_BYTE_SLOT +
 219   1                                 num_mag_cal_params*PARAM_BYTE_SLOT +
 220   1                                 PARAM_BYTE_SLOT   + 
 221   1                                 (uint16)(PARAM_BYTE_SLOT*N_IMU_Connected) +
 222   1                                 PARAM_BYTE_SLOT + PARAM_MENU_SLOT + PARAM_BYTE_SLOT + 1;
 223   1      
 224   1          //Auxiliary variables
 225   1          uint16 CYDATA i, j, k, h;
 226   1          uint16 start_byte = 0;
 227   1      
 228   1          //Parameters menu string definitions
 229   1          char n_imu_str[26]          = "Number of connected IMUs:";
 230   1          char ids_str[11]            = "";
 231   1          char mag_param_str[20]      = "Mag cal parameters:";
 232   1          char id_str[16]             = "";
 233   1          char imu_table_str[42]      = "";
 234   1          char spi_read_delay_str[26] = "";
 235   1          
 236   1          //Strings lenghts
 237   1          uint8 CYDATA id_str_len = strlen(id_str);
 238   1          uint8 CYDATA n_imu_str_len = strlen(n_imu_str);
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 5   

 239   1          uint8 CYDATA ids_str_len = strlen(ids_str);
 240   1          uint8 CYDATA mag_param_str_len = strlen(mag_param_str);
 241   1          uint8 CYDATA imu_table_str_len = strlen(imu_table_str);
 242   1          uint8 CYDATA spi_read_delay_str_len = strlen(spi_read_delay_str);
 243   1          
 244   1          char spi_delay_menu[118]    = "";
 245   1          uint8 CYDATA spi_delay_menu_len;
 246   1          
 247   1          sprintf(spi_delay_menu, "0 -> None\n1 -> Low (%u us delay for each 8-bit register read)\n2 -> High (%u
             - us delay for each 8-bit register read)\n", (int)SPI_DELAY_LOW, (int)SPI_DELAY_HIGH);
 248   1          spi_delay_menu_len = strlen(spi_delay_menu);
 249   1      
 250   1          // Compute number of read parameters depending on N_IMU_Connected and
 251   1          // update packet_length
 252   1          num_mag_cal_params = (uint16)(N_IMU_Connected / 2);
 253   1          if ( (N_IMU_Connected - num_mag_cal_params*2) > 0 ) num_mag_cal_params++;
 254   1          
 255   1          packet_length = PARAM_BYTE_SLOT +
 256   1                          num_imus_id_params*PARAM_BYTE_SLOT +
 257   1                          num_mag_cal_params*PARAM_BYTE_SLOT +
 258   1                          PARAM_BYTE_SLOT   + 
 259   1                          (uint16)(PARAM_BYTE_SLOT*N_IMU_Connected) +
 260   1                          PARAM_MENU_SLOT + PARAM_BYTE_SLOT + 1;
 261   1      
 262   1          first_imu_parameter = 1 + num_imus_id_params + num_mag_cal_params + 2;
 263   1          packet_data[0] = CMD_GET_PARAM_LIST;
 264   1          packet_data[1] = 1 + num_imus_id_params + num_mag_cal_params + 1 + (uint8)N_IMU_Connected + 1;        
             -// NUM_PARAMS
 265   1      
 266   1          switch(index) {
 267   2              case 0:         //List of all parameters with relative types
 268   2                  /*-------------N IMU--------------*/
 269   2                  start_byte = 0;
 270   2                  packet_data[2] = TYPE_UINT8;
 271   2                  packet_data[3] = 1;
 272   2                  packet_data[4] = (uint8)N_IMU_Connected;
 273   2                  for(i = n_imu_str_len; i != 0; i--)
 274   2                      packet_data[5 + n_imu_str_len - i] = n_imu_str[n_imu_str_len - i];
 275   2                      
 276   2                  /*-------------IMUS ID--------------*/
 277   2                  start_byte = start_byte + PARAM_BYTE_SLOT;
 278   2                  i = 0;
 279   2                  for (k = 0; k < num_imus_id_params; k++){
 280   3                      sprintf(ids_str, "Port %u ID:", k);
 281   3                      h = 4;
 282   3                      ids_str_len = strlen(ids_str);
 283   3                      packet_data[2+start_byte + PARAM_BYTE_SLOT*k] = TYPE_UINT8;
 284   3                      packet_data[3+start_byte + PARAM_BYTE_SLOT*k] = 3;
 285   3                      
 286   3                      for (j = 3*k; j <= 3*k+2; j++) {  // for each possible imu on port k
 287   4                          if (IMU_connected[i] == j) {
 288   5                              packet_data[h+start_byte + PARAM_BYTE_SLOT*k] = (uint8)IMU_connected[i];          
             -     
 289   5                              i++;
 290   5                              h++;
 291   5                          } 
 292   4                          else {
 293   5                              packet_data[h+start_byte + PARAM_BYTE_SLOT*k] = 0;
 294   5                          }
 295   4                      }
 296   3      
 297   3                      //if (IMU_connected[i] >= 3*k && IMU_connected[i] <= 3*k + 2)
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 6   

 298   3                      for(j = ids_str_len; j != 0; j--)
 299   3                          packet_data[7+start_byte + PARAM_BYTE_SLOT*k + ids_str_len - j] = ids_str[ids_str_len 
             -- j];
 300   3                  }
 301   2                  
 302   2                  /*-------------GET MAG PARAM--------------*/
 303   2                  start_byte = start_byte + PARAM_BYTE_SLOT*num_imus_id_params;
 304   2                  for (k = 0; k < num_mag_cal_params; k++){
 305   3                      packet_data[2+start_byte + PARAM_BYTE_SLOT*k] = TYPE_UINT8;
 306   3                      
 307   3                      packet_data[3+start_byte + PARAM_BYTE_SLOT*k] = 3;
 308   3                      packet_data[4+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k]][0];
 309   3                      packet_data[5+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k]][1];
 310   3                      packet_data[6+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k]][2];
 311   3                      
 312   3                      // check if there is a second value
 313   3                      if ( N_IMU_Connected < 2*(k+1) ) {
 314   4                          // there is only one value
 315   4                          for(j = mag_param_str_len; j != 0; j--)
 316   4                              packet_data[7+start_byte + PARAM_BYTE_SLOT*k + mag_param_str_len - j] = mag_param_
             -str[mag_param_str_len - j];
 317   4                      }
 318   3                      else {
 319   4                          // fill the second value
 320   4                          packet_data[3+start_byte + PARAM_BYTE_SLOT*k] = 6;
 321   4                          packet_data[7+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k+1]][0
             -];
 322   4                          packet_data[8+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k+1]][1
             -];
 323   4                          packet_data[9+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k+1]][2
             -];
 324   4                      
 325   4                          for(j = mag_param_str_len; j != 0; j--)
 326   4                              packet_data[10+start_byte + PARAM_BYTE_SLOT*k + mag_param_str_len - j] = mag_param
             -_str[mag_param_str_len - j];
 327   4                      }
 328   3                  }
 329   2                  
 330   2                  /*-----------------ID-----------------*/
 331   2                  
 332   2                  start_byte = start_byte + PARAM_BYTE_SLOT*num_mag_cal_params;
 333   2                  sprintf(id_str, "%u - Device ID:", first_imu_parameter-1);
 334   2                  id_str_len = strlen(id_str);
 335   2                  packet_data[2+start_byte] = TYPE_UINT8;
 336   2                  packet_data[3+start_byte] = 1;
 337   2                  packet_data[4+start_byte] = c_mem.id;
 338   2                  for(i = id_str_len; i != 0; i--)
 339   2                      packet_data[5+start_byte + id_str_len - i] = id_str[id_str_len - i];
 340   2                      
 341   2                  /*-------------GET IMUS MODE-------------*/
 342   2                  
 343   2                  start_byte = start_byte + PARAM_BYTE_SLOT;
 344   2                  for (i = 0; i < (uint8)N_IMU_Connected; i++){
 345   3                      sprintf(imu_table_str, "%u - IMU %d configuration:", first_imu_parameter + i, (int) IMU_co
             -nnected[i]);
 346   3                      imu_table_str_len = strlen(imu_table_str);
 347   3                  
 348   3                      packet_data[(uint16)(2 + start_byte + PARAM_BYTE_SLOT*i)] = TYPE_UINT8;
 349   3                      packet_data[(uint16)(3 + start_byte + PARAM_BYTE_SLOT*i)] = 5;
 350   3                      
 351   3                      packet_data[(uint16)(4 + start_byte + PARAM_BYTE_SLOT*i)] = (uint8)(c_mem.IMU_conf[IMU_con
             -nected[i]][0]);
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 7   

 352   3                      packet_data[(uint16)(5 + start_byte + PARAM_BYTE_SLOT*i)] = (uint8)(c_mem.IMU_conf[IMU_con
             -nected[i]][1]);
 353   3                      packet_data[(uint16)(6 + start_byte + PARAM_BYTE_SLOT*i)] = (uint8)(c_mem.IMU_conf[IMU_con
             -nected[i]][2]);
 354   3                      packet_data[(uint16)(7 + start_byte + PARAM_BYTE_SLOT*i)] = (uint8)(c_mem.IMU_conf[IMU_con
             -nected[i]][3]);
 355   3                      packet_data[(uint16)(8 + start_byte + PARAM_BYTE_SLOT*i)] = (uint8)(c_mem.IMU_conf[IMU_con
             -nected[i]][4]);
 356   3      
 357   3                      for(j = imu_table_str_len; j != 0; j--)
 358   3                          packet_data[(uint16)(9 + start_byte + PARAM_BYTE_SLOT*i + imu_table_str_len - j)] = im
             -u_table_str[imu_table_str_len - j];
 359   3                  }  
 360   2                
 361   2      
 362   2                  /*-----------------SPI DELAY-----------------*/
 363   2                  
 364   2                  start_byte = start_byte + (uint16)(PARAM_BYTE_SLOT*N_IMU_Connected) ;
 365   2                  sprintf(spi_read_delay_str, "%u - SPI read delay:", first_imu_parameter+N_IMU_Connected);
 366   2                  packet_data[2+start_byte] = TYPE_FLAG;
 367   2                  packet_data[3+start_byte] = 1;
 368   2                  packet_data[4+start_byte] = c_mem.SPI_read_delay;
 369   2                  switch(c_mem.SPI_read_delay) {
 370   3                      case 0: 
 371   3                          strcat(spi_read_delay_str, " None"); 
 372   3                          spi_read_delay_str_len = 26;
 373   3                          break;
 374   3                      case 1: 
 375   3                          strcat(spi_read_delay_str, " Low"); 
 376   3                          spi_read_delay_str_len = 25;
 377   3                          break;
 378   3                      case 2: 
 379   3                          strcat(spi_read_delay_str, " High");
 380   3                          spi_read_delay_str_len = 26;
 381   3                          break;
 382   3                      default:
 383   3                          break;
 384   3                  }            
 385   2                  for(i = spi_read_delay_str_len; i != 0; i--)
 386   2                      packet_data[5+start_byte + spi_read_delay_str_len - i] = spi_read_delay_str[spi_read_delay
             -_str_len - i];
 387   2                  //The following byte indicates the number of menus at the end of the packet to send
 388   2                  packet_data[5+start_byte + spi_read_delay_str_len] = 1;
 389   2                        
 390   2                  
 391   2                  /*------------PARAMETERS MENU-----------*/
 392   2                  start_byte = start_byte + PARAM_BYTE_SLOT;
 393   2                  for(i = spi_delay_menu_len; i!= 0; i--)
 394   2                      packet_data[(uint16)(2 + start_byte) + spi_delay_menu_len - i] = spi_delay_menu[spi_delay_
             -menu_len - i];
 395   2      
 396   2                  packet_data[packet_length - 1] = LCRChecksum(packet_data,packet_length - 1);
 397   2                  commWrite(packet_data, packet_length);
 398   2                  UART_RS485_ClearTxBuffer();
 399   2              break;
 400   2      
 401   2      //=========================================================     other_params
 402   2              default: 
 403   2                  
 404   2                  if (index < first_imu_parameter-1)
 405   2                      break;
 406   2                  
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 8   

 407   2                  if (index == first_imu_parameter+N_IMU_Connected) {
 408   3                      g_mem.SPI_read_delay = g_rx.buffer[3];  //SPI read delay - uint8
 409   3                      break;
 410   3                  }
 411   2                  
 412   2                  if (index == first_imu_parameter-1) {
 413   3                      g_mem.id = g_rx.buffer[3];          //ID - uint8
 414   3                  }
 415   2                  else {
 416   3                  
 417   3                      //Set Imu table (index > = first_imu_parameter)
 418   3                      g_mem.IMU_conf[IMU_connected[index-first_imu_parameter]][0] = g_rx.buffer[3];
 419   3                      g_mem.IMU_conf[IMU_connected[index-first_imu_parameter]][1] = g_rx.buffer[4];
 420   3                      g_mem.IMU_conf[IMU_connected[index-first_imu_parameter]][2] = g_rx.buffer[5];
 421   3                      g_mem.IMU_conf[IMU_connected[index-first_imu_parameter]][3] = g_rx.buffer[6];
 422   3                      g_mem.IMU_conf[IMU_connected[index-first_imu_parameter]][4] = g_rx.buffer[7];
 423   3                      
 424   3                      // Recompute IMU packets dimension
 425   3                      imus_data_size = 1; //header    
 426   3                      for (i = 0; i < N_IMU_Connected; i++)
 427   3                      {
 428   4                          single_imu_size[IMU_connected[i]] = 1 + 6*g_mem.IMU_conf[IMU_connected[i]][0] + 6*g_me
             -m.IMU_conf[IMU_connected[i]][1] + 6*g_mem.IMU_conf[IMU_connected[i]][2] + 16*g_mem.IMU_conf[IMU_connected[i]][3] + 2*g_m
             -em.IMU_conf[IMU_connected[i]][4]+ 1;
 429   4                          imus_data_size = imus_data_size + single_imu_size[IMU_connected[i]];
 430   4                      }
 431   3                      imus_data_size = imus_data_size + 1;    //checksum
 432   3                  
 433   3                  }
 434   2                  
 435   2              break;
 436   2          }
 437   1      }
 438          
 439          
 440          //==============================================================================
 441          //                                                           PREPARE DEVICE INFO
 442          //==============================================================================
 443          
 444          void infoPrepare(unsigned char *info_string)
 445          {
 446   1          int i;
 447   1          unsigned char str[100];
 448   1          if(c_mem.id != 250){                //To avoid dummy board ping
 449   2              strcpy(info_string, "");
 450   2              strcat(info_string, "\r\n");
 451   2              strcat(info_string, "Firmware version: ");
 452   2              strcat(info_string, VERSION);
 453   2              strcat(info_string, "\r\n\r\n");
 454   2      
 455   2              strcat(info_string, "DEVICE INFO\r\n");
 456   2              sprintf(str, "ID: %d\r\n", (int) c_mem.id);
 457   2              strcat(info_string, str);
 458   2           
 459   2              sprintf(str, "IMU Connected: %d\r\n", (int) N_IMU_Connected);
 460   2              strcat(info_string, str);
 461   2              
 462   2              strcat(info_string, "\r\n");
 463   2              
 464   2              strcat(info_string, "IMUs CONFIGURATION\r\n");
 465   2              for (i=0; i<N_IMU_Connected; i++){
 466   3                  sprintf(str, "Imu %d \r\n\tID: %d\r\n", i, (int) IMU_connected[i]);
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 9   

 467   3                  strcat(info_string, str);
 468   3                  
 469   3                  sprintf(str, "\tAccelerometers: ");
 470   3                  if ((c_mem.IMU_conf[IMU_connected[i]][0]))
 471   3                      strcat(str, "YES\r\n");
 472   3                  else
 473   3                      strcat(str, "NO\r\n"); 
 474   3                  strcat(str, "\tGyroscopes: ");
 475   3                  if ((c_mem.IMU_conf[IMU_connected[i]][1]))
 476   3                      strcat(str, "YES\r\n");
 477   3                  else
 478   3                      strcat(str, "NO\r\n"); 
 479   3                  strcat(str, "\tMagnetometers: ");
 480   3                  if ((c_mem.IMU_conf[IMU_connected[i]][2]))
 481   3                      strcat(str, "YES\r\n");
 482   3                  else
 483   3                      strcat(str, "NO\r\n");
 484   3                  strcat(str, "\tQuaternion: ");                
 485   3                  if ((c_mem.IMU_conf[IMU_connected[i]][3]))
 486   3                      strcat(str, "YES\r\n");
 487   3                  else
 488   3                      strcat(str, "NO\r\n");
 489   3                  strcat(str, "\tTemperature: ");
 490   3                  if ((c_mem.IMU_conf[IMU_connected[i]][4]))
 491   3                      strcat(str, "YES\r\n");
 492   3                  else
 493   3                      strcat(str, "NO\r\n");
 494   3                       
 495   3                  strcat(info_string, str);
 496   3              }       
 497   2              
 498   2              strcat(info_string, "\r\n");
 499   2              
 500   2              sprintf(str, "Time between two reading cycles: %.3f ms", (float)(((uint32)timer_value0 - (uint32)t
             -imer_value)/1000.0));
 501   2              strcat(info_string, str);
 502   2              strcat(info_string, "\r\n");
 503   2              strcat(info_string, "\r\n");
 504   2              
 505   2              sprintf(str, "debug: %ld", (uint32)timer_value0 - (uint32)timer_value); //5000001
 506   2              strcat(info_string, str);
 507   2              strcat(info_string, "\r\n");
 508   2              strcat(info_string, "\r\n");
 509   2          }
 510   1      }
 511          
 512          
 513          void infoReading(unsigned char* info_string)
 514          {
 515   1          int i;
 516   1          unsigned char str[100];
 517   1          
 518   1          strcpy(info_string, "");
 519   1          strcat(info_string, "\r\n");           
 520   1          strcat(info_string, "SENSORS INFO\r\n");
 521   1          for (i=0; i<N_IMU_Connected; i++){
 522   2              sprintf(str, "Imu %d \r\n\tID: %d\r\n", i, (int) IMU_connected[i]);
 523   2              strcat(info_string, str);
 524   2              
 525   2              if ((c_mem.IMU_conf[IMU_connected[i]][0])){
 526   3                  sprintf(str, "\tAcc: %d\t%d\t%d\r\n", (int16) g_imu[i].accel_value[0], (int16) g_imu[i].accel_
             -value[1],(int16) g_imu[i].accel_value[2]);
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 10  

 527   3                  strcat(info_string, str);
 528   3              }
 529   2      
 530   2              if ((c_mem.IMU_conf[IMU_connected[i]][1])){
 531   3                  sprintf(str, "\tGyro: %d\t%d\t%d\r\n", (int16) g_imu[i].gyro_value[0], (int16) g_imu[i].gyro_v
             -alue[1],(int16) g_imu[i].gyro_value[2]);
 532   3                  strcat(info_string, str);
 533   3              }
 534   2      
 535   2              if ((c_mem.IMU_conf[IMU_connected[i]][2])){
 536   3                  sprintf(str, "\tMag: %d\t%d\t%d\r\n", (int16) g_imu[i].mag_value[0], (int16) g_imu[i].mag_valu
             -e[1],(int16) g_imu[i].mag_value[2]);
 537   3                  strcat(info_string, str);
 538   3              }
 539   2              
 540   2              if ((c_mem.IMU_conf[IMU_connected[i]][3])){
 541   3                  sprintf(str, "\tQuat: %.3f\t%.3f\t%.3f\t%.3f\r\n", (float) g_imu[i].quat_value[0], (float) g_i
             -mu[i].quat_value[1],(float) g_imu[i].quat_value[2], (float) g_imu[i].quat_value[3]);
 542   3                  strcat(info_string, str);
 543   3              }
 544   2              
 545   2              if ((c_mem.IMU_conf[IMU_connected[i]][4])){
 546   3                  sprintf(str, "\tTemperature: %d\r\n", (int16) g_imu[i].temp_value);
 547   3                  strcat(info_string, str);
 548   3              }
 549   2          }
 550   1      }
 551          //==============================================================================
 552          //                                                      WRITE FUNCTION FOR RS485
 553          //==============================================================================
 554          
 555          void commWrite(uint8 *packet_data, const uint16 packet_lenght)
 556          {
 557   1          uint16 CYDATA index;
 558   1      
 559   1          // frame - start
 560   1          UART_RS485_PutChar(':');
 561   1          UART_RS485_PutChar(':');
 562   1          
 563   1          // frame - ID
 564   1          UART_RS485_PutChar(g_mem.id);
 565   1          
 566   1          // frame - length
 567   1          UART_RS485_PutChar((uint8)packet_lenght);
 568   1          
 569   1          // frame - packet data
 570   1          for(index = 0; index < packet_lenght; ++index)
 571   1              UART_RS485_PutChar(packet_data[index]);
 572   1          
 573   1          index = 0;
 574   1      
 575   1          while(!(UART_RS485_ReadTxStatus() & UART_RS485_TX_STS_COMPLETE) && index++ <= 1000){}
 576   1      
 577   1          RS485_CTS_Write(1);
 578   1          RS485_CTS_Write(0);
 579   1      }
 580          
 581          
 582          //==============================================================================
 583          //                                                             CHECKSUM FUNCTION
 584          //==============================================================================
 585          
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 11  

 586          // Performs a XOR byte by byte on the entire vector
 587          
 588          uint8 LCRChecksum(uint8 *data_array, uint8 data_length) {
 589   1          
 590   1          uint8 CYDATA i;
 591   1          uint8 CYDATA checksum = 0x00;
 592   1          
 593   1          for(i = 0; i < data_length; ++i)
 594   1             checksum ^= data_array[i];
 595   1        
 596   1          return checksum;
 597   1      }
 598          
 599          //==============================================================================
 600          //                                                       ACKNOWLEDGMENT FUNCTION
 601          //==============================================================================
 602          
 603          void sendAcknowledgment(const uint8 value) {
 604   1          int packet_lenght = 2;
 605   1          uint8 packet_data[2];
 606   1      
 607   1          packet_data[0] = value;
 608   1          packet_data[1] = value;
 609   1      
 610   1          commWrite(packet_data, packet_lenght);
 611   1      }
 612          
 613          //==============================================================================
 614          //                                                                  STORE MEMORY
 615          //==============================================================================
 616          
 617          /**
 618          * This function stores current memory settings on the eeprom with the specified
 619          * displacement
 620          **/
 621          
 622          uint8 memStore(int displacement)
 623          {
 624   1          int i;  // iterator
 625   1          uint8 writeStatus;
 626   1          int pages;
 627   1          uint8 ret_val = 1;
 628   1      
 629   1          // Disable Interrupt
 630   1          ISR_RS485_RX_Disable();
 631   1      
 632   1      
 633   1          // Retrieve temperature for better writing performance
 634   1          CySetTemp();
 635   1      
 636   1          memcpy( &c_mem, &g_mem, sizeof(g_mem) );
 637   1      
 638   1          pages = sizeof(g_mem) / 16 + (sizeof(g_mem) % 16 > 0);
 639   1      
 640   1          for(i = 0; i < pages; ++i) {
 641   2              writeStatus = EEPROM_Write(&g_mem.flag + 16 * i, i + displacement);
 642   2              if(writeStatus != CYRET_SUCCESS) {
 643   3                  ret_val = 0;
 644   3                  break;
 645   3              }
 646   2          }
 647   1      
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 12  

 648   1          memcpy( &g_mem, &c_mem, sizeof(g_mem) );
 649   1      
 650   1          // Re-Enable Interrupt
 651   1          ISR_RS485_RX_Enable();
 652   1      
 653   1          return ret_val;
 654   1      }
 655          
 656          
 657          //==============================================================================
 658          //                                                                 RECALL MEMORY
 659          //==============================================================================
 660          
 661          /**
 662          * This function loads user settings from the eeprom.
 663          **/
 664          
 665          void memRecall()
 666          {
 667   1          uint16 i;
 668   1      
 669   1          for (i = 0; i < sizeof(g_mem); i++) {
 670   2              ((reg8 *) &g_mem.flag)[i] = EEPROM_ADDR[i];
 671   2          }
 672   1      
 673   1          //check for initialization
 674   1          if (g_mem.flag == FALSE) {
 675   2              memRestore();
 676   2          } else {
 677   2              memcpy( &c_mem, &g_mem, sizeof(g_mem) );
 678   2          }
 679   1      }
 680          
 681          
 682          //==============================================================================
 683          //                                                                RESTORE MEMORY
 684          //==============================================================================
 685          
 686          /**
 687          * This function loads default settings from the eeprom.
 688          **/
 689          
 690          uint8 memRestore() {
 691   1          uint16 i;
 692   1      
 693   1          for (i = 0; i < sizeof(g_mem); i++) {
 694   2              ((reg8 *) &g_mem.flag)[i] = EEPROM_ADDR[i + (DEFAULT_EEPROM_DISPLACEMENT * 16)];
 695   2          }
 696   1      
 697   1          //check for initialization
 698   1          if (g_mem.flag == FALSE) {
 699   2              return memInit();
 700   2          } else {
 701   2              return memStore(0);
 702   2          }
 703   1      }
 704          
 705          //==============================================================================
 706          //                                                                   MEMORY INIT
 707          //==============================================================================
 708          
 709          /**
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 13  

 710          * This function initialize memory when eeprom is compromised.
 711          **/
 712          
 713          uint8 memInit()
 714          {
 715   1          uint8 i;
 716   1          //uint8 j;
 717   1          
 718   1          //initialize memory settings
 719   1          g_mem.id            = 1;
 720   1      
 721   1          
 722   1          // set the initialized flag to show EEPROM has been populated
 723   1          g_mem.flag = TRUE;
 724   1          
 725   1          // Default value
 726   1          for (i = 0; i< N_IMU_MAX; i++){
 727   2              g_mem.IMU_conf[i][0] = 1;
 728   2              g_mem.IMU_conf[i][1] = 1;
 729   2              g_mem.IMU_conf[i][2] = 0;
 730   2              g_mem.IMU_conf[i][3] = 0;
 731   2              g_mem.IMU_conf[i][4] = 0;
 732   2              //for (j=0; j< NUM_OF_DATA; j++) {
 733   2              //    g_mem.IMU_conf[i][j] = 0;
 734   2              //}
 735   2          }
 736   1          
 737   1          //write that configuration to EEPROM
 738   1          return ( memStore(0) && memStore(DEFAULT_EEPROM_DISPLACEMENT) );
 739   1      }
 740          
 741          //==============================================================================
 742          //                                                    ROUTINE INTERRUPT FUNCTION
 743          //==============================================================================
 744          /**
 745          * Bunch of functions used on request from UART communication
 746          **/
 747          
 748          void cmd_set_baudrate(){
 749   1          
 750   1          // Set BaudRate
 751   1          c_mem.baud_rate = g_rx.buffer[1];
 752   1          
 753   1          switch(g_rx.buffer[1]){
 754   2              case 13:
 755   2                  CLOCK_UART_SetDividerValue(13);
 756   2                  break;
 757   2              default:
 758   2                  CLOCK_UART_SetDividerValue(3);
 759   2          }
 760   1      }
 761          
 762          void cmd_ping(){
 763   1      
 764   1          uint8 packet_data[2];
 765   1      
 766   1          // Header
 767   1          packet_data[0] = CMD_PING;
 768   1          
 769   1          // Load Payload
 770   1          packet_data[1] = CMD_PING;
 771   1      
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 14  

 772   1          // Send Package to uart
 773   1          commWrite(packet_data, 2);
 774   1      }
 775          
 776          void cmd_store_params(){
 777   1         
 778   1          if(memStore(0))
 779   1              sendAcknowledgment(ACK_OK);
 780   1          else
 781   1              sendAcknowledgment(ACK_ERROR);
 782   1      }
 783          
 784          void cmd_get_imu_readings(){
 785   1          //Retrieve accelerometers, gyroscopes and magnetometers readings
 786   1          
 787   1          uint8 k_imu;
 788   1          uint8 c = 1;
 789   1          uint8 k = 0;
 790   1          uint8 gl_c = 1;
 791   1          
 792   1          // Packet: header + imu id(uint8) + imu flags(uint8) + crc  
 793   1          uint8 packet_data[350];
 794   1          uint8 single_packet[22];
 795   1          
 796   1          //Header package 
 797   1          packet_data[0] = CMD_GET_IMU_READINGS;
 798   1       
 799   1          for (k_imu = 0; k_imu < N_IMU_Connected; k_imu++) 
 800   1          {   
 801   2              
 802   2              single_packet[0] = (uint8) 0x3A; //':';
 803   2              if (c_mem.IMU_conf[IMU_connected[k_imu]][0]){
 804   3                  *((int16 *) &single_packet[c]) = (int16) g_imu[k_imu].accel_value[0];
 805   3                  *((int16 *) &single_packet[c+2]) = (int16) g_imu[k_imu].accel_value[1];
 806   3                  *((int16 *) &single_packet[c+4]) = (int16) g_imu[k_imu].accel_value[2];
 807   3                  c = c + 6;
 808   3              }
 809   2              if (c_mem.IMU_conf[IMU_connected[k_imu]][1]){
 810   3                  *((int16 *) &single_packet[c])   = (int16) g_imu[k_imu].gyro_value[0];
 811   3                  *((int16 *) &single_packet[c+2]) = (int16) g_imu[k_imu].gyro_value[1];
 812   3                  *((int16 *) &single_packet[c+4]) = (int16) g_imu[k_imu].gyro_value[2];
 813   3                  c = c + 6;
 814   3              }
 815   2              if (c_mem.IMU_conf[IMU_connected[k_imu]][2]){
 816   3                  *((int16 *) &single_packet[c])   = (int16) g_imu[k_imu].mag_value[0];
 817   3                  *((int16 *) &single_packet[c+2]) = (int16) g_imu[k_imu].mag_value[1];
 818   3                  *((int16 *) &single_packet[c+4]) = (int16) g_imu[k_imu].mag_value[2];
 819   3                  c = c + 6;
 820   3              }
 821   2              if (c_mem.IMU_conf[IMU_connected[k_imu]][3]){
 822   3                  *((float *) &single_packet[c])   = (float) g_imu[k_imu].quat_value[0];
 823   3                  *((float *) &single_packet[c+4]) = (float) g_imu[k_imu].quat_value[1];
 824   3                  *((float *) &single_packet[c+8]) = (float) g_imu[k_imu].quat_value[2];
 825   3                  *((float *) &single_packet[c+12]) = (float) g_imu[k_imu].quat_value[3];
 826   3                  c = c + 16;
 827   3              }
 828   2              if (c_mem.IMU_conf[IMU_connected[k_imu]][4]){
 829   3                  *((int16 *) &single_packet[c])   = (int16) g_imu[k_imu].temp_value;
 830   3                  c = c + 2;
 831   3              }
 832   2              single_packet[single_imu_size[IMU_connected[k_imu]] - 1] = (uint8) 0x3A; //':';
 833   2              c = 1;
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 15  

 834   2                     
 835   2              for(k=0; k < single_imu_size[IMU_connected[k_imu]]; k++) {
 836   3                  packet_data[gl_c + k] = (uint8) single_packet[k]; 
 837   3              }
 838   2              gl_c = gl_c + single_imu_size[IMU_connected[k_imu]];  
 839   2              
 840   2              memset(&single_packet, 0, sizeof(single_packet));     
 841   2              
 842   2          }
 843   1      
 844   1          // Calculate Checksum and send message to UART 
 845   1          packet_data[imus_data_size-1] = LCRChecksum (packet_data, imus_data_size-1);
 846   1          commWrite(packet_data, imus_data_size);
 847   1      }
 848          
 849          
 850          /* [] END OF FILE */
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 16  

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION commProcess (BEGIN)
                                           ; SOURCE LINE # 67
                                           ; SOURCE LINE # 71
0000 900000      E     MOV     DPTR,#g_rx
0003 E0                MOVX    A,@DPTR
0004 F500        R     MOV     rx_cmd,A
                                           ; SOURCE LINE # 75
0006 7B01              MOV     R3,#01H
0008 7A00        E     MOV     R2,#HIGH g_rx
000A 7900        E     MOV     R1,#LOW g_rx
000C 900000      E     MOV     DPTR,#g_rx+080H
000F E0                MOVX    A,@DPTR
0010 A3                INC     DPTR
0011 E0                MOVX    A,@DPTR
0012 14                DEC     A
0013 FD                MOV     R5,A
0014 120000      R     LCALL   _LCRChecksum
0017 900000      E     MOV     DPTR,#g_rx+080H
001A E0                MOVX    A,@DPTR
001B FC                MOV     R4,A
001C A3                INC     DPTR
001D E0                MOVX    A,@DPTR
001E 2400        E     ADD     A,#LOW g_rx+0FFFFH
0020 F582              MOV     DPL,A
0022 7400        E     MOV     A,#HIGH g_rx+0FFFFH
0024 3C                ADDC    A,R4
0025 F583              MOV     DPH,A
0027 E0                MOVX    A,@DPTR
0028 B50703            CJNE    A,AR7,?C0002
002B D3                SETB    C
002C 8001              SJMP    ?C0003
002E         ?C0002:
002E C3                CLR     C
002F         ?C0003:
002F 4006              JC      ?C0001
                                           ; SOURCE LINE # 77
0031 E4                CLR     A
0032 900000      E     MOV     DPTR,#g_rx+084H
0035 F0                MOVX    @DPTR,A
0036 22                RET     
                                           ; SOURCE LINE # 79
0037         ?C0001:
                                           ; SOURCE LINE # 82
0037 E500        R     MOV     A,rx_cmd
0039 120000      E     LCALL   ?C?CCASE
003C 0000        R     DW      ?C0009
003E 00                DB      00H
003F 0000        R     DW      ?C0010
0041 03                DB      03H
0042 0000        R     DW      ?C0011
0044 04                DB      04H
0045 0000        R     DW      ?C0014
0047 05                DB      05H
0048 0000        R     DW      ?C0007
004A 06                DB      06H
004B 0000        R     DW      ?C0020
004D 09                DB      09H
004E 0000        R     DW      ?C0017
0050 0A                DB      0AH
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 17  

0051 0000        R     DW      ?C0008
0053 0C                DB      0CH
0054 0000        R     DW      ?C0006
0056 8B                DB      08BH
0057 0000        R     DW      ?C0021
0059 A1                DB      0A1H
005A 0000              DW      00H
005C 0000        R     DW      ?C0004
                                           ; SOURCE LINE # 86
005E         ?C0006:
                                           ; SOURCE LINE # 87
005E 120000      R     LCALL   cmd_set_baudrate
                                           ; SOURCE LINE # 88
0061 22                RET     
                                           ; SOURCE LINE # 92
0062         ?C0007:
                                           ; SOURCE LINE # 93
0062 900000      E     MOV     DPTR,#g_rx+01H
0065 E0                MOVX    A,@DPTR
0066 FE                MOV     R6,A
0067 A3                INC     DPTR
0068 E0                MOVX    A,@DPTR
0069 FF                MOV     R7,A
006A 120000      R     LCALL   _infoGet
                                           ; SOURCE LINE # 94
006D 22                RET     
                                           ; SOURCE LINE # 98
006E         ?C0008:
                                           ; SOURCE LINE # 99
006E 900000      E     MOV     DPTR,#g_rx+01H
0071 E0                MOVX    A,@DPTR
0072 FE                MOV     R6,A
0073 A3                INC     DPTR
0074 E0                MOVX    A,@DPTR
0075 FF                MOV     R7,A
0076 120000      R     LCALL   _get_param_list
                                           ; SOURCE LINE # 100
0079 22                RET     
                                           ; SOURCE LINE # 104
007A         ?C0009:
                                           ; SOURCE LINE # 105
007A 120000      R     LCALL   cmd_ping
                                           ; SOURCE LINE # 106
007D 22                RET     
                                           ; SOURCE LINE # 110
007E         ?C0010:
                                           ; SOURCE LINE # 111
007E 120000      R     LCALL   cmd_store_params
                                           ; SOURCE LINE # 112
0081 22                RET     
                                           ; SOURCE LINE # 116
0082         ?C0011:
                                           ; SOURCE LINE # 117
0082 7F08              MOV     R7,#08H
0084 7E00              MOV     R6,#00H
0086 120000      R     LCALL   _memStore
0089 EF                MOV     A,R7
008A 6006              JZ      ?C0012
                                           ; SOURCE LINE # 118
008C 7F01              MOV     R7,#01H
008E 120000      R     LCALL   _sendAcknowledgment
0091 22                RET     
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 18  

0092         ?C0012:
                                           ; SOURCE LINE # 120
0092 E4                CLR     A
0093 FF                MOV     R7,A
0094 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 121
0097 22                RET     
                                           ; SOURCE LINE # 125
0098         ?C0014:
                                           ; SOURCE LINE # 126
0098 120000      R     LCALL   memRestore
009B EF                MOV     A,R7
009C 6006              JZ      ?C0015
                                           ; SOURCE LINE # 127
009E 7F01              MOV     R7,#01H
00A0 120000      R     LCALL   _sendAcknowledgment
00A3 22                RET     
00A4         ?C0015:
                                           ; SOURCE LINE # 129
00A4 E4                CLR     A
00A5 FF                MOV     R7,A
00A6 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 130
00A9 22                RET     
                                           ; SOURCE LINE # 134
00AA         ?C0017:
                                           ; SOURCE LINE # 135
00AA 120000      R     LCALL   memInit
00AD EF                MOV     A,R7
00AE 6006              JZ      ?C0018
                                           ; SOURCE LINE # 136
00B0 7F01              MOV     R7,#01H
00B2 120000      R     LCALL   _sendAcknowledgment
00B5 22                RET     
00B6         ?C0018:
                                           ; SOURCE LINE # 138
00B6 E4                CLR     A
00B7 FF                MOV     R7,A
00B8 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 139
00BB 22                RET     
                                           ; SOURCE LINE # 143
00BC         ?C0020:
                                           ; SOURCE LINE # 145
00BC 7F01              MOV     R7,#01H
00BE 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 146
00C1 E4                CLR     A
00C2 7FE8              MOV     R7,#0E8H
00C4 7E03              MOV     R6,#03H
00C6 FD                MOV     R5,A
00C7 FC                MOV     R4,A
00C8 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 147
00CB E4                CLR     A
00CC FF                MOV     R7,A
00CD 120000      E     LCALL   _FTDI_ENABLE_REG_Write
                                           ; SOURCE LINE # 148
00D0 E4                CLR     A
00D1 7FE8              MOV     R7,#0E8H
00D3 7E03              MOV     R6,#03H
00D5 FD                MOV     R5,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 19  

00D6 FC                MOV     R4,A
00D7 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 149
00DA 120000      E     LCALL   Bootloadable_Load
                                           ; SOURCE LINE # 150
00DD 22                RET     
                                           ; SOURCE LINE # 154
00DE         ?C0021:
                                           ; SOURCE LINE # 155
00DE 120000      R     LCALL   cmd_get_imu_readings
                                           ; SOURCE LINE # 156
                                           ; SOURCE LINE # 159
                                           ; SOURCE LINE # 160
                                           ; SOURCE LINE # 162
                                           ; SOURCE LINE # 163
00E1         ?C0004:
00E1 22                RET     
             ; FUNCTION commProcess (END)

             ; FUNCTION infoSend (BEGIN)
                                           ; SOURCE LINE # 170
                                           ; SOURCE LINE # 172
0000 7B01              MOV     R3,#01H
0002 7A00        R     MOV     R2,#HIGH packet_string
0004 7900        R     MOV     R1,#LOW packet_string
0006 120000      R     LCALL   _infoPrepare
                                           ; SOURCE LINE # 173
0009 7B01              MOV     R3,#01H
000B 7A00        R     MOV     R2,#HIGH packet_string
000D 7900        R     MOV     R1,#LOW packet_string
000F 120000      E     LCALL   _UART_RS485_PutString
                                           ; SOURCE LINE # 174
0012 22                RET     
             ; FUNCTION infoSend (END)

             ; FUNCTION _infoGet (BEGIN)
                                           ; SOURCE LINE # 181
;---- Variable 'info_type' assigned to Register 'R6/R7' ----
                                           ; SOURCE LINE # 186
0000 EE                MOV     A,R6
0001 702C              JNZ     ?C0028
0003 EF                MOV     A,R7
0004 14                DEC     A
0005 6016              JZ      ?C0026
0007 04                INC     A
0008 7025              JNZ     ?C0028
                                           ; SOURCE LINE # 187
000A         ?C0025:
                                           ; SOURCE LINE # 188
000A 7B01              MOV     R3,#01H
000C 7A00        R     MOV     R2,#HIGH packet_string
000E 7900        R     MOV     R1,#LOW packet_string
0010 120000      R     LCALL   _infoPrepare
                                           ; SOURCE LINE # 189
0013 7B01              MOV     R3,#01H
0015 7A00        R     MOV     R2,#HIGH packet_string
0017 7900        R     MOV     R1,#LOW packet_string
0019 120000      E     LCALL   _UART_RS485_PutString
                                           ; SOURCE LINE # 190
001C 22                RET     
                                           ; SOURCE LINE # 191
001D         ?C0026:
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 20  

                                           ; SOURCE LINE # 192
001D 7B01              MOV     R3,#01H
001F 7A00        R     MOV     R2,#HIGH packet_string
0021 7900        R     MOV     R1,#LOW packet_string
0023 120000      R     LCALL   _infoReading
                                           ; SOURCE LINE # 193
0026 7B01              MOV     R3,#01H
0028 7A00        R     MOV     R2,#HIGH packet_string
002A 7900        R     MOV     R1,#LOW packet_string
002C 120000      E     LCALL   _UART_RS485_PutString
                                           ; SOURCE LINE # 194
                                           ; SOURCE LINE # 195
                                           ; SOURCE LINE # 196
                                           ; SOURCE LINE # 197
                                           ; SOURCE LINE # 198
002F         ?C0028:
002F 22                RET     
             ; FUNCTION _infoGet (END)

             ; FUNCTION _get_param_list (BEGIN)
                                           ; SOURCE LINE # 204
0000 900000      R     MOV     DPTR,#index
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 205
                                           ; SOURCE LINE # 213
0008 7800        R     MOV     R0,#LOW packet_data
000A 7C00        R     MOV     R4,#HIGH packet_data
000C 7D01              MOV     R5,#01H
000E 7BFF              MOV     R3,#0FFH
0010 7A00        R     MOV     R2,#HIGH _?ix1000
0012 7900        R     MOV     R1,#LOW _?ix1000
0014 7E07              MOV     R6,#07H
0016 7F9F              MOV     R7,#09FH
0018 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 214
001B 900000      R     MOV     DPTR,#num_imus_id_params
001E E4                CLR     A
001F F0                MOVX    @DPTR,A
0020 A3                INC     DPTR
0021 7406              MOV     A,#06H
0023 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 215
0024 E4                CLR     A
0025 A3                INC     DPTR
0026 F0                MOVX    @DPTR,A
0027 A3                INC     DPTR
0028 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 216
0029 A3                INC     DPTR
002A F0                MOVX    @DPTR,A
002B A3                INC     DPTR
002C 7402              MOV     A,#02H
002E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 217
002F 7C00              MOV     R4,#00H
0031 7D32              MOV     R5,#032H
0033 7F00              MOV     R7,#00H
0035 7E00              MOV     R6,#00H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 21  

0037 120000      E     LCALL   ?C?IMUL
003A AA06              MOV     R2,AR6
003C AB07              MOV     R3,AR7
003E 7F06              MOV     R7,#06H
0040 7E00              MOV     R6,#00H
0042 120000      E     LCALL   ?C?IMUL
0045 EF                MOV     A,R7
0046 2B                ADD     A,R3
0047 FD                MOV     R5,A
0048 EE                MOV     A,R6
0049 3A                ADDC    A,R2
004A FC                MOV     R4,A
004B 900000      E     MOV     DPTR,#N_IMU_Connected
004E E0                MOVX    A,@DPTR
004F 75F032            MOV     B,#032H
0052 A4                MUL     AB
0053 FF                MOV     R7,A
0054 2D                ADD     A,R5
0055 FF                MOV     R7,A
0056 EC                MOV     A,R4
0057 35F0              ADDC    A,B
0059 CF                XCH     A,R7
005A 245F              ADD     A,#05FH
005C CF                XCH     A,R7
005D 3401              ADDC    A,#01H
005F 900000      R     MOV     DPTR,#packet_length
0062 F0                MOVX    @DPTR,A
0063 A3                INC     DPTR
0064 EF                MOV     A,R7
0065 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 226
0066 E4                CLR     A
0067 A3                INC     DPTR
0068 F0                MOVX    @DPTR,A
0069 A3                INC     DPTR
006A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 229
006B 7800        R     MOV     R0,#LOW n_imu_str
006D 7C00        R     MOV     R4,#HIGH n_imu_str
006F 7D01              MOV     R5,#01H
0071 7BFF              MOV     R3,#0FFH
0073 7A00        R     MOV     R2,#HIGH _?ix1001
0075 7900        R     MOV     R1,#LOW _?ix1001
0077 FE                MOV     R6,A
0078 7F1A              MOV     R7,#01AH
007A 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 230
007D 7800        R     MOV     R0,#LOW ids_str
007F 7C00        R     MOV     R4,#HIGH ids_str
0081 7D01              MOV     R5,#01H
0083 7BFF              MOV     R3,#0FFH
0085 7A00        R     MOV     R2,#HIGH _?ix1002
0087 7900        R     MOV     R1,#LOW _?ix1002
0089 7E00              MOV     R6,#00H
008B 7F0B              MOV     R7,#0BH
008D 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 231
0090 7800        R     MOV     R0,#LOW mag_param_str
0092 7C00        R     MOV     R4,#HIGH mag_param_str
0094 7D01              MOV     R5,#01H
0096 7BFF              MOV     R3,#0FFH
0098 7A00        R     MOV     R2,#HIGH _?ix1003
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 22  

009A 7900        R     MOV     R1,#LOW _?ix1003
009C 7E00              MOV     R6,#00H
009E 7F14              MOV     R7,#014H
00A0 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 232
00A3 7800        R     MOV     R0,#LOW id_str
00A5 7C00        R     MOV     R4,#HIGH id_str
00A7 7D01              MOV     R5,#01H
00A9 7BFF              MOV     R3,#0FFH
00AB 7A00        R     MOV     R2,#HIGH _?ix1004
00AD 7900        R     MOV     R1,#LOW _?ix1004
00AF 7E00              MOV     R6,#00H
00B1 7F10              MOV     R7,#010H
00B3 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 233
00B6 7800        R     MOV     R0,#LOW imu_table_str
00B8 7C00        R     MOV     R4,#HIGH imu_table_str
00BA 7D01              MOV     R5,#01H
00BC 7BFF              MOV     R3,#0FFH
00BE 7A00        R     MOV     R2,#HIGH _?ix1005
00C0 7900        R     MOV     R1,#LOW _?ix1005
00C2 7E00              MOV     R6,#00H
00C4 7F2A              MOV     R7,#02AH
00C6 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 234
00C9 7800        R     MOV     R0,#LOW spi_read_delay_str
00CB 7C00        R     MOV     R4,#HIGH spi_read_delay_str
00CD 7D01              MOV     R5,#01H
00CF 7BFF              MOV     R3,#0FFH
00D1 7A00        R     MOV     R2,#HIGH _?ix1006
00D3 7900        R     MOV     R1,#LOW _?ix1006
00D5 7E00              MOV     R6,#00H
00D7 7F1A              MOV     R7,#01AH
00D9 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 237
00DC 7B01              MOV     R3,#01H
00DE 7A00        R     MOV     R2,#HIGH id_str
00E0 7900        R     MOV     R1,#LOW id_str
00E2 120000      E     LCALL   _strlen
00E5 8F00        R     MOV     id_str_len,R7
                                           ; SOURCE LINE # 238
00E7 7B01              MOV     R3,#01H
00E9 7A00        R     MOV     R2,#HIGH n_imu_str
00EB 7900        R     MOV     R1,#LOW n_imu_str
00ED 120000      E     LCALL   _strlen
00F0 8F00        R     MOV     n_imu_str_len,R7
                                           ; SOURCE LINE # 239
00F2 7B01              MOV     R3,#01H
00F4 7A00        R     MOV     R2,#HIGH ids_str
00F6 7900        R     MOV     R1,#LOW ids_str
00F8 120000      E     LCALL   _strlen
00FB 8F00        R     MOV     ids_str_len,R7
                                           ; SOURCE LINE # 240
00FD 7B01              MOV     R3,#01H
00FF 7A00        R     MOV     R2,#HIGH mag_param_str
0101 7900        R     MOV     R1,#LOW mag_param_str
0103 120000      E     LCALL   _strlen
0106 8F00        R     MOV     mag_param_str_len,R7
                                           ; SOURCE LINE # 241
0108 7B01              MOV     R3,#01H
010A 7A00        R     MOV     R2,#HIGH imu_table_str
010C 7900        R     MOV     R1,#LOW imu_table_str
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 23  

010E 120000      E     LCALL   _strlen
0111 8F00        R     MOV     imu_table_str_len,R7
                                           ; SOURCE LINE # 242
0113 7B01              MOV     R3,#01H
0115 7A00        R     MOV     R2,#HIGH spi_read_delay_str
0117 7900        R     MOV     R1,#LOW spi_read_delay_str
0119 120000      E     LCALL   _strlen
011C 8F00        R     MOV     spi_read_delay_str_len,R7
                                           ; SOURCE LINE # 244
011E 7800        R     MOV     R0,#LOW spi_delay_menu
0120 7C00        R     MOV     R4,#HIGH spi_delay_menu
0122 7D01              MOV     R5,#01H
0124 7BFF              MOV     R3,#0FFH
0126 7A00        R     MOV     R2,#HIGH _?ix1007
0128 7900        R     MOV     R1,#LOW _?ix1007
012A 7E00              MOV     R6,#00H
012C 7F76              MOV     R7,#076H
012E 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 247
0131 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0134 74FF              MOV     A,#0FFH
0136 F0                MOVX    @DPTR,A
0137 A3                INC     DPTR
0138 7400        R     MOV     A,#HIGH ?SC_0
013A F0                MOVX    @DPTR,A
013B A3                INC     DPTR
013C 7400        R     MOV     A,#LOW ?SC_0
013E F0                MOVX    @DPTR,A
013F A3                INC     DPTR
0140 E4                CLR     A
0141 F0                MOVX    @DPTR,A
0142 A3                INC     DPTR
0143 740A              MOV     A,#0AH
0145 F0                MOVX    @DPTR,A
0146 A3                INC     DPTR
0147 E4                CLR     A
0148 F0                MOVX    @DPTR,A
0149 A3                INC     DPTR
014A 7464              MOV     A,#064H
014C F0                MOVX    @DPTR,A
014D 7B01              MOV     R3,#01H
014F 7A00        R     MOV     R2,#HIGH spi_delay_menu
0151 7900        R     MOV     R1,#LOW spi_delay_menu
0153 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 248
0156 7B01              MOV     R3,#01H
0158 7A00        R     MOV     R2,#HIGH spi_delay_menu
015A 7900        R     MOV     R1,#LOW spi_delay_menu
015C 120000      E     LCALL   _strlen
015F 8F00        R     MOV     spi_delay_menu_len,R7
                                           ; SOURCE LINE # 252
0161 900000      E     MOV     DPTR,#N_IMU_Connected
0164 E0                MOVX    A,@DPTR
0165 FD                MOV     R5,A
0166 C3                CLR     C
0167 13                RRC     A
0168 FF                MOV     R7,A
0169 900000      R     MOV     DPTR,#num_mag_cal_params
016C E4                CLR     A
016D F0                MOVX    @DPTR,A
016E A3                INC     DPTR
016F EF                MOV     A,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 24  

0170 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 253
0171 900000      R     MOV     DPTR,#num_mag_cal_params
0174 E0                MOVX    A,@DPTR
0175 FE                MOV     R6,A
0176 A3                INC     DPTR
0177 E0                MOVX    A,@DPTR
0178 25E0              ADD     A,ACC
017A FF                MOV     R7,A
017B EE                MOV     A,R6
017C 33                RLC     A
017D FE                MOV     R6,A
017E C3                CLR     C
017F ED                MOV     A,R5
0180 9F                SUBB    A,R7
0181 FF                MOV     R7,A
0182 E4                CLR     A
0183 9E                SUBB    A,R6
0184 FE                MOV     R6,A
0185 D3                SETB    C
0186 EF                MOV     A,R7
0187 9400              SUBB    A,#00H
0189 EE                MOV     A,R6
018A 9400              SUBB    A,#00H
018C 400B              JC      ?C0029
018E E0                MOVX    A,@DPTR
018F 04                INC     A
0190 F0                MOVX    @DPTR,A
0191 7006              JNZ     ?C0164
0193 900000      R     MOV     DPTR,#num_mag_cal_params
0196 E0                MOVX    A,@DPTR
0197 04                INC     A
0198 F0                MOVX    @DPTR,A
0199         ?C0164:
0199         ?C0029:
                                           ; SOURCE LINE # 259
0199 900000      R     MOV     DPTR,#num_mag_cal_params
019C E0                MOVX    A,@DPTR
019D FE                MOV     R6,A
019E A3                INC     DPTR
019F E0                MOVX    A,@DPTR
01A0 FF                MOV     R7,A
01A1 7C00              MOV     R4,#00H
01A3 7D32              MOV     R5,#032H
01A5 120000      E     LCALL   ?C?IMUL
01A8 AA06              MOV     R2,AR6
01AA AB07              MOV     R3,AR7
01AC 900000      R     MOV     DPTR,#num_imus_id_params
01AF E0                MOVX    A,@DPTR
01B0 FE                MOV     R6,A
01B1 A3                INC     DPTR
01B2 E0                MOVX    A,@DPTR
01B3 FF                MOV     R7,A
01B4 120000      E     LCALL   ?C?IMUL
01B7 EF                MOV     A,R7
01B8 2B                ADD     A,R3
01B9 FD                MOV     R5,A
01BA EE                MOV     A,R6
01BB 3A                ADDC    A,R2
01BC FC                MOV     R4,A
01BD 900000      E     MOV     DPTR,#N_IMU_Connected
01C0 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 25  

01C1 F9                MOV     R1,A
01C2 75F032            MOV     B,#032H
01C5 A4                MUL     AB
01C6 FF                MOV     R7,A
01C7 2D                ADD     A,R5
01C8 FF                MOV     R7,A
01C9 EC                MOV     A,R4
01CA 35F0              ADDC    A,B
01CC CF                XCH     A,R7
01CD 242D              ADD     A,#02DH
01CF CF                XCH     A,R7
01D0 3401              ADDC    A,#01H
01D2 900000      R     MOV     DPTR,#packet_length
01D5 F0                MOVX    @DPTR,A
01D6 A3                INC     DPTR
01D7 EF                MOV     A,R7
01D8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 262
01D9 900000      R     MOV     DPTR,#num_mag_cal_params
01DC E0                MOVX    A,@DPTR
01DD FA                MOV     R2,A
01DE A3                INC     DPTR
01DF E0                MOVX    A,@DPTR
01E0 FB                MOV     R3,A
01E1 900000      R     MOV     DPTR,#num_imus_id_params
01E4 E0                MOVX    A,@DPTR
01E5 FC                MOV     R4,A
01E6 A3                INC     DPTR
01E7 E0                MOVX    A,@DPTR
01E8 FD                MOV     R5,A
01E9 EB                MOV     A,R3
01EA 2D                ADD     A,R5
01EB FF                MOV     R7,A
01EC EA                MOV     A,R2
01ED 3C                ADDC    A,R4
01EE CF                XCH     A,R7
01EF 2403              ADD     A,#03H
01F1 CF                XCH     A,R7
01F2 3400              ADDC    A,#00H
01F4 900000      R     MOV     DPTR,#first_imu_parameter
01F7 F0                MOVX    @DPTR,A
01F8 A3                INC     DPTR
01F9 EF                MOV     A,R7
01FA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 263
01FB 900000      R     MOV     DPTR,#packet_data
01FE 740C              MOV     A,#0CH
0200 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 264
0201 ED                MOV     A,R5
0202 2B                ADD     A,R3
0203 FF                MOV     R7,A
0204 E9                MOV     A,R1
0205 2F                ADD     A,R7
0206 2403              ADD     A,#03H
0208 A3                INC     DPTR
0209 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 266
020A 900000      R     MOV     DPTR,#index
020D E0                MOVX    A,@DPTR
020E FE                MOV     R6,A
020F A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 26  

0210 E0                MOVX    A,@DPTR
0211 FF                MOV     R7,A
0212 6003              JZ      $ + 5H
0214 020000      R     LJMP    ?C0077
0217 EE                MOV     A,R6
0218 6003              JZ      $ + 5H
021A 020000      R     LJMP    ?C0077
                                           ; SOURCE LINE # 267
021D         ?C0031:
                                           ; SOURCE LINE # 269
021D E4                CLR     A
021E 900000      R     MOV     DPTR,#start_byte
0221 F0                MOVX    @DPTR,A
0222 A3                INC     DPTR
0223 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 270
0224 900000      R     MOV     DPTR,#packet_data+02H
0227 7402              MOV     A,#02H
0229 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 271
022A A3                INC     DPTR
022B 14                DEC     A
022C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 272
022D 900000      E     MOV     DPTR,#N_IMU_Connected
0230 E0                MOVX    A,@DPTR
0231 900000      R     MOV     DPTR,#packet_data+04H
0234 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 273
0235 750000      R     MOV     i,#00H
0238 850000      R     MOV     i+01H,n_imu_str_len
023B         ?C0032:
023B E500        R     MOV     A,i+01H
023D 4500        R     ORL     A,i
023F 602C              JZ      ?C0033
                                           ; SOURCE LINE # 274
0241 C3                CLR     C
0242 E500        R     MOV     A,n_imu_str_len
0244 9500        R     SUBB    A,i+01H
0246 FF                MOV     R7,A
0247 E4                CLR     A
0248 9500        R     SUBB    A,i
024A FE                MOV     R6,A
024B 7400        R     MOV     A,#LOW n_imu_str
024D 2F                ADD     A,R7
024E F582              MOV     DPL,A
0250 7400        R     MOV     A,#HIGH n_imu_str
0252 3E                ADDC    A,R6
0253 F583              MOV     DPH,A
0255 E0                MOVX    A,@DPTR
0256 FD                MOV     R5,A
0257 7400        R     MOV     A,#LOW packet_data+05H
0259 2F                ADD     A,R7
025A F582              MOV     DPL,A
025C 7400        R     MOV     A,#HIGH packet_data+05H
025E 3E                ADDC    A,R6
025F F583              MOV     DPH,A
0261 ED                MOV     A,R5
0262 F0                MOVX    @DPTR,A
0263 E500        R     MOV     A,i+01H
0265 1500        R     DEC     i+01H
0267 7002              JNZ     ?C0165
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 27  

0269 1500        R     DEC     i
026B         ?C0165:
026B 80CE              SJMP    ?C0032
026D         ?C0033:
                                           ; SOURCE LINE # 277
026D 900000      R     MOV     DPTR,#start_byte+01H
0270 E0                MOVX    A,@DPTR
0271 2432              ADD     A,#032H
0273 F0                MOVX    @DPTR,A
0274 900000      R     MOV     DPTR,#start_byte
0277 E0                MOVX    A,@DPTR
0278 3400              ADDC    A,#00H
027A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 278
027B E4                CLR     A
027C F500        R     MOV     i,A
027E F500        R     MOV     i+01H,A
                                           ; SOURCE LINE # 279
0280 F500        R     MOV     k,A
0282 F500        R     MOV     k+01H,A
0284         ?C0035:
0284 900000      R     MOV     DPTR,#num_imus_id_params
0287 E0                MOVX    A,@DPTR
0288 FE                MOV     R6,A
0289 A3                INC     DPTR
028A E0                MOVX    A,@DPTR
028B D3                SETB    C
028C 9500        R     SUBB    A,k+01H
028E EE                MOV     A,R6
028F 9500        R     SUBB    A,k
0291 5003              JNC     $ + 5H
0293 020000      R     LJMP    ?C0036
                                           ; SOURCE LINE # 280
0296 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0299 74FF              MOV     A,#0FFH
029B F0                MOVX    @DPTR,A
029C A3                INC     DPTR
029D 7400        R     MOV     A,#HIGH ?SC_116
029F F0                MOVX    @DPTR,A
02A0 A3                INC     DPTR
02A1 7400        R     MOV     A,#LOW ?SC_116
02A3 F0                MOVX    @DPTR,A
02A4 A3                INC     DPTR
02A5 E500        R     MOV     A,k
02A7 F0                MOVX    @DPTR,A
02A8 A3                INC     DPTR
02A9 E500        R     MOV     A,k+01H
02AB F0                MOVX    @DPTR,A
02AC 7B01              MOV     R3,#01H
02AE 7A00        R     MOV     R2,#HIGH ids_str
02B0 7900        R     MOV     R1,#LOW ids_str
02B2 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 281
02B5 750000      R     MOV     h,#00H
02B8 750004      R     MOV     h+01H,#04H
                                           ; SOURCE LINE # 282
02BB 7B01              MOV     R3,#01H
02BD 7A00        R     MOV     R2,#HIGH ids_str
02BF 7900        R     MOV     R1,#LOW ids_str
02C1 120000      E     LCALL   _strlen
02C4 8F00        R     MOV     ids_str_len,R7
                                           ; SOURCE LINE # 283
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 28  

02C6 900000      R     MOV     DPTR,#start_byte
02C9 E0                MOVX    A,@DPTR
02CA FE                MOV     R6,A
02CB A3                INC     DPTR
02CC E0                MOVX    A,@DPTR
02CD FF                MOV     R7,A
02CE 850082      R     MOV     DPL,k+01H
02D1 850083      R     MOV     DPH,k
02D4 7432              MOV     A,#032H
02D6 120000      E     LCALL   ?C?OFFX256
02D9 E582              MOV     A,DPL
02DB 2F                ADD     A,R7
02DC F582              MOV     DPL,A
02DE E583              MOV     A,DPH
02E0 3E                ADDC    A,R6
02E1 F583              MOV     DPH,A
02E3 E582              MOV     A,DPL
02E5 2400        R     ADD     A,#LOW packet_data+02H
02E7 F582              MOV     DPL,A
02E9 E583              MOV     A,DPH
02EB 3400        R     ADDC    A,#HIGH packet_data+02H
02ED F583              MOV     DPH,A
02EF 7402              MOV     A,#02H
02F1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 284
02F2 850082      R     MOV     DPL,k+01H
02F5 850083      R     MOV     DPH,k
02F8 7432              MOV     A,#032H
02FA 120000      E     LCALL   ?C?OFFX256
02FD E582              MOV     A,DPL
02FF 2F                ADD     A,R7
0300 F582              MOV     DPL,A
0302 E583              MOV     A,DPH
0304 3E                ADDC    A,R6
0305 F583              MOV     DPH,A
0307 E582              MOV     A,DPL
0309 2400        R     ADD     A,#LOW packet_data+03H
030B F582              MOV     DPL,A
030D E583              MOV     A,DPH
030F 3400        R     ADDC    A,#HIGH packet_data+03H
0311 F583              MOV     DPH,A
0313 7403              MOV     A,#03H
0315 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 286
0316 AE00        R     MOV     R6,k
0318 AF00        R     MOV     R7,k+01H
031A 7C00              MOV     R4,#00H
031C FD                MOV     R5,A
031D 120000      E     LCALL   ?C?IMUL
0320 8E00        R     MOV     j,R6
0322 8F00        R     MOV     j+01H,R7
0324         ?C0038:
0324 AE00        R     MOV     R6,k
0326 AF00        R     MOV     R7,k+01H
0328 7C00              MOV     R4,#00H
032A 7D03              MOV     R5,#03H
032C 120000      E     LCALL   ?C?IMUL
032F EF                MOV     A,R7
0330 2402              ADD     A,#02H
0332 FF                MOV     R7,A
0333 E4                CLR     A
0334 3E                ADDC    A,R6
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 29  

0335 FE                MOV     R6,A
0336 D3                SETB    C
0337 E500        R     MOV     A,j+01H
0339 9F                SUBB    A,R7
033A E500        R     MOV     A,j
033C 9E                SUBB    A,R6
033D 4003              JC      $ + 5H
033F 020000      R     LJMP    ?C0039
                                           ; SOURCE LINE # 287
0342 7400        E     MOV     A,#LOW IMU_connected
0344 2500        R     ADD     A,i+01H
0346 F582              MOV     DPL,A
0348 7400        E     MOV     A,#HIGH IMU_connected
034A 3500        R     ADDC    A,i
034C F583              MOV     DPH,A
034E E0                MOVX    A,@DPTR
034F F9                MOV     R1,A
0350 B50047            CJNE    A,j+01H,?C0041
0353 E4                CLR     A
0354 B50043            CJNE    A,j,?C0041
                                           ; SOURCE LINE # 288
0357 900000      R     MOV     DPTR,#start_byte
035A E0                MOVX    A,@DPTR
035B FE                MOV     R6,A
035C A3                INC     DPTR
035D E0                MOVX    A,@DPTR
035E 2500        R     ADD     A,h+01H
0360 FF                MOV     R7,A
0361 E500        R     MOV     A,h
0363 3E                ADDC    A,R6
0364 FE                MOV     R6,A
0365 850082      R     MOV     DPL,k+01H
0368 850083      R     MOV     DPH,k
036B 7432              MOV     A,#032H
036D 120000      E     LCALL   ?C?OFFX256
0370 E582              MOV     A,DPL
0372 2F                ADD     A,R7
0373 F582              MOV     DPL,A
0375 E583              MOV     A,DPH
0377 3E                ADDC    A,R6
0378 F583              MOV     DPH,A
037A E582              MOV     A,DPL
037C 2400        R     ADD     A,#LOW packet_data
037E F582              MOV     DPL,A
0380 E583              MOV     A,DPH
0382 3400        R     ADDC    A,#HIGH packet_data
0384 F583              MOV     DPH,A
0386 E9                MOV     A,R1
0387 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 289
0388 0500        R     INC     i+01H
038A E500        R     MOV     A,i+01H
038C 7002              JNZ     ?C0167
038E 0500        R     INC     i
0390         ?C0167:
                                           ; SOURCE LINE # 290
0390 0500        R     INC     h+01H
0392 E500        R     MOV     A,h+01H
0394 7002              JNZ     ?C0168
0396 0500        R     INC     h
0398         ?C0168:
                                           ; SOURCE LINE # 291
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 30  

0398 8031              SJMP    ?C0040
039A         ?C0041:
                                           ; SOURCE LINE # 292
                                           ; SOURCE LINE # 293
039A 900000      R     MOV     DPTR,#start_byte
039D E0                MOVX    A,@DPTR
039E FE                MOV     R6,A
039F A3                INC     DPTR
03A0 E0                MOVX    A,@DPTR
03A1 2500        R     ADD     A,h+01H
03A3 FF                MOV     R7,A
03A4 E500        R     MOV     A,h
03A6 3E                ADDC    A,R6
03A7 FE                MOV     R6,A
03A8 850082      R     MOV     DPL,k+01H
03AB 850083      R     MOV     DPH,k
03AE 7432              MOV     A,#032H
03B0 120000      E     LCALL   ?C?OFFX256
03B3 E582              MOV     A,DPL
03B5 2F                ADD     A,R7
03B6 F582              MOV     DPL,A
03B8 E583              MOV     A,DPH
03BA 3E                ADDC    A,R6
03BB F583              MOV     DPH,A
03BD E582              MOV     A,DPL
03BF 2400        R     ADD     A,#LOW packet_data
03C1 F582              MOV     DPL,A
03C3 E583              MOV     A,DPH
03C5 3400        R     ADDC    A,#HIGH packet_data
03C7 F583              MOV     DPH,A
03C9 E4                CLR     A
03CA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 294
                                           ; SOURCE LINE # 295
03CB         ?C0040:
03CB 0500        R     INC     j+01H
03CD E500        R     MOV     A,j+01H
03CF 7002              JNZ     ?C0169
03D1 0500        R     INC     j
03D3         ?C0169:
03D3 020000      R     LJMP    ?C0038
03D6         ?C0039:
                                           ; SOURCE LINE # 298
03D6 750000      R     MOV     j,#00H
03D9 850000      R     MOV     j+01H,ids_str_len
03DC         ?C0043:
03DC E500        R     MOV     A,j+01H
03DE 4500        R     ORL     A,j
03E0 6055              JZ      ?C0037
                                           ; SOURCE LINE # 299
03E2 C3                CLR     C
03E3 E500        R     MOV     A,ids_str_len
03E5 9500        R     SUBB    A,j+01H
03E7 FF                MOV     R7,A
03E8 E4                CLR     A
03E9 9500        R     SUBB    A,j
03EB FE                MOV     R6,A
03EC 7400        R     MOV     A,#LOW ids_str
03EE 2F                ADD     A,R7
03EF F582              MOV     DPL,A
03F1 7400        R     MOV     A,#HIGH ids_str
03F3 3E                ADDC    A,R6
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 31  

03F4 F583              MOV     DPH,A
03F6 E0                MOVX    A,@DPTR
03F7 FB                MOV     R3,A
03F8 AE00        R     MOV     R6,k
03FA AF00        R     MOV     R7,k+01H
03FC 7C00              MOV     R4,#00H
03FE 7D32              MOV     R5,#032H
0400 120000      E     LCALL   ?C?IMUL
0403 900000      R     MOV     DPTR,#start_byte
0406 E0                MOVX    A,@DPTR
0407 FC                MOV     R4,A
0408 A3                INC     DPTR
0409 E0                MOVX    A,@DPTR
040A 2F                ADD     A,R7
040B FF                MOV     R7,A
040C EC                MOV     A,R4
040D 3E                ADDC    A,R6
040E FE                MOV     R6,A
040F 7C00              MOV     R4,#00H
0411 EF                MOV     A,R7
0412 2500        R     ADD     A,ids_str_len
0414 FF                MOV     R7,A
0415 EC                MOV     A,R4
0416 3E                ADDC    A,R6
0417 FE                MOV     R6,A
0418 C3                CLR     C
0419 EF                MOV     A,R7
041A 9500        R     SUBB    A,j+01H
041C FF                MOV     R7,A
041D EE                MOV     A,R6
041E 9500        R     SUBB    A,j
0420 FE                MOV     R6,A
0421 7400        R     MOV     A,#LOW packet_data+07H
0423 2F                ADD     A,R7
0424 F582              MOV     DPL,A
0426 7400        R     MOV     A,#HIGH packet_data+07H
0428 3E                ADDC    A,R6
0429 F583              MOV     DPH,A
042B EB                MOV     A,R3
042C F0                MOVX    @DPTR,A
042D E500        R     MOV     A,j+01H
042F 1500        R     DEC     j+01H
0431 7002              JNZ     ?C0170
0433 1500        R     DEC     j
0435         ?C0170:
0435 80A5              SJMP    ?C0043
                                           ; SOURCE LINE # 300
0437         ?C0037:
0437 0500        R     INC     k+01H
0439 E500        R     MOV     A,k+01H
043B 7002              JNZ     ?C0171
043D 0500        R     INC     k
043F         ?C0171:
043F 020000      R     LJMP    ?C0035
0442         ?C0036:
                                           ; SOURCE LINE # 303
0442 900000      R     MOV     DPTR,#num_imus_id_params
0445 E0                MOVX    A,@DPTR
0446 FE                MOV     R6,A
0447 A3                INC     DPTR
0448 E0                MOVX    A,@DPTR
0449 FF                MOV     R7,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 32  

044A 7C00              MOV     R4,#00H
044C 7D32              MOV     R5,#032H
044E 120000      E     LCALL   ?C?IMUL
0451 900000      R     MOV     DPTR,#start_byte+01H
0454 E0                MOVX    A,@DPTR
0455 2F                ADD     A,R7
0456 F0                MOVX    @DPTR,A
0457 900000      R     MOV     DPTR,#start_byte
045A E0                MOVX    A,@DPTR
045B 3E                ADDC    A,R6
045C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 304
045D E4                CLR     A
045E F500        R     MOV     k,A
0460 F500        R     MOV     k+01H,A
0462         ?C0046:
0462 900000      R     MOV     DPTR,#num_mag_cal_params
0465 E0                MOVX    A,@DPTR
0466 FE                MOV     R6,A
0467 A3                INC     DPTR
0468 E0                MOVX    A,@DPTR
0469 D3                SETB    C
046A 9500        R     SUBB    A,k+01H
046C EE                MOV     A,R6
046D 9500        R     SUBB    A,k
046F 5003              JNC     $ + 5H
0471 020000      R     LJMP    ?C0047
                                           ; SOURCE LINE # 305
0474 900000      R     MOV     DPTR,#start_byte
0477 E0                MOVX    A,@DPTR
0478 FE                MOV     R6,A
0479 A3                INC     DPTR
047A E0                MOVX    A,@DPTR
047B FF                MOV     R7,A
047C 850082      R     MOV     DPL,k+01H
047F 850083      R     MOV     DPH,k
0482 7432              MOV     A,#032H
0484 120000      E     LCALL   ?C?OFFX256
0487 E582              MOV     A,DPL
0489 2F                ADD     A,R7
048A F582              MOV     DPL,A
048C E583              MOV     A,DPH
048E 3E                ADDC    A,R6
048F F583              MOV     DPH,A
0491 E582              MOV     A,DPL
0493 2400        R     ADD     A,#LOW packet_data+02H
0495 F582              MOV     DPL,A
0497 E583              MOV     A,DPH
0499 3400        R     ADDC    A,#HIGH packet_data+02H
049B F583              MOV     DPH,A
049D 7402              MOV     A,#02H
049F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 307
04A0 850082      R     MOV     DPL,k+01H
04A3 850083      R     MOV     DPH,k
04A6 7432              MOV     A,#032H
04A8 120000      E     LCALL   ?C?OFFX256
04AB E582              MOV     A,DPL
04AD 2F                ADD     A,R7
04AE F582              MOV     DPL,A
04B0 E583              MOV     A,DPH
04B2 3E                ADDC    A,R6
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 33  

04B3 F583              MOV     DPH,A
04B5 E582              MOV     A,DPL
04B7 2400        R     ADD     A,#LOW packet_data+03H
04B9 F582              MOV     DPL,A
04BB E583              MOV     A,DPH
04BD 3400        R     ADDC    A,#HIGH packet_data+03H
04BF F583              MOV     DPH,A
04C1 7403              MOV     A,#03H
04C3 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 308
04C4 E500        R     MOV     A,k+01H
04C6 25E0              ADD     A,ACC
04C8 FF                MOV     R7,A
04C9 E500        R     MOV     A,k
04CB 33                RLC     A
04CC FE                MOV     R6,A
04CD 7400        E     MOV     A,#LOW IMU_connected
04CF 2F                ADD     A,R7
04D0 F582              MOV     DPL,A
04D2 7400        E     MOV     A,#HIGH IMU_connected
04D4 3E                ADDC    A,R6
04D5 F583              MOV     DPH,A
04D7 E0                MOVX    A,@DPTR
04D8 75F003            MOV     B,#03H
04DB A4                MUL     AB
04DC 2400        E     ADD     A,#LOW MagCal
04DE F582              MOV     DPL,A
04E0 E4                CLR     A
04E1 3400        E     ADDC    A,#HIGH MagCal
04E3 F583              MOV     DPH,A
04E5 E0                MOVX    A,@DPTR
04E6 FF                MOV     R7,A
04E7 900000      R     MOV     DPTR,#start_byte
04EA E0                MOVX    A,@DPTR
04EB FC                MOV     R4,A
04EC A3                INC     DPTR
04ED E0                MOVX    A,@DPTR
04EE FD                MOV     R5,A
04EF 850082      R     MOV     DPL,k+01H
04F2 850083      R     MOV     DPH,k
04F5 7432              MOV     A,#032H
04F7 120000      E     LCALL   ?C?OFFX256
04FA E582              MOV     A,DPL
04FC 2D                ADD     A,R5
04FD F582              MOV     DPL,A
04FF E583              MOV     A,DPH
0501 3C                ADDC    A,R4
0502 F583              MOV     DPH,A
0504 E582              MOV     A,DPL
0506 2400        R     ADD     A,#LOW packet_data+04H
0508 F582              MOV     DPL,A
050A E583              MOV     A,DPH
050C 3400        R     ADDC    A,#HIGH packet_data+04H
050E F583              MOV     DPH,A
0510 EF                MOV     A,R7
0511 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 309
0512 E500        R     MOV     A,k+01H
0514 25E0              ADD     A,ACC
0516 FF                MOV     R7,A
0517 E500        R     MOV     A,k
0519 33                RLC     A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 34  

051A FE                MOV     R6,A
051B 7400        E     MOV     A,#LOW IMU_connected
051D 2F                ADD     A,R7
051E F582              MOV     DPL,A
0520 7400        E     MOV     A,#HIGH IMU_connected
0522 3E                ADDC    A,R6
0523 F583              MOV     DPH,A
0525 E0                MOVX    A,@DPTR
0526 75F003            MOV     B,#03H
0529 A4                MUL     AB
052A 2400        E     ADD     A,#LOW MagCal+01H
052C F582              MOV     DPL,A
052E E4                CLR     A
052F 3400        E     ADDC    A,#HIGH MagCal+01H
0531 F583              MOV     DPH,A
0533 E0                MOVX    A,@DPTR
0534 FF                MOV     R7,A
0535 850082      R     MOV     DPL,k+01H
0538 850083      R     MOV     DPH,k
053B 7432              MOV     A,#032H
053D 120000      E     LCALL   ?C?OFFX256
0540 E582              MOV     A,DPL
0542 2D                ADD     A,R5
0543 F582              MOV     DPL,A
0545 E583              MOV     A,DPH
0547 3C                ADDC    A,R4
0548 F583              MOV     DPH,A
054A E582              MOV     A,DPL
054C 2400        R     ADD     A,#LOW packet_data+05H
054E F582              MOV     DPL,A
0550 E583              MOV     A,DPH
0552 3400        R     ADDC    A,#HIGH packet_data+05H
0554 F583              MOV     DPH,A
0556 EF                MOV     A,R7
0557 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 310
0558 E500        R     MOV     A,k+01H
055A 25E0              ADD     A,ACC
055C FF                MOV     R7,A
055D E500        R     MOV     A,k
055F 33                RLC     A
0560 FE                MOV     R6,A
0561 7400        E     MOV     A,#LOW IMU_connected
0563 2F                ADD     A,R7
0564 F582              MOV     DPL,A
0566 7400        E     MOV     A,#HIGH IMU_connected
0568 3E                ADDC    A,R6
0569 F583              MOV     DPH,A
056B E0                MOVX    A,@DPTR
056C 75F003            MOV     B,#03H
056F A4                MUL     AB
0570 2400        E     ADD     A,#LOW MagCal+02H
0572 F582              MOV     DPL,A
0574 E4                CLR     A
0575 3400        E     ADDC    A,#HIGH MagCal+02H
0577 F583              MOV     DPH,A
0579 E0                MOVX    A,@DPTR
057A FF                MOV     R7,A
057B 850082      R     MOV     DPL,k+01H
057E 850083      R     MOV     DPH,k
0581 7432              MOV     A,#032H
0583 120000      E     LCALL   ?C?OFFX256
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 35  

0586 E582              MOV     A,DPL
0588 2D                ADD     A,R5
0589 F582              MOV     DPL,A
058B E583              MOV     A,DPH
058D 3C                ADDC    A,R4
058E F583              MOV     DPH,A
0590 E582              MOV     A,DPL
0592 2400        R     ADD     A,#LOW packet_data+06H
0594 F582              MOV     DPL,A
0596 E583              MOV     A,DPH
0598 3400        R     ADDC    A,#HIGH packet_data+06H
059A F583              MOV     DPH,A
059C EF                MOV     A,R7
059D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 313
059E E500        R     MOV     A,k+01H
05A0 2401              ADD     A,#01H
05A2 FF                MOV     R7,A
05A3 E4                CLR     A
05A4 3500        R     ADDC    A,k
05A6 FE                MOV     R6,A
05A7 EF                MOV     A,R7
05A8 25E0              ADD     A,ACC
05AA FF                MOV     R7,A
05AB EE                MOV     A,R6
05AC 33                RLC     A
05AD FE                MOV     R6,A
05AE 900000      E     MOV     DPTR,#N_IMU_Connected
05B1 E0                MOVX    A,@DPTR
05B2 C3                CLR     C
05B3 9F                SUBB    A,R7
05B4 E4                CLR     A
05B5 9E                SUBB    A,R6
05B6 5064              JNC     ?C0049
                                           ; SOURCE LINE # 315
05B8 750000      R     MOV     j,#00H
05BB 850000      R     MOV     j+01H,mag_param_str_len
05BE         ?C0050:
05BE E500        R     MOV     A,j+01H
05C0 4500        R     ORL     A,j
05C2 7003              JNZ     $ + 5H
05C4 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 316
05C7 C3                CLR     C
05C8 E500        R     MOV     A,mag_param_str_len
05CA 9500        R     SUBB    A,j+01H
05CC FF                MOV     R7,A
05CD E4                CLR     A
05CE 9500        R     SUBB    A,j
05D0 FE                MOV     R6,A
05D1 7400        R     MOV     A,#LOW mag_param_str
05D3 2F                ADD     A,R7
05D4 F582              MOV     DPL,A
05D6 7400        R     MOV     A,#HIGH mag_param_str
05D8 3E                ADDC    A,R6
05D9 F583              MOV     DPH,A
05DB E0                MOVX    A,@DPTR
05DC FB                MOV     R3,A
05DD AE00        R     MOV     R6,k
05DF AF00        R     MOV     R7,k+01H
05E1 7C00              MOV     R4,#00H
05E3 7D32              MOV     R5,#032H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 36  

05E5 120000      E     LCALL   ?C?IMUL
05E8 900000      R     MOV     DPTR,#start_byte
05EB E0                MOVX    A,@DPTR
05EC FC                MOV     R4,A
05ED A3                INC     DPTR
05EE E0                MOVX    A,@DPTR
05EF 2F                ADD     A,R7
05F0 FF                MOV     R7,A
05F1 EC                MOV     A,R4
05F2 3E                ADDC    A,R6
05F3 FE                MOV     R6,A
05F4 7C00              MOV     R4,#00H
05F6 EF                MOV     A,R7
05F7 2500        R     ADD     A,mag_param_str_len
05F9 FF                MOV     R7,A
05FA EC                MOV     A,R4
05FB 3E                ADDC    A,R6
05FC FE                MOV     R6,A
05FD C3                CLR     C
05FE EF                MOV     A,R7
05FF 9500        R     SUBB    A,j+01H
0601 FF                MOV     R7,A
0602 EE                MOV     A,R6
0603 9500        R     SUBB    A,j
0605 FE                MOV     R6,A
0606 7400        R     MOV     A,#LOW packet_data+07H
0608 2F                ADD     A,R7
0609 F582              MOV     DPL,A
060B 7400        R     MOV     A,#HIGH packet_data+07H
060D 3E                ADDC    A,R6
060E F583              MOV     DPH,A
0610 EB                MOV     A,R3
0611 F0                MOVX    @DPTR,A
0612 E500        R     MOV     A,j+01H
0614 1500        R     DEC     j+01H
0616 7002              JNZ     ?C0172
0618 1500        R     DEC     j
061A         ?C0172:
061A 80A2              SJMP    ?C0050
                                           ; SOURCE LINE # 317
061C         ?C0049:
                                           ; SOURCE LINE # 318
                                           ; SOURCE LINE # 320
061C 900000      R     MOV     DPTR,#start_byte
061F E0                MOVX    A,@DPTR
0620 FE                MOV     R6,A
0621 A3                INC     DPTR
0622 E0                MOVX    A,@DPTR
0623 FF                MOV     R7,A
0624 850082      R     MOV     DPL,k+01H
0627 850083      R     MOV     DPH,k
062A 7432              MOV     A,#032H
062C 120000      E     LCALL   ?C?OFFX256
062F E582              MOV     A,DPL
0631 2F                ADD     A,R7
0632 F582              MOV     DPL,A
0634 E583              MOV     A,DPH
0636 3E                ADDC    A,R6
0637 F583              MOV     DPH,A
0639 E582              MOV     A,DPL
063B 2400        R     ADD     A,#LOW packet_data+03H
063D F582              MOV     DPL,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 37  

063F E583              MOV     A,DPH
0641 3400        R     ADDC    A,#HIGH packet_data+03H
0643 F583              MOV     DPH,A
0645 7406              MOV     A,#06H
0647 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 321
0648 E500        R     MOV     A,k+01H
064A 25E0              ADD     A,ACC
064C FF                MOV     R7,A
064D E500        R     MOV     A,k
064F 33                RLC     A
0650 FE                MOV     R6,A
0651 7400        E     MOV     A,#LOW IMU_connected+01H
0653 2F                ADD     A,R7
0654 F582              MOV     DPL,A
0656 7400        E     MOV     A,#HIGH IMU_connected+01H
0658 3E                ADDC    A,R6
0659 F583              MOV     DPH,A
065B E0                MOVX    A,@DPTR
065C 75F003            MOV     B,#03H
065F A4                MUL     AB
0660 2400        E     ADD     A,#LOW MagCal
0662 F582              MOV     DPL,A
0664 E4                CLR     A
0665 3400        E     ADDC    A,#HIGH MagCal
0667 F583              MOV     DPH,A
0669 E0                MOVX    A,@DPTR
066A FF                MOV     R7,A
066B 900000      R     MOV     DPTR,#start_byte
066E E0                MOVX    A,@DPTR
066F FC                MOV     R4,A
0670 A3                INC     DPTR
0671 E0                MOVX    A,@DPTR
0672 FD                MOV     R5,A
0673 850082      R     MOV     DPL,k+01H
0676 850083      R     MOV     DPH,k
0679 7432              MOV     A,#032H
067B 120000      E     LCALL   ?C?OFFX256
067E E582              MOV     A,DPL
0680 2D                ADD     A,R5
0681 F582              MOV     DPL,A
0683 E583              MOV     A,DPH
0685 3C                ADDC    A,R4
0686 F583              MOV     DPH,A
0688 E582              MOV     A,DPL
068A 2400        R     ADD     A,#LOW packet_data+07H
068C F582              MOV     DPL,A
068E E583              MOV     A,DPH
0690 3400        R     ADDC    A,#HIGH packet_data+07H
0692 F583              MOV     DPH,A
0694 EF                MOV     A,R7
0695 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 322
0696 E500        R     MOV     A,k+01H
0698 25E0              ADD     A,ACC
069A FF                MOV     R7,A
069B E500        R     MOV     A,k
069D 33                RLC     A
069E FE                MOV     R6,A
069F 7400        E     MOV     A,#LOW IMU_connected+01H
06A1 2F                ADD     A,R7
06A2 F582              MOV     DPL,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 38  

06A4 7400        E     MOV     A,#HIGH IMU_connected+01H
06A6 3E                ADDC    A,R6
06A7 F583              MOV     DPH,A
06A9 E0                MOVX    A,@DPTR
06AA 75F003            MOV     B,#03H
06AD A4                MUL     AB
06AE 2400        E     ADD     A,#LOW MagCal+01H
06B0 F582              MOV     DPL,A
06B2 E4                CLR     A
06B3 3400        E     ADDC    A,#HIGH MagCal+01H
06B5 F583              MOV     DPH,A
06B7 E0                MOVX    A,@DPTR
06B8 FF                MOV     R7,A
06B9 850082      R     MOV     DPL,k+01H
06BC 850083      R     MOV     DPH,k
06BF 7432              MOV     A,#032H
06C1 120000      E     LCALL   ?C?OFFX256
06C4 E582              MOV     A,DPL
06C6 2D                ADD     A,R5
06C7 F582              MOV     DPL,A
06C9 E583              MOV     A,DPH
06CB 3C                ADDC    A,R4
06CC F583              MOV     DPH,A
06CE E582              MOV     A,DPL
06D0 2400        R     ADD     A,#LOW packet_data+08H
06D2 F582              MOV     DPL,A
06D4 E583              MOV     A,DPH
06D6 3400        R     ADDC    A,#HIGH packet_data+08H
06D8 F583              MOV     DPH,A
06DA EF                MOV     A,R7
06DB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 323
06DC E500        R     MOV     A,k+01H
06DE 25E0              ADD     A,ACC
06E0 FF                MOV     R7,A
06E1 E500        R     MOV     A,k
06E3 33                RLC     A
06E4 FE                MOV     R6,A
06E5 7400        E     MOV     A,#LOW IMU_connected+01H
06E7 2F                ADD     A,R7
06E8 F582              MOV     DPL,A
06EA 7400        E     MOV     A,#HIGH IMU_connected+01H
06EC 3E                ADDC    A,R6
06ED F583              MOV     DPH,A
06EF E0                MOVX    A,@DPTR
06F0 75F003            MOV     B,#03H
06F3 A4                MUL     AB
06F4 2400        E     ADD     A,#LOW MagCal+02H
06F6 F582              MOV     DPL,A
06F8 E4                CLR     A
06F9 3400        E     ADDC    A,#HIGH MagCal+02H
06FB F583              MOV     DPH,A
06FD E0                MOVX    A,@DPTR
06FE FF                MOV     R7,A
06FF 850082      R     MOV     DPL,k+01H
0702 850083      R     MOV     DPH,k
0705 7432              MOV     A,#032H
0707 120000      E     LCALL   ?C?OFFX256
070A E582              MOV     A,DPL
070C 2D                ADD     A,R5
070D F582              MOV     DPL,A
070F E583              MOV     A,DPH
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 39  

0711 3C                ADDC    A,R4
0712 F583              MOV     DPH,A
0714 E582              MOV     A,DPL
0716 2400        R     ADD     A,#LOW packet_data+09H
0718 F582              MOV     DPL,A
071A E583              MOV     A,DPH
071C 3400        R     ADDC    A,#HIGH packet_data+09H
071E F583              MOV     DPH,A
0720 EF                MOV     A,R7
0721 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 325
0722 750000      R     MOV     j,#00H
0725 850000      R     MOV     j+01H,mag_param_str_len
0728         ?C0054:
0728 E500        R     MOV     A,j+01H
072A 4500        R     ORL     A,j
072C 6055              JZ      ?C0048
                                           ; SOURCE LINE # 326
072E C3                CLR     C
072F E500        R     MOV     A,mag_param_str_len
0731 9500        R     SUBB    A,j+01H
0733 FF                MOV     R7,A
0734 E4                CLR     A
0735 9500        R     SUBB    A,j
0737 FE                MOV     R6,A
0738 7400        R     MOV     A,#LOW mag_param_str
073A 2F                ADD     A,R7
073B F582              MOV     DPL,A
073D 7400        R     MOV     A,#HIGH mag_param_str
073F 3E                ADDC    A,R6
0740 F583              MOV     DPH,A
0742 E0                MOVX    A,@DPTR
0743 FB                MOV     R3,A
0744 AE00        R     MOV     R6,k
0746 AF00        R     MOV     R7,k+01H
0748 7C00              MOV     R4,#00H
074A 7D32              MOV     R5,#032H
074C 120000      E     LCALL   ?C?IMUL
074F 900000      R     MOV     DPTR,#start_byte
0752 E0                MOVX    A,@DPTR
0753 FC                MOV     R4,A
0754 A3                INC     DPTR
0755 E0                MOVX    A,@DPTR
0756 2F                ADD     A,R7
0757 FF                MOV     R7,A
0758 EC                MOV     A,R4
0759 3E                ADDC    A,R6
075A FE                MOV     R6,A
075B 7C00              MOV     R4,#00H
075D EF                MOV     A,R7
075E 2500        R     ADD     A,mag_param_str_len
0760 FF                MOV     R7,A
0761 EC                MOV     A,R4
0762 3E                ADDC    A,R6
0763 FE                MOV     R6,A
0764 C3                CLR     C
0765 EF                MOV     A,R7
0766 9500        R     SUBB    A,j+01H
0768 FF                MOV     R7,A
0769 EE                MOV     A,R6
076A 9500        R     SUBB    A,j
076C FE                MOV     R6,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 40  

076D 7400        R     MOV     A,#LOW packet_data+0AH
076F 2F                ADD     A,R7
0770 F582              MOV     DPL,A
0772 7400        R     MOV     A,#HIGH packet_data+0AH
0774 3E                ADDC    A,R6
0775 F583              MOV     DPH,A
0777 EB                MOV     A,R3
0778 F0                MOVX    @DPTR,A
0779 E500        R     MOV     A,j+01H
077B 1500        R     DEC     j+01H
077D 7002              JNZ     ?C0173
077F 1500        R     DEC     j
0781         ?C0173:
0781 80A5              SJMP    ?C0054
                                           ; SOURCE LINE # 327
                                           ; SOURCE LINE # 328
0783         ?C0048:
0783 0500        R     INC     k+01H
0785 E500        R     MOV     A,k+01H
0787 7002              JNZ     ?C0174
0789 0500        R     INC     k
078B         ?C0174:
078B 020000      R     LJMP    ?C0046
078E         ?C0047:
                                           ; SOURCE LINE # 332
078E 900000      R     MOV     DPTR,#num_mag_cal_params
0791 E0                MOVX    A,@DPTR
0792 FE                MOV     R6,A
0793 A3                INC     DPTR
0794 E0                MOVX    A,@DPTR
0795 FF                MOV     R7,A
0796 7C00              MOV     R4,#00H
0798 7D32              MOV     R5,#032H
079A 120000      E     LCALL   ?C?IMUL
079D 900000      R     MOV     DPTR,#start_byte+01H
07A0 E0                MOVX    A,@DPTR
07A1 2F                ADD     A,R7
07A2 F0                MOVX    @DPTR,A
07A3 900000      R     MOV     DPTR,#start_byte
07A6 E0                MOVX    A,@DPTR
07A7 3E                ADDC    A,R6
07A8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 333
07A9 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
07AC 74FF              MOV     A,#0FFH
07AE F0                MOVX    @DPTR,A
07AF A3                INC     DPTR
07B0 7400        R     MOV     A,#HIGH ?SC_128
07B2 F0                MOVX    @DPTR,A
07B3 A3                INC     DPTR
07B4 7400        R     MOV     A,#LOW ?SC_128
07B6 F0                MOVX    @DPTR,A
07B7 900000      R     MOV     DPTR,#first_imu_parameter
07BA E0                MOVX    A,@DPTR
07BB FE                MOV     R6,A
07BC A3                INC     DPTR
07BD E0                MOVX    A,@DPTR
07BE 24FF              ADD     A,#0FFH
07C0 FF                MOV     R7,A
07C1 EE                MOV     A,R6
07C2 34FF              ADDC    A,#0FFH
07C4 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 41  

07C7 F0                MOVX    @DPTR,A
07C8 A3                INC     DPTR
07C9 EF                MOV     A,R7
07CA F0                MOVX    @DPTR,A
07CB 7B01              MOV     R3,#01H
07CD 7A00        R     MOV     R2,#HIGH id_str
07CF 7900        R     MOV     R1,#LOW id_str
07D1 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 334
07D4 7B01              MOV     R3,#01H
07D6 7A00        R     MOV     R2,#HIGH id_str
07D8 7900        R     MOV     R1,#LOW id_str
07DA 120000      E     LCALL   _strlen
07DD 8F00        R     MOV     id_str_len,R7
                                           ; SOURCE LINE # 335
07DF 900000      R     MOV     DPTR,#start_byte
07E2 E0                MOVX    A,@DPTR
07E3 FE                MOV     R6,A
07E4 A3                INC     DPTR
07E5 E0                MOVX    A,@DPTR
07E6 FF                MOV     R7,A
07E7 2400        R     ADD     A,#LOW packet_data+02H
07E9 F582              MOV     DPL,A
07EB 7400        R     MOV     A,#HIGH packet_data+02H
07ED 3E                ADDC    A,R6
07EE F583              MOV     DPH,A
07F0 7402              MOV     A,#02H
07F2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 336
07F3 7400        R     MOV     A,#LOW packet_data+03H
07F5 2F                ADD     A,R7
07F6 F582              MOV     DPL,A
07F8 7400        R     MOV     A,#HIGH packet_data+03H
07FA 3E                ADDC    A,R6
07FB F583              MOV     DPH,A
07FD 7401              MOV     A,#01H
07FF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 337
0800 900000      E     MOV     DPTR,#c_mem+01H
0803 E0                MOVX    A,@DPTR
0804 FF                MOV     R7,A
0805 900000      R     MOV     DPTR,#start_byte
0808 E0                MOVX    A,@DPTR
0809 FC                MOV     R4,A
080A A3                INC     DPTR
080B E0                MOVX    A,@DPTR
080C 2400        R     ADD     A,#LOW packet_data+04H
080E F582              MOV     DPL,A
0810 7400        R     MOV     A,#HIGH packet_data+04H
0812 3C                ADDC    A,R4
0813 F583              MOV     DPH,A
0815 EF                MOV     A,R7
0816 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 338
0817 750000      R     MOV     i,#00H
081A 850000      R     MOV     i+01H,id_str_len
081D         ?C0057:
081D E500        R     MOV     A,i+01H
081F 4500        R     ORL     A,i
0821 6046              JZ      ?C0058
                                           ; SOURCE LINE # 339
0823 C3                CLR     C
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 42  

0824 E500        R     MOV     A,id_str_len
0826 9500        R     SUBB    A,i+01H
0828 FF                MOV     R7,A
0829 E4                CLR     A
082A 9500        R     SUBB    A,i
082C FE                MOV     R6,A
082D 7400        R     MOV     A,#LOW id_str
082F 2F                ADD     A,R7
0830 F582              MOV     DPL,A
0832 7400        R     MOV     A,#HIGH id_str
0834 3E                ADDC    A,R6
0835 F583              MOV     DPH,A
0837 E0                MOVX    A,@DPTR
0838 FF                MOV     R7,A
0839 E500        R     MOV     A,id_str_len
083B FD                MOV     R5,A
083C 7C00              MOV     R4,#00H
083E 900000      R     MOV     DPTR,#start_byte
0841 E0                MOVX    A,@DPTR
0842 FA                MOV     R2,A
0843 A3                INC     DPTR
0844 E0                MOVX    A,@DPTR
0845 2D                ADD     A,R5
0846 FD                MOV     R5,A
0847 EC                MOV     A,R4
0848 3A                ADDC    A,R2
0849 FC                MOV     R4,A
084A C3                CLR     C
084B ED                MOV     A,R5
084C 9500        R     SUBB    A,i+01H
084E FD                MOV     R5,A
084F EC                MOV     A,R4
0850 9500        R     SUBB    A,i
0852 FC                MOV     R4,A
0853 7400        R     MOV     A,#LOW packet_data+05H
0855 2D                ADD     A,R5
0856 F582              MOV     DPL,A
0858 7400        R     MOV     A,#HIGH packet_data+05H
085A 3C                ADDC    A,R4
085B F583              MOV     DPH,A
085D EF                MOV     A,R7
085E F0                MOVX    @DPTR,A
085F E500        R     MOV     A,i+01H
0861 1500        R     DEC     i+01H
0863 7002              JNZ     ?C0175
0865 1500        R     DEC     i
0867         ?C0175:
0867 80B4              SJMP    ?C0057
0869         ?C0058:
                                           ; SOURCE LINE # 343
0869 900000      R     MOV     DPTR,#start_byte+01H
086C E0                MOVX    A,@DPTR
086D 2432              ADD     A,#032H
086F F0                MOVX    @DPTR,A
0870 900000      R     MOV     DPTR,#start_byte
0873 E0                MOVX    A,@DPTR
0874 3400              ADDC    A,#00H
0876 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 344
0877 E4                CLR     A
0878 F500        R     MOV     i,A
087A F500        R     MOV     i+01H,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 43  

087C         ?C0060:
087C 900000      E     MOV     DPTR,#N_IMU_Connected
087F E0                MOVX    A,@DPTR
0880 FF                MOV     R7,A
0881 C3                CLR     C
0882 E500        R     MOV     A,i+01H
0884 9F                SUBB    A,R7
0885 E500        R     MOV     A,i
0887 9400              SUBB    A,#00H
0889 4003              JC      $ + 5H
088B 020000      R     LJMP    ?C0061
                                           ; SOURCE LINE # 345
088E 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0891 74FF              MOV     A,#0FFH
0893 F0                MOVX    @DPTR,A
0894 A3                INC     DPTR
0895 7400        R     MOV     A,#HIGH ?SC_144
0897 F0                MOVX    @DPTR,A
0898 A3                INC     DPTR
0899 7400        R     MOV     A,#LOW ?SC_144
089B F0                MOVX    @DPTR,A
089C 900000      R     MOV     DPTR,#first_imu_parameter
089F E0                MOVX    A,@DPTR
08A0 FE                MOV     R6,A
08A1 A3                INC     DPTR
08A2 E0                MOVX    A,@DPTR
08A3 2500        R     ADD     A,i+01H
08A5 FF                MOV     R7,A
08A6 E500        R     MOV     A,i
08A8 3E                ADDC    A,R6
08A9 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
08AC F0                MOVX    @DPTR,A
08AD A3                INC     DPTR
08AE EF                MOV     A,R7
08AF F0                MOVX    @DPTR,A
08B0 7400        E     MOV     A,#LOW IMU_connected
08B2 2500        R     ADD     A,i+01H
08B4 F582              MOV     DPL,A
08B6 7400        E     MOV     A,#HIGH IMU_connected
08B8 3500        R     ADDC    A,i
08BA F583              MOV     DPH,A
08BC E0                MOVX    A,@DPTR
08BD FF                MOV     R7,A
08BE 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
08C1 E4                CLR     A
08C2 F0                MOVX    @DPTR,A
08C3 A3                INC     DPTR
08C4 EF                MOV     A,R7
08C5 F0                MOVX    @DPTR,A
08C6 7B01              MOV     R3,#01H
08C8 7A00        R     MOV     R2,#HIGH imu_table_str
08CA 7900        R     MOV     R1,#LOW imu_table_str
08CC 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 346
08CF 7B01              MOV     R3,#01H
08D1 7A00        R     MOV     R2,#HIGH imu_table_str
08D3 7900        R     MOV     R1,#LOW imu_table_str
08D5 120000      E     LCALL   _strlen
08D8 8F00        R     MOV     imu_table_str_len,R7
                                           ; SOURCE LINE # 348
08DA 900000      R     MOV     DPTR,#start_byte
08DD E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 44  

08DE FE                MOV     R6,A
08DF A3                INC     DPTR
08E0 E0                MOVX    A,@DPTR
08E1 FF                MOV     R7,A
08E2 850082      R     MOV     DPL,i+01H
08E5 850083      R     MOV     DPH,i
08E8 7432              MOV     A,#032H
08EA 120000      E     LCALL   ?C?OFFX256
08ED E582              MOV     A,DPL
08EF 2F                ADD     A,R7
08F0 F582              MOV     DPL,A
08F2 E583              MOV     A,DPH
08F4 3E                ADDC    A,R6
08F5 F583              MOV     DPH,A
08F7 E582              MOV     A,DPL
08F9 2400        R     ADD     A,#LOW packet_data+02H
08FB F582              MOV     DPL,A
08FD E583              MOV     A,DPH
08FF 3400        R     ADDC    A,#HIGH packet_data+02H
0901 F583              MOV     DPH,A
0903 7402              MOV     A,#02H
0905 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 349
0906 850082      R     MOV     DPL,i+01H
0909 850083      R     MOV     DPH,i
090C 7432              MOV     A,#032H
090E 120000      E     LCALL   ?C?OFFX256
0911 E582              MOV     A,DPL
0913 2F                ADD     A,R7
0914 F582              MOV     DPL,A
0916 E583              MOV     A,DPH
0918 3E                ADDC    A,R6
0919 F583              MOV     DPH,A
091B E582              MOV     A,DPL
091D 2400        R     ADD     A,#LOW packet_data+03H
091F F582              MOV     DPL,A
0921 E583              MOV     A,DPH
0923 3400        R     ADDC    A,#HIGH packet_data+03H
0925 F583              MOV     DPH,A
0927 7405              MOV     A,#05H
0929 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 351
092A 7400        E     MOV     A,#LOW IMU_connected
092C 2500        R     ADD     A,i+01H
092E F582              MOV     DPL,A
0930 7400        E     MOV     A,#HIGH IMU_connected
0932 3500        R     ADDC    A,i
0934 F583              MOV     DPH,A
0936 E0                MOVX    A,@DPTR
0937 75F005            MOV     B,#05H
093A A4                MUL     AB
093B 2400        E     ADD     A,#LOW c_mem+04H
093D F582              MOV     DPL,A
093F E4                CLR     A
0940 3400        E     ADDC    A,#HIGH c_mem+04H
0942 F583              MOV     DPH,A
0944 E0                MOVX    A,@DPTR
0945 FF                MOV     R7,A
0946 900000      R     MOV     DPTR,#start_byte
0949 E0                MOVX    A,@DPTR
094A FC                MOV     R4,A
094B A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 45  

094C E0                MOVX    A,@DPTR
094D FD                MOV     R5,A
094E 850082      R     MOV     DPL,i+01H
0951 850083      R     MOV     DPH,i
0954 7432              MOV     A,#032H
0956 120000      E     LCALL   ?C?OFFX256
0959 E582              MOV     A,DPL
095B 2D                ADD     A,R5
095C F582              MOV     DPL,A
095E E583              MOV     A,DPH
0960 3C                ADDC    A,R4
0961 F583              MOV     DPH,A
0963 E582              MOV     A,DPL
0965 2400        R     ADD     A,#LOW packet_data+04H
0967 F582              MOV     DPL,A
0969 E583              MOV     A,DPH
096B 3400        R     ADDC    A,#HIGH packet_data+04H
096D F583              MOV     DPH,A
096F EF                MOV     A,R7
0970 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 352
0971 7400        E     MOV     A,#LOW IMU_connected
0973 2500        R     ADD     A,i+01H
0975 F582              MOV     DPL,A
0977 7400        E     MOV     A,#HIGH IMU_connected
0979 3500        R     ADDC    A,i
097B F583              MOV     DPH,A
097D E0                MOVX    A,@DPTR
097E 75F005            MOV     B,#05H
0981 A4                MUL     AB
0982 2400        E     ADD     A,#LOW c_mem+05H
0984 F582              MOV     DPL,A
0986 E4                CLR     A
0987 3400        E     ADDC    A,#HIGH c_mem+05H
0989 F583              MOV     DPH,A
098B E0                MOVX    A,@DPTR
098C FF                MOV     R7,A
098D 850082      R     MOV     DPL,i+01H
0990 850083      R     MOV     DPH,i
0993 7432              MOV     A,#032H
0995 120000      E     LCALL   ?C?OFFX256
0998 E582              MOV     A,DPL
099A 2D                ADD     A,R5
099B F582              MOV     DPL,A
099D E583              MOV     A,DPH
099F 3C                ADDC    A,R4
09A0 F583              MOV     DPH,A
09A2 E582              MOV     A,DPL
09A4 2400        R     ADD     A,#LOW packet_data+05H
09A6 F582              MOV     DPL,A
09A8 E583              MOV     A,DPH
09AA 3400        R     ADDC    A,#HIGH packet_data+05H
09AC F583              MOV     DPH,A
09AE EF                MOV     A,R7
09AF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 353
09B0 7400        E     MOV     A,#LOW IMU_connected
09B2 2500        R     ADD     A,i+01H
09B4 F582              MOV     DPL,A
09B6 7400        E     MOV     A,#HIGH IMU_connected
09B8 3500        R     ADDC    A,i
09BA F583              MOV     DPH,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 46  

09BC E0                MOVX    A,@DPTR
09BD 75F005            MOV     B,#05H
09C0 A4                MUL     AB
09C1 2400        E     ADD     A,#LOW c_mem+06H
09C3 F582              MOV     DPL,A
09C5 E4                CLR     A
09C6 3400        E     ADDC    A,#HIGH c_mem+06H
09C8 F583              MOV     DPH,A
09CA E0                MOVX    A,@DPTR
09CB FF                MOV     R7,A
09CC 850082      R     MOV     DPL,i+01H
09CF 850083      R     MOV     DPH,i
09D2 7432              MOV     A,#032H
09D4 120000      E     LCALL   ?C?OFFX256
09D7 E582              MOV     A,DPL
09D9 2D                ADD     A,R5
09DA F582              MOV     DPL,A
09DC E583              MOV     A,DPH
09DE 3C                ADDC    A,R4
09DF F583              MOV     DPH,A
09E1 E582              MOV     A,DPL
09E3 2400        R     ADD     A,#LOW packet_data+06H
09E5 F582              MOV     DPL,A
09E7 E583              MOV     A,DPH
09E9 3400        R     ADDC    A,#HIGH packet_data+06H
09EB F583              MOV     DPH,A
09ED EF                MOV     A,R7
09EE F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 354
09EF 7400        E     MOV     A,#LOW IMU_connected
09F1 2500        R     ADD     A,i+01H
09F3 F582              MOV     DPL,A
09F5 7400        E     MOV     A,#HIGH IMU_connected
09F7 3500        R     ADDC    A,i
09F9 F583              MOV     DPH,A
09FB E0                MOVX    A,@DPTR
09FC 75F005            MOV     B,#05H
09FF A4                MUL     AB
0A00 2400        E     ADD     A,#LOW c_mem+07H
0A02 F582              MOV     DPL,A
0A04 E4                CLR     A
0A05 3400        E     ADDC    A,#HIGH c_mem+07H
0A07 F583              MOV     DPH,A
0A09 E0                MOVX    A,@DPTR
0A0A FF                MOV     R7,A
0A0B 850082      R     MOV     DPL,i+01H
0A0E 850083      R     MOV     DPH,i
0A11 7432              MOV     A,#032H
0A13 120000      E     LCALL   ?C?OFFX256
0A16 E582              MOV     A,DPL
0A18 2D                ADD     A,R5
0A19 F582              MOV     DPL,A
0A1B E583              MOV     A,DPH
0A1D 3C                ADDC    A,R4
0A1E F583              MOV     DPH,A
0A20 E582              MOV     A,DPL
0A22 2400        R     ADD     A,#LOW packet_data+07H
0A24 F582              MOV     DPL,A
0A26 E583              MOV     A,DPH
0A28 3400        R     ADDC    A,#HIGH packet_data+07H
0A2A F583              MOV     DPH,A
0A2C EF                MOV     A,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 47  

0A2D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 355
0A2E 7400        E     MOV     A,#LOW IMU_connected
0A30 2500        R     ADD     A,i+01H
0A32 F582              MOV     DPL,A
0A34 7400        E     MOV     A,#HIGH IMU_connected
0A36 3500        R     ADDC    A,i
0A38 F583              MOV     DPH,A
0A3A E0                MOVX    A,@DPTR
0A3B 75F005            MOV     B,#05H
0A3E A4                MUL     AB
0A3F 2400        E     ADD     A,#LOW c_mem+08H
0A41 F582              MOV     DPL,A
0A43 E4                CLR     A
0A44 3400        E     ADDC    A,#HIGH c_mem+08H
0A46 F583              MOV     DPH,A
0A48 E0                MOVX    A,@DPTR
0A49 FF                MOV     R7,A
0A4A 850082      R     MOV     DPL,i+01H
0A4D 850083      R     MOV     DPH,i
0A50 7432              MOV     A,#032H
0A52 120000      E     LCALL   ?C?OFFX256
0A55 E582              MOV     A,DPL
0A57 2D                ADD     A,R5
0A58 F582              MOV     DPL,A
0A5A E583              MOV     A,DPH
0A5C 3C                ADDC    A,R4
0A5D F583              MOV     DPH,A
0A5F E582              MOV     A,DPL
0A61 2400        R     ADD     A,#LOW packet_data+08H
0A63 F582              MOV     DPL,A
0A65 E583              MOV     A,DPH
0A67 3400        R     ADDC    A,#HIGH packet_data+08H
0A69 F583              MOV     DPH,A
0A6B EF                MOV     A,R7
0A6C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 357
0A6D 750000      R     MOV     j,#00H
0A70 850000      R     MOV     j+01H,imu_table_str_len
0A73         ?C0063:
0A73 E500        R     MOV     A,j+01H
0A75 4500        R     ORL     A,j
0A77 6055              JZ      ?C0062
                                           ; SOURCE LINE # 358
0A79 C3                CLR     C
0A7A E500        R     MOV     A,imu_table_str_len
0A7C 9500        R     SUBB    A,j+01H
0A7E FF                MOV     R7,A
0A7F E4                CLR     A
0A80 9500        R     SUBB    A,j
0A82 FE                MOV     R6,A
0A83 7400        R     MOV     A,#LOW imu_table_str
0A85 2F                ADD     A,R7
0A86 F582              MOV     DPL,A
0A88 7400        R     MOV     A,#HIGH imu_table_str
0A8A 3E                ADDC    A,R6
0A8B F583              MOV     DPH,A
0A8D E0                MOVX    A,@DPTR
0A8E FB                MOV     R3,A
0A8F AE00        R     MOV     R6,i
0A91 AF00        R     MOV     R7,i+01H
0A93 7C00              MOV     R4,#00H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 48  

0A95 7D32              MOV     R5,#032H
0A97 120000      E     LCALL   ?C?IMUL
0A9A 900000      R     MOV     DPTR,#start_byte
0A9D E0                MOVX    A,@DPTR
0A9E FC                MOV     R4,A
0A9F A3                INC     DPTR
0AA0 E0                MOVX    A,@DPTR
0AA1 2F                ADD     A,R7
0AA2 FF                MOV     R7,A
0AA3 EC                MOV     A,R4
0AA4 3E                ADDC    A,R6
0AA5 FE                MOV     R6,A
0AA6 7C00              MOV     R4,#00H
0AA8 EF                MOV     A,R7
0AA9 2500        R     ADD     A,imu_table_str_len
0AAB FF                MOV     R7,A
0AAC EC                MOV     A,R4
0AAD 3E                ADDC    A,R6
0AAE FE                MOV     R6,A
0AAF C3                CLR     C
0AB0 EF                MOV     A,R7
0AB1 9500        R     SUBB    A,j+01H
0AB3 FF                MOV     R7,A
0AB4 EE                MOV     A,R6
0AB5 9500        R     SUBB    A,j
0AB7 FE                MOV     R6,A
0AB8 7400        R     MOV     A,#LOW packet_data+09H
0ABA 2F                ADD     A,R7
0ABB F582              MOV     DPL,A
0ABD 7400        R     MOV     A,#HIGH packet_data+09H
0ABF 3E                ADDC    A,R6
0AC0 F583              MOV     DPH,A
0AC2 EB                MOV     A,R3
0AC3 F0                MOVX    @DPTR,A
0AC4 E500        R     MOV     A,j+01H
0AC6 1500        R     DEC     j+01H
0AC8 7002              JNZ     ?C0176
0ACA 1500        R     DEC     j
0ACC         ?C0176:
0ACC 80A5              SJMP    ?C0063
                                           ; SOURCE LINE # 359
0ACE         ?C0062:
0ACE 0500        R     INC     i+01H
0AD0 E500        R     MOV     A,i+01H
0AD2 7002              JNZ     ?C0177
0AD4 0500        R     INC     i
0AD6         ?C0177:
0AD6 020000      R     LJMP    ?C0060
0AD9         ?C0061:
                                           ; SOURCE LINE # 364
0AD9 900000      E     MOV     DPTR,#N_IMU_Connected
0ADC E0                MOVX    A,@DPTR
0ADD 75F032            MOV     B,#032H
0AE0 A4                MUL     AB
0AE1 FF                MOV     R7,A
0AE2 AEF0              MOV     R6,B
0AE4 900000      R     MOV     DPTR,#start_byte+01H
0AE7 E0                MOVX    A,@DPTR
0AE8 2F                ADD     A,R7
0AE9 F0                MOVX    @DPTR,A
0AEA 900000      R     MOV     DPTR,#start_byte
0AED E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 49  

0AEE 3E                ADDC    A,R6
0AEF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 365
0AF0 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0AF3 74FF              MOV     A,#0FFH
0AF5 F0                MOVX    @DPTR,A
0AF6 A3                INC     DPTR
0AF7 7400        R     MOV     A,#HIGH ?SC_171
0AF9 F0                MOVX    @DPTR,A
0AFA A3                INC     DPTR
0AFB 7400        R     MOV     A,#LOW ?SC_171
0AFD F0                MOVX    @DPTR,A
0AFE 900000      E     MOV     DPTR,#N_IMU_Connected
0B01 E0                MOVX    A,@DPTR
0B02 FF                MOV     R7,A
0B03 7E00              MOV     R6,#00H
0B05 900000      R     MOV     DPTR,#first_imu_parameter
0B08 E0                MOVX    A,@DPTR
0B09 FC                MOV     R4,A
0B0A A3                INC     DPTR
0B0B E0                MOVX    A,@DPTR
0B0C 2F                ADD     A,R7
0B0D FF                MOV     R7,A
0B0E EE                MOV     A,R6
0B0F 3C                ADDC    A,R4
0B10 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0B13 F0                MOVX    @DPTR,A
0B14 A3                INC     DPTR
0B15 EF                MOV     A,R7
0B16 F0                MOVX    @DPTR,A
0B17 7B01              MOV     R3,#01H
0B19 7A00        R     MOV     R2,#HIGH spi_read_delay_str
0B1B 7900        R     MOV     R1,#LOW spi_read_delay_str
0B1D 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 366
0B20 900000      R     MOV     DPTR,#start_byte
0B23 E0                MOVX    A,@DPTR
0B24 FE                MOV     R6,A
0B25 A3                INC     DPTR
0B26 E0                MOVX    A,@DPTR
0B27 FF                MOV     R7,A
0B28 2400        R     ADD     A,#LOW packet_data+02H
0B2A F582              MOV     DPL,A
0B2C 7400        R     MOV     A,#HIGH packet_data+02H
0B2E 3E                ADDC    A,R6
0B2F F583              MOV     DPH,A
0B31 E4                CLR     A
0B32 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 367
0B33 7400        R     MOV     A,#LOW packet_data+03H
0B35 2F                ADD     A,R7
0B36 F582              MOV     DPL,A
0B38 7400        R     MOV     A,#HIGH packet_data+03H
0B3A 3E                ADDC    A,R6
0B3B F583              MOV     DPH,A
0B3D 7401              MOV     A,#01H
0B3F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 368
0B40 900000      E     MOV     DPTR,#c_mem+03H
0B43 E0                MOVX    A,@DPTR
0B44 FF                MOV     R7,A
0B45 900000      R     MOV     DPTR,#start_byte
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 50  

0B48 E0                MOVX    A,@DPTR
0B49 FC                MOV     R4,A
0B4A A3                INC     DPTR
0B4B E0                MOVX    A,@DPTR
0B4C 2400        R     ADD     A,#LOW packet_data+04H
0B4E F582              MOV     DPL,A
0B50 7400        R     MOV     A,#HIGH packet_data+04H
0B52 3C                ADDC    A,R4
0B53 F583              MOV     DPH,A
0B55 EF                MOV     A,R7
0B56 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 369
0B57 EF                MOV     A,R7
0B58 14                DEC     A
0B59 6023              JZ      ?C0068
0B5B 14                DEC     A
0B5C 603C              JZ      ?C0069
0B5E 2402              ADD     A,#02H
0B60 7052              JNZ     ?C0066
                                           ; SOURCE LINE # 370
0B62         ?C0067:
                                           ; SOURCE LINE # 371
0B62 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0B65 74FF              MOV     A,#0FFH
0B67 F0                MOVX    @DPTR,A
0B68 A3                INC     DPTR
0B69 7400        R     MOV     A,#HIGH ?SC_192
0B6B F0                MOVX    @DPTR,A
0B6C A3                INC     DPTR
0B6D 7400        R     MOV     A,#LOW ?SC_192
0B6F F0                MOVX    @DPTR,A
0B70 7B01              MOV     R3,#01H
0B72 7A00        R     MOV     R2,#HIGH spi_read_delay_str
0B74 7900        R     MOV     R1,#LOW spi_read_delay_str
0B76 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 372
0B79 75001A      R     MOV     spi_read_delay_str_len,#01AH
                                           ; SOURCE LINE # 373
0B7C 8036              SJMP    ?C0066
                                           ; SOURCE LINE # 374
0B7E         ?C0068:
                                           ; SOURCE LINE # 375
0B7E 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0B81 74FF              MOV     A,#0FFH
0B83 F0                MOVX    @DPTR,A
0B84 A3                INC     DPTR
0B85 7400        R     MOV     A,#HIGH ?SC_198
0B87 F0                MOVX    @DPTR,A
0B88 A3                INC     DPTR
0B89 7400        R     MOV     A,#LOW ?SC_198
0B8B F0                MOVX    @DPTR,A
0B8C 7B01              MOV     R3,#01H
0B8E 7A00        R     MOV     R2,#HIGH spi_read_delay_str
0B90 7900        R     MOV     R1,#LOW spi_read_delay_str
0B92 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 376
0B95 750019      R     MOV     spi_read_delay_str_len,#019H
                                           ; SOURCE LINE # 377
0B98 801A              SJMP    ?C0066
                                           ; SOURCE LINE # 378
0B9A         ?C0069:
                                           ; SOURCE LINE # 379
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 51  

0B9A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0B9D 74FF              MOV     A,#0FFH
0B9F F0                MOVX    @DPTR,A
0BA0 A3                INC     DPTR
0BA1 7400        R     MOV     A,#HIGH ?SC_203
0BA3 F0                MOVX    @DPTR,A
0BA4 A3                INC     DPTR
0BA5 7400        R     MOV     A,#LOW ?SC_203
0BA7 F0                MOVX    @DPTR,A
0BA8 7B01              MOV     R3,#01H
0BAA 7A00        R     MOV     R2,#HIGH spi_read_delay_str
0BAC 7900        R     MOV     R1,#LOW spi_read_delay_str
0BAE 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 380
0BB1 75001A      R     MOV     spi_read_delay_str_len,#01AH
                                           ; SOURCE LINE # 381
                                           ; SOURCE LINE # 382
                                           ; SOURCE LINE # 383
                                           ; SOURCE LINE # 384
0BB4         ?C0066:
                                           ; SOURCE LINE # 385
0BB4 750000      R     MOV     i,#00H
0BB7 850000      R     MOV     i+01H,spi_read_delay_str_len
0BBA         ?C0071:
0BBA E500        R     MOV     A,i+01H
0BBC 4500        R     ORL     A,i
0BBE 6046              JZ      ?C0072
                                           ; SOURCE LINE # 386
0BC0 C3                CLR     C
0BC1 E500        R     MOV     A,spi_read_delay_str_len
0BC3 9500        R     SUBB    A,i+01H
0BC5 FF                MOV     R7,A
0BC6 E4                CLR     A
0BC7 9500        R     SUBB    A,i
0BC9 FE                MOV     R6,A
0BCA 7400        R     MOV     A,#LOW spi_read_delay_str
0BCC 2F                ADD     A,R7
0BCD F582              MOV     DPL,A
0BCF 7400        R     MOV     A,#HIGH spi_read_delay_str
0BD1 3E                ADDC    A,R6
0BD2 F583              MOV     DPH,A
0BD4 E0                MOVX    A,@DPTR
0BD5 FF                MOV     R7,A
0BD6 E500        R     MOV     A,spi_read_delay_str_len
0BD8 FD                MOV     R5,A
0BD9 7C00              MOV     R4,#00H
0BDB 900000      R     MOV     DPTR,#start_byte
0BDE E0                MOVX    A,@DPTR
0BDF FA                MOV     R2,A
0BE0 A3                INC     DPTR
0BE1 E0                MOVX    A,@DPTR
0BE2 2D                ADD     A,R5
0BE3 FD                MOV     R5,A
0BE4 EC                MOV     A,R4
0BE5 3A                ADDC    A,R2
0BE6 FC                MOV     R4,A
0BE7 C3                CLR     C
0BE8 ED                MOV     A,R5
0BE9 9500        R     SUBB    A,i+01H
0BEB FD                MOV     R5,A
0BEC EC                MOV     A,R4
0BED 9500        R     SUBB    A,i
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 52  

0BEF FC                MOV     R4,A
0BF0 7400        R     MOV     A,#LOW packet_data+05H
0BF2 2D                ADD     A,R5
0BF3 F582              MOV     DPL,A
0BF5 7400        R     MOV     A,#HIGH packet_data+05H
0BF7 3C                ADDC    A,R4
0BF8 F583              MOV     DPH,A
0BFA EF                MOV     A,R7
0BFB F0                MOVX    @DPTR,A
0BFC E500        R     MOV     A,i+01H
0BFE 1500        R     DEC     i+01H
0C00 7002              JNZ     ?C0178
0C02 1500        R     DEC     i
0C04         ?C0178:
0C04 80B4              SJMP    ?C0071
0C06         ?C0072:
                                           ; SOURCE LINE # 388
0C06 7E00              MOV     R6,#00H
0C08 900000      R     MOV     DPTR,#start_byte
0C0B E0                MOVX    A,@DPTR
0C0C FC                MOV     R4,A
0C0D A3                INC     DPTR
0C0E E0                MOVX    A,@DPTR
0C0F 2500        R     ADD     A,spi_read_delay_str_len
0C11 FF                MOV     R7,A
0C12 EE                MOV     A,R6
0C13 3C                ADDC    A,R4
0C14 FE                MOV     R6,A
0C15 7400        R     MOV     A,#LOW packet_data+05H
0C17 2F                ADD     A,R7
0C18 F582              MOV     DPL,A
0C1A 7400        R     MOV     A,#HIGH packet_data+05H
0C1C 3E                ADDC    A,R6
0C1D F583              MOV     DPH,A
0C1F 7401              MOV     A,#01H
0C21 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 392
0C22 900000      R     MOV     DPTR,#start_byte+01H
0C25 E0                MOVX    A,@DPTR
0C26 2432              ADD     A,#032H
0C28 F0                MOVX    @DPTR,A
0C29 900000      R     MOV     DPTR,#start_byte
0C2C E0                MOVX    A,@DPTR
0C2D 3400              ADDC    A,#00H
0C2F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 393
0C30 750000      R     MOV     i,#00H
0C33 850000      R     MOV     i+01H,spi_delay_menu_len
0C36         ?C0074:
0C36 E500        R     MOV     A,i+01H
0C38 4500        R     ORL     A,i
0C3A 6046              JZ      ?C0075
                                           ; SOURCE LINE # 394
0C3C C3                CLR     C
0C3D E500        R     MOV     A,spi_delay_menu_len
0C3F 9500        R     SUBB    A,i+01H
0C41 FF                MOV     R7,A
0C42 E4                CLR     A
0C43 9500        R     SUBB    A,i
0C45 FE                MOV     R6,A
0C46 7400        R     MOV     A,#LOW spi_delay_menu
0C48 2F                ADD     A,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 53  

0C49 F582              MOV     DPL,A
0C4B 7400        R     MOV     A,#HIGH spi_delay_menu
0C4D 3E                ADDC    A,R6
0C4E F583              MOV     DPH,A
0C50 E0                MOVX    A,@DPTR
0C51 FF                MOV     R7,A
0C52 E500        R     MOV     A,spi_delay_menu_len
0C54 FD                MOV     R5,A
0C55 7C00              MOV     R4,#00H
0C57 900000      R     MOV     DPTR,#start_byte
0C5A E0                MOVX    A,@DPTR
0C5B FA                MOV     R2,A
0C5C A3                INC     DPTR
0C5D E0                MOVX    A,@DPTR
0C5E 2D                ADD     A,R5
0C5F FD                MOV     R5,A
0C60 EC                MOV     A,R4
0C61 3A                ADDC    A,R2
0C62 FC                MOV     R4,A
0C63 C3                CLR     C
0C64 ED                MOV     A,R5
0C65 9500        R     SUBB    A,i+01H
0C67 FD                MOV     R5,A
0C68 EC                MOV     A,R4
0C69 9500        R     SUBB    A,i
0C6B FC                MOV     R4,A
0C6C 7400        R     MOV     A,#LOW packet_data+02H
0C6E 2D                ADD     A,R5
0C6F F582              MOV     DPL,A
0C71 7400        R     MOV     A,#HIGH packet_data+02H
0C73 3C                ADDC    A,R4
0C74 F583              MOV     DPH,A
0C76 EF                MOV     A,R7
0C77 F0                MOVX    @DPTR,A
0C78 E500        R     MOV     A,i+01H
0C7A 1500        R     DEC     i+01H
0C7C 7002              JNZ     ?C0179
0C7E 1500        R     DEC     i
0C80         ?C0179:
0C80 80B4              SJMP    ?C0074
0C82         ?C0075:
                                           ; SOURCE LINE # 396
0C82 7B01              MOV     R3,#01H
0C84 7A00        R     MOV     R2,#HIGH packet_data
0C86 7900        R     MOV     R1,#LOW packet_data
0C88 900000      R     MOV     DPTR,#packet_length
0C8B E0                MOVX    A,@DPTR
0C8C A3                INC     DPTR
0C8D E0                MOVX    A,@DPTR
0C8E 14                DEC     A
0C8F FD                MOV     R5,A
0C90 120000      R     LCALL   _LCRChecksum
0C93 900000      R     MOV     DPTR,#packet_length
0C96 E0                MOVX    A,@DPTR
0C97 FC                MOV     R4,A
0C98 A3                INC     DPTR
0C99 E0                MOVX    A,@DPTR
0C9A FD                MOV     R5,A
0C9B 2400        R     ADD     A,#LOW packet_data+0FFFFH
0C9D F582              MOV     DPL,A
0C9F 7400        R     MOV     A,#HIGH packet_data+0FFFFH
0CA1 3C                ADDC    A,R4
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 54  

0CA2 F583              MOV     DPH,A
0CA4 EF                MOV     A,R7
0CA5 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 397
0CA6 7B01              MOV     R3,#01H
0CA8 7A00        R     MOV     R2,#HIGH packet_data
0CAA 7900        R     MOV     R1,#LOW packet_data
0CAC 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 398
0CAF 120000      E     LCALL   UART_RS485_ClearTxBuffer
                                           ; SOURCE LINE # 399
0CB2 22                RET     
                                           ; SOURCE LINE # 402
0CB3         ?C0077:
                                           ; SOURCE LINE # 404
0CB3 900000      R     MOV     DPTR,#first_imu_parameter
0CB6 E0                MOVX    A,@DPTR
0CB7 FE                MOV     R6,A
0CB8 A3                INC     DPTR
0CB9 E0                MOVX    A,@DPTR
0CBA 24FF              ADD     A,#0FFH
0CBC FF                MOV     R7,A
0CBD EE                MOV     A,R6
0CBE 34FF              ADDC    A,#0FFH
0CC0 FE                MOV     R6,A
0CC1 900000      R     MOV     DPTR,#index
0CC4 E0                MOVX    A,@DPTR
0CC5 FC                MOV     R4,A
0CC6 A3                INC     DPTR
0CC7 E0                MOVX    A,@DPTR
0CC8 FD                MOV     R5,A
0CC9 C3                CLR     C
0CCA 9F                SUBB    A,R7
0CCB EC                MOV     A,R4
0CCC 9E                SUBB    A,R6
0CCD 5003              JNC     $ + 5H
0CCF 020000      R     LJMP    ?C0085
                                           ; SOURCE LINE # 405
0CD2         ?C0078:
                                           ; SOURCE LINE # 407
0CD2 900000      E     MOV     DPTR,#N_IMU_Connected
0CD5 E0                MOVX    A,@DPTR
0CD6 FF                MOV     R7,A
0CD7 7E00              MOV     R6,#00H
0CD9 900000      R     MOV     DPTR,#first_imu_parameter
0CDC E0                MOVX    A,@DPTR
0CDD FA                MOV     R2,A
0CDE A3                INC     DPTR
0CDF E0                MOVX    A,@DPTR
0CE0 FB                MOV     R3,A
0CE1 2F                ADD     A,R7
0CE2 FF                MOV     R7,A
0CE3 EE                MOV     A,R6
0CE4 3A                ADDC    A,R2
0CE5 FE                MOV     R6,A
0CE6 ED                MOV     A,R5
0CE7 B5070D            CJNE    A,AR7,?C0079
0CEA EC                MOV     A,R4
0CEB B50609            CJNE    A,AR6,?C0079
                                           ; SOURCE LINE # 408
0CEE 900000      E     MOV     DPTR,#g_rx+03H
0CF1 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 55  

0CF2 900000      E     MOV     DPTR,#g_mem+03H
0CF5 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 409
0CF6 22                RET     
                                           ; SOURCE LINE # 410
0CF7         ?C0079:
                                           ; SOURCE LINE # 412
0CF7 EB                MOV     A,R3
0CF8 24FF              ADD     A,#0FFH
0CFA FF                MOV     R7,A
0CFB EA                MOV     A,R2
0CFC 34FF              ADDC    A,#0FFH
0CFE FE                MOV     R6,A
0CFF 900000      R     MOV     DPTR,#index
0D02 E0                MOVX    A,@DPTR
0D03 FC                MOV     R4,A
0D04 A3                INC     DPTR
0D05 E0                MOVX    A,@DPTR
0D06 FD                MOV     R5,A
0D07 B5070D            CJNE    A,AR7,?C0080
0D0A EC                MOV     A,R4
0D0B B50609            CJNE    A,AR6,?C0080
                                           ; SOURCE LINE # 413
0D0E 900000      E     MOV     DPTR,#g_rx+03H
0D11 E0                MOVX    A,@DPTR
0D12 900000      E     MOV     DPTR,#g_mem+01H
0D15 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 414
0D16 22                RET     
0D17         ?C0080:
                                           ; SOURCE LINE # 415
                                           ; SOURCE LINE # 418
0D17 900000      E     MOV     DPTR,#g_rx+03H
0D1A E0                MOVX    A,@DPTR
0D1B FF                MOV     R7,A
0D1C 900000      R     MOV     DPTR,#first_imu_parameter
0D1F E0                MOVX    A,@DPTR
0D20 FA                MOV     R2,A
0D21 A3                INC     DPTR
0D22 E0                MOVX    A,@DPTR
0D23 FB                MOV     R3,A
0D24 C3                CLR     C
0D25 ED                MOV     A,R5
0D26 9B                SUBB    A,R3
0D27 FD                MOV     R5,A
0D28 EC                MOV     A,R4
0D29 9A                SUBB    A,R2
0D2A FC                MOV     R4,A
0D2B 7400        E     MOV     A,#LOW IMU_connected
0D2D 2D                ADD     A,R5
0D2E F582              MOV     DPL,A
0D30 7400        E     MOV     A,#HIGH IMU_connected
0D32 3C                ADDC    A,R4
0D33 F583              MOV     DPH,A
0D35 E0                MOVX    A,@DPTR
0D36 75F005            MOV     B,#05H
0D39 A4                MUL     AB
0D3A 2400        E     ADD     A,#LOW g_mem+04H
0D3C F582              MOV     DPL,A
0D3E E4                CLR     A
0D3F 3400        E     ADDC    A,#HIGH g_mem+04H
0D41 F583              MOV     DPH,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 56  

0D43 EF                MOV     A,R7
0D44 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 419
0D45 900000      E     MOV     DPTR,#g_rx+04H
0D48 E0                MOVX    A,@DPTR
0D49 FF                MOV     R7,A
0D4A 7400        E     MOV     A,#LOW IMU_connected
0D4C 2D                ADD     A,R5
0D4D F582              MOV     DPL,A
0D4F 7400        E     MOV     A,#HIGH IMU_connected
0D51 3C                ADDC    A,R4
0D52 F583              MOV     DPH,A
0D54 E0                MOVX    A,@DPTR
0D55 75F005            MOV     B,#05H
0D58 A4                MUL     AB
0D59 2400        E     ADD     A,#LOW g_mem+05H
0D5B F582              MOV     DPL,A
0D5D E4                CLR     A
0D5E 3400        E     ADDC    A,#HIGH g_mem+05H
0D60 F583              MOV     DPH,A
0D62 EF                MOV     A,R7
0D63 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 420
0D64 900000      E     MOV     DPTR,#g_rx+05H
0D67 E0                MOVX    A,@DPTR
0D68 FF                MOV     R7,A
0D69 7400        E     MOV     A,#LOW IMU_connected
0D6B 2D                ADD     A,R5
0D6C F582              MOV     DPL,A
0D6E 7400        E     MOV     A,#HIGH IMU_connected
0D70 3C                ADDC    A,R4
0D71 F583              MOV     DPH,A
0D73 E0                MOVX    A,@DPTR
0D74 75F005            MOV     B,#05H
0D77 A4                MUL     AB
0D78 2400        E     ADD     A,#LOW g_mem+06H
0D7A F582              MOV     DPL,A
0D7C E4                CLR     A
0D7D 3400        E     ADDC    A,#HIGH g_mem+06H
0D7F F583              MOV     DPH,A
0D81 EF                MOV     A,R7
0D82 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 421
0D83 900000      E     MOV     DPTR,#g_rx+06H
0D86 E0                MOVX    A,@DPTR
0D87 FF                MOV     R7,A
0D88 7400        E     MOV     A,#LOW IMU_connected
0D8A 2D                ADD     A,R5
0D8B F582              MOV     DPL,A
0D8D 7400        E     MOV     A,#HIGH IMU_connected
0D8F 3C                ADDC    A,R4
0D90 F583              MOV     DPH,A
0D92 E0                MOVX    A,@DPTR
0D93 75F005            MOV     B,#05H
0D96 A4                MUL     AB
0D97 2400        E     ADD     A,#LOW g_mem+07H
0D99 F582              MOV     DPL,A
0D9B E4                CLR     A
0D9C 3400        E     ADDC    A,#HIGH g_mem+07H
0D9E F583              MOV     DPH,A
0DA0 EF                MOV     A,R7
0DA1 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 57  

                                           ; SOURCE LINE # 422
0DA2 900000      E     MOV     DPTR,#g_rx+07H
0DA5 E0                MOVX    A,@DPTR
0DA6 FF                MOV     R7,A
0DA7 7400        E     MOV     A,#LOW IMU_connected
0DA9 2D                ADD     A,R5
0DAA F582              MOV     DPL,A
0DAC 7400        E     MOV     A,#HIGH IMU_connected
0DAE 3C                ADDC    A,R4
0DAF F583              MOV     DPH,A
0DB1 E0                MOVX    A,@DPTR
0DB2 75F005            MOV     B,#05H
0DB5 A4                MUL     AB
0DB6 2400        E     ADD     A,#LOW g_mem+08H
0DB8 F582              MOV     DPL,A
0DBA E4                CLR     A
0DBB 3400        E     ADDC    A,#HIGH g_mem+08H
0DBD F583              MOV     DPH,A
0DBF EF                MOV     A,R7
0DC0 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 425
0DC1 900000      E     MOV     DPTR,#imus_data_size
0DC4 E4                CLR     A
0DC5 F0                MOVX    @DPTR,A
0DC6 A3                INC     DPTR
0DC7 04                INC     A
0DC8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 426
0DC9 E4                CLR     A
0DCA F500        R     MOV     i,A
0DCC F500        R     MOV     i+01H,A
0DCE         ?C0082:
0DCE 900000      E     MOV     DPTR,#N_IMU_Connected
0DD1 E0                MOVX    A,@DPTR
0DD2 FF                MOV     R7,A
0DD3 C3                CLR     C
0DD4 E500        R     MOV     A,i+01H
0DD6 9F                SUBB    A,R7
0DD7 E500        R     MOV     A,i
0DD9 9400              SUBB    A,#00H
0DDB 4003              JC      $ + 5H
0DDD 020000      R     LJMP    ?C0083
                                           ; SOURCE LINE # 427
                                           ; SOURCE LINE # 428
0DE0 7400        E     MOV     A,#LOW IMU_connected
0DE2 2500        R     ADD     A,i+01H
0DE4 F582              MOV     DPL,A
0DE6 7400        E     MOV     A,#HIGH IMU_connected
0DE8 3500        R     ADDC    A,i
0DEA F583              MOV     DPH,A
0DEC E0                MOVX    A,@DPTR
0DED FF                MOV     R7,A
0DEE 75F005            MOV     B,#05H
0DF1 A4                MUL     AB
0DF2 2400        E     ADD     A,#LOW g_mem+05H
0DF4 F582              MOV     DPL,A
0DF6 E4                CLR     A
0DF7 3400        E     ADDC    A,#HIGH g_mem+05H
0DF9 F583              MOV     DPH,A
0DFB E0                MOVX    A,@DPTR
0DFC 75F006            MOV     B,#06H
0DFF A4                MUL     AB
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 58  

0E00 FE                MOV     R6,A
0E01 EF                MOV     A,R7
0E02 75F005            MOV     B,#05H
0E05 A4                MUL     AB
0E06 2400        E     ADD     A,#LOW g_mem+04H
0E08 F582              MOV     DPL,A
0E0A E4                CLR     A
0E0B 3400        E     ADDC    A,#HIGH g_mem+04H
0E0D F583              MOV     DPH,A
0E0F E0                MOVX    A,@DPTR
0E10 75F006            MOV     B,#06H
0E13 A4                MUL     AB
0E14 2E                ADD     A,R6
0E15 FF                MOV     R7,A
0E16 7400        E     MOV     A,#LOW IMU_connected
0E18 2500        R     ADD     A,i+01H
0E1A F582              MOV     DPL,A
0E1C 7400        E     MOV     A,#HIGH IMU_connected
0E1E 3500        R     ADDC    A,i
0E20 F583              MOV     DPH,A
0E22 E0                MOVX    A,@DPTR
0E23 FE                MOV     R6,A
0E24 75F005            MOV     B,#05H
0E27 A4                MUL     AB
0E28 2400        E     ADD     A,#LOW g_mem+06H
0E2A F582              MOV     DPL,A
0E2C E4                CLR     A
0E2D 3400        E     ADDC    A,#HIGH g_mem+06H
0E2F F583              MOV     DPH,A
0E31 E0                MOVX    A,@DPTR
0E32 75F006            MOV     B,#06H
0E35 A4                MUL     AB
0E36 2F                ADD     A,R7
0E37 FF                MOV     R7,A
0E38 EE                MOV     A,R6
0E39 75F005            MOV     B,#05H
0E3C A4                MUL     AB
0E3D 2400        E     ADD     A,#LOW g_mem+07H
0E3F F582              MOV     DPL,A
0E41 E4                CLR     A
0E42 3400        E     ADDC    A,#HIGH g_mem+07H
0E44 F583              MOV     DPH,A
0E46 E0                MOVX    A,@DPTR
0E47 C4                SWAP    A
0E48 54F0              ANL     A,#0F0H
0E4A 2F                ADD     A,R7
0E4B FF                MOV     R7,A
0E4C 7400        E     MOV     A,#LOW IMU_connected
0E4E 2500        R     ADD     A,i+01H
0E50 F582              MOV     DPL,A
0E52 7400        E     MOV     A,#HIGH IMU_connected
0E54 3500        R     ADDC    A,i
0E56 F583              MOV     DPH,A
0E58 E0                MOVX    A,@DPTR
0E59 FE                MOV     R6,A
0E5A 75F005            MOV     B,#05H
0E5D A4                MUL     AB
0E5E 2400        E     ADD     A,#LOW g_mem+08H
0E60 F582              MOV     DPL,A
0E62 E4                CLR     A
0E63 3400        E     ADDC    A,#HIGH g_mem+08H
0E65 F583              MOV     DPH,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 59  

0E67 E0                MOVX    A,@DPTR
0E68 25E0              ADD     A,ACC
0E6A 2F                ADD     A,R7
0E6B 2402              ADD     A,#02H
0E6D FD                MOV     R5,A
0E6E EE                MOV     A,R6
0E6F 25E0              ADD     A,ACC
0E71 2400        E     ADD     A,#LOW single_imu_size
0E73 F582              MOV     DPL,A
0E75 E4                CLR     A
0E76 3400        E     ADDC    A,#HIGH single_imu_size
0E78 F583              MOV     DPH,A
0E7A E4                CLR     A
0E7B F0                MOVX    @DPTR,A
0E7C A3                INC     DPTR
0E7D ED                MOV     A,R5
0E7E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 429
0E7F 7400        E     MOV     A,#LOW IMU_connected
0E81 2500        R     ADD     A,i+01H
0E83 F582              MOV     DPL,A
0E85 7400        E     MOV     A,#HIGH IMU_connected
0E87 3500        R     ADDC    A,i
0E89 F583              MOV     DPH,A
0E8B E0                MOVX    A,@DPTR
0E8C 25E0              ADD     A,ACC
0E8E 2400        E     ADD     A,#LOW single_imu_size
0E90 F582              MOV     DPL,A
0E92 E4                CLR     A
0E93 3400        E     ADDC    A,#HIGH single_imu_size
0E95 F583              MOV     DPH,A
0E97 E0                MOVX    A,@DPTR
0E98 FE                MOV     R6,A
0E99 A3                INC     DPTR
0E9A E0                MOVX    A,@DPTR
0E9B FF                MOV     R7,A
0E9C 900000      E     MOV     DPTR,#imus_data_size+01H
0E9F E0                MOVX    A,@DPTR
0EA0 2F                ADD     A,R7
0EA1 F0                MOVX    @DPTR,A
0EA2 900000      E     MOV     DPTR,#imus_data_size
0EA5 E0                MOVX    A,@DPTR
0EA6 3E                ADDC    A,R6
0EA7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 430
0EA8 0500        R     INC     i+01H
0EAA E500        R     MOV     A,i+01H
0EAC 7002              JNZ     ?C0182
0EAE 0500        R     INC     i
0EB0         ?C0182:
0EB0 020000      R     LJMP    ?C0082
0EB3         ?C0083:
                                           ; SOURCE LINE # 431
0EB3 900000      E     MOV     DPTR,#imus_data_size+01H
0EB6 E0                MOVX    A,@DPTR
0EB7 04                INC     A
0EB8 F0                MOVX    @DPTR,A
0EB9 7006              JNZ     ?C0183
0EBB 900000      E     MOV     DPTR,#imus_data_size
0EBE E0                MOVX    A,@DPTR
0EBF 04                INC     A
0EC0 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 60  

0EC1         ?C0183:
                                           ; SOURCE LINE # 433
                                           ; SOURCE LINE # 435
                                           ; SOURCE LINE # 436
                                           ; SOURCE LINE # 437
0EC1         ?C0085:
0EC1 22                RET     
             ; FUNCTION _get_param_list (END)

             ; FUNCTION _infoPrepare (BEGIN)
                                           ; SOURCE LINE # 444
0000 900000      R     MOV     DPTR,#info_string
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 445
                                           ; SOURCE LINE # 448
000B 900000      E     MOV     DPTR,#c_mem+01H
000E E0                MOVX    A,@DPTR
000F 64FA              XRL     A,#0FAH
0011 7003              JNZ     $ + 5H
0013 020000      R     LJMP    ?C0100
                                           ; SOURCE LINE # 449
0016 900000      R     MOV     DPTR,#info_string
0019 E0                MOVX    A,@DPTR
001A FB                MOV     R3,A
001B A3                INC     DPTR
001C E0                MOVX    A,@DPTR
001D FA                MOV     R2,A
001E A3                INC     DPTR
001F E0                MOVX    A,@DPTR
0020 F8                MOV     R0,A
0021 AC02              MOV     R4,AR2
0023 AD03              MOV     R5,AR3
0025 7BFF              MOV     R3,#0FFH
0027 7A00        R     MOV     R2,#HIGH ?SC_209
0029 7900        R     MOV     R1,#LOW ?SC_209
002B 120000      E     LCALL   ?C?STRCPYAMD
                                           ; SOURCE LINE # 450
002E 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0031 74FF              MOV     A,#0FFH
0033 F0                MOVX    @DPTR,A
0034 A3                INC     DPTR
0035 7400        R     MOV     A,#HIGH ?SC_210
0037 F0                MOVX    @DPTR,A
0038 A3                INC     DPTR
0039 7400        R     MOV     A,#LOW ?SC_210
003B F0                MOVX    @DPTR,A
003C 900000      R     MOV     DPTR,#info_string
003F E0                MOVX    A,@DPTR
0040 FB                MOV     R3,A
0041 A3                INC     DPTR
0042 E0                MOVX    A,@DPTR
0043 FA                MOV     R2,A
0044 A3                INC     DPTR
0045 E0                MOVX    A,@DPTR
0046 F9                MOV     R1,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 61  

0047 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 451
004A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
004D 74FF              MOV     A,#0FFH
004F F0                MOVX    @DPTR,A
0050 A3                INC     DPTR
0051 7400        R     MOV     A,#HIGH ?SC_213
0053 F0                MOVX    @DPTR,A
0054 A3                INC     DPTR
0055 7400        R     MOV     A,#LOW ?SC_213
0057 F0                MOVX    @DPTR,A
0058 900000      R     MOV     DPTR,#info_string
005B E0                MOVX    A,@DPTR
005C FB                MOV     R3,A
005D A3                INC     DPTR
005E E0                MOVX    A,@DPTR
005F FA                MOV     R2,A
0060 A3                INC     DPTR
0061 E0                MOVX    A,@DPTR
0062 F9                MOV     R1,A
0063 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 452
0066 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0069 74FF              MOV     A,#0FFH
006B F0                MOVX    @DPTR,A
006C A3                INC     DPTR
006D 7400        R     MOV     A,#HIGH ?SC_232
006F F0                MOVX    @DPTR,A
0070 A3                INC     DPTR
0071 7400        R     MOV     A,#LOW ?SC_232
0073 F0                MOVX    @DPTR,A
0074 900000      R     MOV     DPTR,#info_string
0077 E0                MOVX    A,@DPTR
0078 FB                MOV     R3,A
0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FA                MOV     R2,A
007C A3                INC     DPTR
007D E0                MOVX    A,@DPTR
007E F9                MOV     R1,A
007F 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 453
0082 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0085 74FF              MOV     A,#0FFH
0087 F0                MOVX    @DPTR,A
0088 A3                INC     DPTR
0089 7400        R     MOV     A,#HIGH ?SC_247
008B F0                MOVX    @DPTR,A
008C A3                INC     DPTR
008D 7400        R     MOV     A,#LOW ?SC_247
008F F0                MOVX    @DPTR,A
0090 900000      R     MOV     DPTR,#info_string
0093 E0                MOVX    A,@DPTR
0094 FB                MOV     R3,A
0095 A3                INC     DPTR
0096 E0                MOVX    A,@DPTR
0097 FA                MOV     R2,A
0098 A3                INC     DPTR
0099 E0                MOVX    A,@DPTR
009A F9                MOV     R1,A
009B 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 455
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 62  

009E 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
00A1 74FF              MOV     A,#0FFH
00A3 F0                MOVX    @DPTR,A
00A4 A3                INC     DPTR
00A5 7400        R     MOV     A,#HIGH ?SC_252
00A7 F0                MOVX    @DPTR,A
00A8 A3                INC     DPTR
00A9 7400        R     MOV     A,#LOW ?SC_252
00AB F0                MOVX    @DPTR,A
00AC 900000      R     MOV     DPTR,#info_string
00AF E0                MOVX    A,@DPTR
00B0 FB                MOV     R3,A
00B1 A3                INC     DPTR
00B2 E0                MOVX    A,@DPTR
00B3 FA                MOV     R2,A
00B4 A3                INC     DPTR
00B5 E0                MOVX    A,@DPTR
00B6 F9                MOV     R1,A
00B7 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 456
00BA 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
00BD 74FF              MOV     A,#0FFH
00BF F0                MOVX    @DPTR,A
00C0 A3                INC     DPTR
00C1 7400        R     MOV     A,#HIGH ?SC_266
00C3 F0                MOVX    @DPTR,A
00C4 A3                INC     DPTR
00C5 7400        R     MOV     A,#LOW ?SC_266
00C7 F0                MOVX    @DPTR,A
00C8 900000      E     MOV     DPTR,#c_mem+01H
00CB E0                MOVX    A,@DPTR
00CC FF                MOV     R7,A
00CD 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
00D0 E4                CLR     A
00D1 F0                MOVX    @DPTR,A
00D2 A3                INC     DPTR
00D3 EF                MOV     A,R7
00D4 F0                MOVX    @DPTR,A
00D5 7B01              MOV     R3,#01H
00D7 7A00        R     MOV     R2,#HIGH str
00D9 7900        R     MOV     R1,#LOW str
00DB 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 457
00DE 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
00E1 7401              MOV     A,#01H
00E3 F0                MOVX    @DPTR,A
00E4 A3                INC     DPTR
00E5 7400        R     MOV     A,#HIGH str
00E7 F0                MOVX    @DPTR,A
00E8 A3                INC     DPTR
00E9 7400        R     MOV     A,#LOW str
00EB F0                MOVX    @DPTR,A
00EC 900000      R     MOV     DPTR,#info_string
00EF E0                MOVX    A,@DPTR
00F0 FB                MOV     R3,A
00F1 A3                INC     DPTR
00F2 E0                MOVX    A,@DPTR
00F3 FA                MOV     R2,A
00F4 A3                INC     DPTR
00F5 E0                MOVX    A,@DPTR
00F6 F9                MOV     R1,A
00F7 120000      E     LCALL   _strcat
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 63  

                                           ; SOURCE LINE # 459
00FA 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
00FD 74FF              MOV     A,#0FFH
00FF F0                MOVX    @DPTR,A
0100 A3                INC     DPTR
0101 7400        R     MOV     A,#HIGH ?SC_275
0103 F0                MOVX    @DPTR,A
0104 A3                INC     DPTR
0105 7400        R     MOV     A,#LOW ?SC_275
0107 F0                MOVX    @DPTR,A
0108 900000      E     MOV     DPTR,#N_IMU_Connected
010B E0                MOVX    A,@DPTR
010C FF                MOV     R7,A
010D 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0110 E4                CLR     A
0111 F0                MOVX    @DPTR,A
0112 A3                INC     DPTR
0113 EF                MOV     A,R7
0114 F0                MOVX    @DPTR,A
0115 7B01              MOV     R3,#01H
0117 7A00        R     MOV     R2,#HIGH str
0119 7900        R     MOV     R1,#LOW str
011B 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 460
011E 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0121 7401              MOV     A,#01H
0123 F0                MOVX    @DPTR,A
0124 A3                INC     DPTR
0125 7400        R     MOV     A,#HIGH str
0127 F0                MOVX    @DPTR,A
0128 A3                INC     DPTR
0129 7400        R     MOV     A,#LOW str
012B F0                MOVX    @DPTR,A
012C 900000      R     MOV     DPTR,#info_string
012F E0                MOVX    A,@DPTR
0130 FB                MOV     R3,A
0131 A3                INC     DPTR
0132 E0                MOVX    A,@DPTR
0133 FA                MOV     R2,A
0134 A3                INC     DPTR
0135 E0                MOVX    A,@DPTR
0136 F9                MOV     R1,A
0137 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 462
013A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
013D 74FF              MOV     A,#0FFH
013F F0                MOVX    @DPTR,A
0140 A3                INC     DPTR
0141 7400        R     MOV     A,#HIGH ?SC_210
0143 F0                MOVX    @DPTR,A
0144 A3                INC     DPTR
0145 7400        R     MOV     A,#LOW ?SC_210
0147 F0                MOVX    @DPTR,A
0148 900000      R     MOV     DPTR,#info_string
014B E0                MOVX    A,@DPTR
014C FB                MOV     R3,A
014D A3                INC     DPTR
014E E0                MOVX    A,@DPTR
014F FA                MOV     R2,A
0150 A3                INC     DPTR
0151 E0                MOVX    A,@DPTR
0152 F9                MOV     R1,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 64  

0153 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 464
0156 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0159 74FF              MOV     A,#0FFH
015B F0                MOVX    @DPTR,A
015C A3                INC     DPTR
015D 7400        R     MOV     A,#HIGH ?SC_295
015F F0                MOVX    @DPTR,A
0160 A3                INC     DPTR
0161 7400        R     MOV     A,#LOW ?SC_295
0163 F0                MOVX    @DPTR,A
0164 900000      R     MOV     DPTR,#info_string
0167 E0                MOVX    A,@DPTR
0168 FB                MOV     R3,A
0169 A3                INC     DPTR
016A E0                MOVX    A,@DPTR
016B FA                MOV     R2,A
016C A3                INC     DPTR
016D E0                MOVX    A,@DPTR
016E F9                MOV     R1,A
016F 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 465
0172 E4                CLR     A
0173 900000      R     MOV     DPTR,#i
0176 F0                MOVX    @DPTR,A
0177 A3                INC     DPTR
0178 F0                MOVX    @DPTR,A
0179         ?C0087:
0179 900000      E     MOV     DPTR,#N_IMU_Connected
017C E0                MOVX    A,@DPTR
017D FF                MOV     R7,A
017E C3                CLR     C
017F 900000      R     MOV     DPTR,#i+01H
0182 E0                MOVX    A,@DPTR
0183 9F                SUBB    A,R7
0184 7480              MOV     A,#080H
0186 F8                MOV     R0,A
0187 900000      R     MOV     DPTR,#i
018A E0                MOVX    A,@DPTR
018B 6480              XRL     A,#080H
018D 98                SUBB    A,R0
018E 4003              JC      $ + 5H
0190 020000      R     LJMP    ?C0088
                                           ; SOURCE LINE # 466
0193 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0196 74FF              MOV     A,#0FFH
0198 F0                MOVX    @DPTR,A
0199 A3                INC     DPTR
019A 7400        R     MOV     A,#HIGH ?SC_316
019C F0                MOVX    @DPTR,A
019D A3                INC     DPTR
019E 7400        R     MOV     A,#LOW ?SC_316
01A0 F0                MOVX    @DPTR,A
01A1 900000      R     MOV     DPTR,#i
01A4 E0                MOVX    A,@DPTR
01A5 FE                MOV     R6,A
01A6 A3                INC     DPTR
01A7 E0                MOVX    A,@DPTR
01A8 FF                MOV     R7,A
01A9 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
01AC EE                MOV     A,R6
01AD F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 65  

01AE A3                INC     DPTR
01AF EF                MOV     A,R7
01B0 F0                MOVX    @DPTR,A
01B1 2400        E     ADD     A,#LOW IMU_connected
01B3 F582              MOV     DPL,A
01B5 7400        E     MOV     A,#HIGH IMU_connected
01B7 3E                ADDC    A,R6
01B8 F583              MOV     DPH,A
01BA E0                MOVX    A,@DPTR
01BB FF                MOV     R7,A
01BC 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
01BF E4                CLR     A
01C0 F0                MOVX    @DPTR,A
01C1 A3                INC     DPTR
01C2 EF                MOV     A,R7
01C3 F0                MOVX    @DPTR,A
01C4 7B01              MOV     R3,#01H
01C6 7A00        R     MOV     R2,#HIGH str
01C8 7900        R     MOV     R1,#LOW str
01CA 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 467
01CD 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
01D0 7401              MOV     A,#01H
01D2 F0                MOVX    @DPTR,A
01D3 A3                INC     DPTR
01D4 7400        R     MOV     A,#HIGH str
01D6 F0                MOVX    @DPTR,A
01D7 A3                INC     DPTR
01D8 7400        R     MOV     A,#LOW str
01DA F0                MOVX    @DPTR,A
01DB 900000      R     MOV     DPTR,#info_string
01DE E0                MOVX    A,@DPTR
01DF FB                MOV     R3,A
01E0 A3                INC     DPTR
01E1 E0                MOVX    A,@DPTR
01E2 FA                MOV     R2,A
01E3 A3                INC     DPTR
01E4 E0                MOVX    A,@DPTR
01E5 F9                MOV     R1,A
01E6 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 469
01E9 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
01EC 74FF              MOV     A,#0FFH
01EE F0                MOVX    @DPTR,A
01EF A3                INC     DPTR
01F0 7400        R     MOV     A,#HIGH ?SC_335
01F2 F0                MOVX    @DPTR,A
01F3 A3                INC     DPTR
01F4 7400        R     MOV     A,#LOW ?SC_335
01F6 F0                MOVX    @DPTR,A
01F7 7B01              MOV     R3,#01H
01F9 7A00        R     MOV     R2,#HIGH str
01FB 7900        R     MOV     R1,#LOW str
01FD 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 470
0200 900000      R     MOV     DPTR,#i
0203 E0                MOVX    A,@DPTR
0204 FE                MOV     R6,A
0205 A3                INC     DPTR
0206 E0                MOVX    A,@DPTR
0207 2400        E     ADD     A,#LOW IMU_connected
0209 F582              MOV     DPL,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 66  

020B 7400        E     MOV     A,#HIGH IMU_connected
020D 3E                ADDC    A,R6
020E F583              MOV     DPH,A
0210 E0                MOVX    A,@DPTR
0211 75F005            MOV     B,#05H
0214 A4                MUL     AB
0215 2400        E     ADD     A,#LOW c_mem+04H
0217 F582              MOV     DPL,A
0219 E4                CLR     A
021A 3400        E     ADDC    A,#HIGH c_mem+04H
021C F583              MOV     DPH,A
021E E0                MOVX    A,@DPTR
021F 6019              JZ      ?C0090
                                           ; SOURCE LINE # 471
0221 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0224 74FF              MOV     A,#0FFH
0226 F0                MOVX    @DPTR,A
0227 A3                INC     DPTR
0228 7400        R     MOV     A,#HIGH ?SC_353
022A F0                MOVX    @DPTR,A
022B A3                INC     DPTR
022C 7400        R     MOV     A,#LOW ?SC_353
022E F0                MOVX    @DPTR,A
022F 7B01              MOV     R3,#01H
0231 7A00        R     MOV     R2,#HIGH str
0233 7900        R     MOV     R1,#LOW str
0235 120000      E     LCALL   _strcat
0238 8017              SJMP    ?C0091
023A         ?C0090:
                                           ; SOURCE LINE # 473
023A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
023D 74FF              MOV     A,#0FFH
023F F0                MOVX    @DPTR,A
0240 A3                INC     DPTR
0241 7400        R     MOV     A,#HIGH ?SC_359
0243 F0                MOVX    @DPTR,A
0244 A3                INC     DPTR
0245 7400        R     MOV     A,#LOW ?SC_359
0247 F0                MOVX    @DPTR,A
0248 7B01              MOV     R3,#01H
024A 7A00        R     MOV     R2,#HIGH str
024C 7900        R     MOV     R1,#LOW str
024E 120000      E     LCALL   _strcat
0251         ?C0091:
                                           ; SOURCE LINE # 474
0251 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0254 74FF              MOV     A,#0FFH
0256 F0                MOVX    @DPTR,A
0257 A3                INC     DPTR
0258 7400        R     MOV     A,#HIGH ?SC_364
025A F0                MOVX    @DPTR,A
025B A3                INC     DPTR
025C 7400        R     MOV     A,#LOW ?SC_364
025E F0                MOVX    @DPTR,A
025F 7B01              MOV     R3,#01H
0261 7A00        R     MOV     R2,#HIGH str
0263 7900        R     MOV     R1,#LOW str
0265 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 475
0268 900000      R     MOV     DPTR,#i
026B E0                MOVX    A,@DPTR
026C FE                MOV     R6,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 67  

026D A3                INC     DPTR
026E E0                MOVX    A,@DPTR
026F 2400        E     ADD     A,#LOW IMU_connected
0271 F582              MOV     DPL,A
0273 7400        E     MOV     A,#HIGH IMU_connected
0275 3E                ADDC    A,R6
0276 F583              MOV     DPH,A
0278 E0                MOVX    A,@DPTR
0279 75F005            MOV     B,#05H
027C A4                MUL     AB
027D 2400        E     ADD     A,#LOW c_mem+05H
027F F582              MOV     DPL,A
0281 E4                CLR     A
0282 3400        E     ADDC    A,#HIGH c_mem+05H
0284 F583              MOV     DPH,A
0286 E0                MOVX    A,@DPTR
0287 6019              JZ      ?C0092
                                           ; SOURCE LINE # 476
0289 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
028C 74FF              MOV     A,#0FFH
028E F0                MOVX    @DPTR,A
028F A3                INC     DPTR
0290 7400        R     MOV     A,#HIGH ?SC_353
0292 F0                MOVX    @DPTR,A
0293 A3                INC     DPTR
0294 7400        R     MOV     A,#LOW ?SC_353
0296 F0                MOVX    @DPTR,A
0297 7B01              MOV     R3,#01H
0299 7A00        R     MOV     R2,#HIGH str
029B 7900        R     MOV     R1,#LOW str
029D 120000      E     LCALL   _strcat
02A0 8017              SJMP    ?C0093
02A2         ?C0092:
                                           ; SOURCE LINE # 478
02A2 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
02A5 74FF              MOV     A,#0FFH
02A7 F0                MOVX    @DPTR,A
02A8 A3                INC     DPTR
02A9 7400        R     MOV     A,#HIGH ?SC_359
02AB F0                MOVX    @DPTR,A
02AC A3                INC     DPTR
02AD 7400        R     MOV     A,#LOW ?SC_359
02AF F0                MOVX    @DPTR,A
02B0 7B01              MOV     R3,#01H
02B2 7A00        R     MOV     R2,#HIGH str
02B4 7900        R     MOV     R1,#LOW str
02B6 120000      E     LCALL   _strcat
02B9         ?C0093:
                                           ; SOURCE LINE # 479
02B9 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
02BC 74FF              MOV     A,#0FFH
02BE F0                MOVX    @DPTR,A
02BF A3                INC     DPTR
02C0 7400        R     MOV     A,#HIGH ?SC_378
02C2 F0                MOVX    @DPTR,A
02C3 A3                INC     DPTR
02C4 7400        R     MOV     A,#LOW ?SC_378
02C6 F0                MOVX    @DPTR,A
02C7 7B01              MOV     R3,#01H
02C9 7A00        R     MOV     R2,#HIGH str
02CB 7900        R     MOV     R1,#LOW str
02CD 120000      E     LCALL   _strcat
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 68  

                                           ; SOURCE LINE # 480
02D0 900000      R     MOV     DPTR,#i
02D3 E0                MOVX    A,@DPTR
02D4 FE                MOV     R6,A
02D5 A3                INC     DPTR
02D6 E0                MOVX    A,@DPTR
02D7 2400        E     ADD     A,#LOW IMU_connected
02D9 F582              MOV     DPL,A
02DB 7400        E     MOV     A,#HIGH IMU_connected
02DD 3E                ADDC    A,R6
02DE F583              MOV     DPH,A
02E0 E0                MOVX    A,@DPTR
02E1 75F005            MOV     B,#05H
02E4 A4                MUL     AB
02E5 2400        E     ADD     A,#LOW c_mem+06H
02E7 F582              MOV     DPL,A
02E9 E4                CLR     A
02EA 3400        E     ADDC    A,#HIGH c_mem+06H
02EC F583              MOV     DPH,A
02EE E0                MOVX    A,@DPTR
02EF 6019              JZ      ?C0094
                                           ; SOURCE LINE # 481
02F1 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
02F4 74FF              MOV     A,#0FFH
02F6 F0                MOVX    @DPTR,A
02F7 A3                INC     DPTR
02F8 7400        R     MOV     A,#HIGH ?SC_353
02FA F0                MOVX    @DPTR,A
02FB A3                INC     DPTR
02FC 7400        R     MOV     A,#LOW ?SC_353
02FE F0                MOVX    @DPTR,A
02FF 7B01              MOV     R3,#01H
0301 7A00        R     MOV     R2,#HIGH str
0303 7900        R     MOV     R1,#LOW str
0305 120000      E     LCALL   _strcat
0308 8017              SJMP    ?C0095
030A         ?C0094:
                                           ; SOURCE LINE # 483
030A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
030D 74FF              MOV     A,#0FFH
030F F0                MOVX    @DPTR,A
0310 A3                INC     DPTR
0311 7400        R     MOV     A,#HIGH ?SC_359
0313 F0                MOVX    @DPTR,A
0314 A3                INC     DPTR
0315 7400        R     MOV     A,#LOW ?SC_359
0317 F0                MOVX    @DPTR,A
0318 7B01              MOV     R3,#01H
031A 7A00        R     MOV     R2,#HIGH str
031C 7900        R     MOV     R1,#LOW str
031E 120000      E     LCALL   _strcat
0321         ?C0095:
                                           ; SOURCE LINE # 484
0321 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0324 74FF              MOV     A,#0FFH
0326 F0                MOVX    @DPTR,A
0327 A3                INC     DPTR
0328 7400        R     MOV     A,#HIGH ?SC_395
032A F0                MOVX    @DPTR,A
032B A3                INC     DPTR
032C 7400        R     MOV     A,#LOW ?SC_395
032E F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 69  

032F 7B01              MOV     R3,#01H
0331 7A00        R     MOV     R2,#HIGH str
0333 7900        R     MOV     R1,#LOW str
0335 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 485
0338 900000      R     MOV     DPTR,#i
033B E0                MOVX    A,@DPTR
033C FE                MOV     R6,A
033D A3                INC     DPTR
033E E0                MOVX    A,@DPTR
033F 2400        E     ADD     A,#LOW IMU_connected
0341 F582              MOV     DPL,A
0343 7400        E     MOV     A,#HIGH IMU_connected
0345 3E                ADDC    A,R6
0346 F583              MOV     DPH,A
0348 E0                MOVX    A,@DPTR
0349 75F005            MOV     B,#05H
034C A4                MUL     AB
034D 2400        E     ADD     A,#LOW c_mem+07H
034F F582              MOV     DPL,A
0351 E4                CLR     A
0352 3400        E     ADDC    A,#HIGH c_mem+07H
0354 F583              MOV     DPH,A
0356 E0                MOVX    A,@DPTR
0357 6019              JZ      ?C0096
                                           ; SOURCE LINE # 486
0359 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
035C 74FF              MOV     A,#0FFH
035E F0                MOVX    @DPTR,A
035F A3                INC     DPTR
0360 7400        R     MOV     A,#HIGH ?SC_353
0362 F0                MOVX    @DPTR,A
0363 A3                INC     DPTR
0364 7400        R     MOV     A,#LOW ?SC_353
0366 F0                MOVX    @DPTR,A
0367 7B01              MOV     R3,#01H
0369 7A00        R     MOV     R2,#HIGH str
036B 7900        R     MOV     R1,#LOW str
036D 120000      E     LCALL   _strcat
0370 8017              SJMP    ?C0097
0372         ?C0096:
                                           ; SOURCE LINE # 488
0372 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0375 74FF              MOV     A,#0FFH
0377 F0                MOVX    @DPTR,A
0378 A3                INC     DPTR
0379 7400        R     MOV     A,#HIGH ?SC_359
037B F0                MOVX    @DPTR,A
037C A3                INC     DPTR
037D 7400        R     MOV     A,#LOW ?SC_359
037F F0                MOVX    @DPTR,A
0380 7B01              MOV     R3,#01H
0382 7A00        R     MOV     R2,#HIGH str
0384 7900        R     MOV     R1,#LOW str
0386 120000      E     LCALL   _strcat
0389         ?C0097:
                                           ; SOURCE LINE # 489
0389 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
038C 74FF              MOV     A,#0FFH
038E F0                MOVX    @DPTR,A
038F A3                INC     DPTR
0390 7400        R     MOV     A,#HIGH ?SC_409
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 70  

0392 F0                MOVX    @DPTR,A
0393 A3                INC     DPTR
0394 7400        R     MOV     A,#LOW ?SC_409
0396 F0                MOVX    @DPTR,A
0397 7B01              MOV     R3,#01H
0399 7A00        R     MOV     R2,#HIGH str
039B 7900        R     MOV     R1,#LOW str
039D 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 490
03A0 900000      R     MOV     DPTR,#i
03A3 E0                MOVX    A,@DPTR
03A4 FE                MOV     R6,A
03A5 A3                INC     DPTR
03A6 E0                MOVX    A,@DPTR
03A7 2400        E     ADD     A,#LOW IMU_connected
03A9 F582              MOV     DPL,A
03AB 7400        E     MOV     A,#HIGH IMU_connected
03AD 3E                ADDC    A,R6
03AE F583              MOV     DPH,A
03B0 E0                MOVX    A,@DPTR
03B1 75F005            MOV     B,#05H
03B4 A4                MUL     AB
03B5 2400        E     ADD     A,#LOW c_mem+08H
03B7 F582              MOV     DPL,A
03B9 E4                CLR     A
03BA 3400        E     ADDC    A,#HIGH c_mem+08H
03BC F583              MOV     DPH,A
03BE E0                MOVX    A,@DPTR
03BF 6019              JZ      ?C0098
                                           ; SOURCE LINE # 491
03C1 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
03C4 74FF              MOV     A,#0FFH
03C6 F0                MOVX    @DPTR,A
03C7 A3                INC     DPTR
03C8 7400        R     MOV     A,#HIGH ?SC_353
03CA F0                MOVX    @DPTR,A
03CB A3                INC     DPTR
03CC 7400        R     MOV     A,#LOW ?SC_353
03CE F0                MOVX    @DPTR,A
03CF 7B01              MOV     R3,#01H
03D1 7A00        R     MOV     R2,#HIGH str
03D3 7900        R     MOV     R1,#LOW str
03D5 120000      E     LCALL   _strcat
03D8 8017              SJMP    ?C0099
03DA         ?C0098:
                                           ; SOURCE LINE # 493
03DA 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
03DD 74FF              MOV     A,#0FFH
03DF F0                MOVX    @DPTR,A
03E0 A3                INC     DPTR
03E1 7400        R     MOV     A,#HIGH ?SC_359
03E3 F0                MOVX    @DPTR,A
03E4 A3                INC     DPTR
03E5 7400        R     MOV     A,#LOW ?SC_359
03E7 F0                MOVX    @DPTR,A
03E8 7B01              MOV     R3,#01H
03EA 7A00        R     MOV     R2,#HIGH str
03EC 7900        R     MOV     R1,#LOW str
03EE 120000      E     LCALL   _strcat
03F1         ?C0099:
                                           ; SOURCE LINE # 495
03F1 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 71  

03F4 7401              MOV     A,#01H
03F6 F0                MOVX    @DPTR,A
03F7 A3                INC     DPTR
03F8 7400        R     MOV     A,#HIGH str
03FA F0                MOVX    @DPTR,A
03FB A3                INC     DPTR
03FC 7400        R     MOV     A,#LOW str
03FE F0                MOVX    @DPTR,A
03FF 900000      R     MOV     DPTR,#info_string
0402 E0                MOVX    A,@DPTR
0403 FB                MOV     R3,A
0404 A3                INC     DPTR
0405 E0                MOVX    A,@DPTR
0406 FA                MOV     R2,A
0407 A3                INC     DPTR
0408 E0                MOVX    A,@DPTR
0409 F9                MOV     R1,A
040A 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 496
040D 900000      R     MOV     DPTR,#i+01H
0410 E0                MOVX    A,@DPTR
0411 04                INC     A
0412 F0                MOVX    @DPTR,A
0413 7006              JNZ     ?C0184
0415 900000      R     MOV     DPTR,#i
0418 E0                MOVX    A,@DPTR
0419 04                INC     A
041A F0                MOVX    @DPTR,A
041B         ?C0184:
041B 020000      R     LJMP    ?C0087
041E         ?C0088:
                                           ; SOURCE LINE # 498
041E 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0421 74FF              MOV     A,#0FFH
0423 F0                MOVX    @DPTR,A
0424 A3                INC     DPTR
0425 7400        R     MOV     A,#HIGH ?SC_210
0427 F0                MOVX    @DPTR,A
0428 A3                INC     DPTR
0429 7400        R     MOV     A,#LOW ?SC_210
042B F0                MOVX    @DPTR,A
042C 900000      R     MOV     DPTR,#info_string
042F E0                MOVX    A,@DPTR
0430 FB                MOV     R3,A
0431 A3                INC     DPTR
0432 E0                MOVX    A,@DPTR
0433 FA                MOV     R2,A
0434 A3                INC     DPTR
0435 E0                MOVX    A,@DPTR
0436 F9                MOV     R1,A
0437 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 500
043A 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
043D 74FF              MOV     A,#0FFH
043F F0                MOVX    @DPTR,A
0440 A3                INC     DPTR
0441 7400        R     MOV     A,#HIGH ?SC_424
0443 F0                MOVX    @DPTR,A
0444 A3                INC     DPTR
0445 7400        R     MOV     A,#LOW ?SC_424
0447 F0                MOVX    @DPTR,A
0448 900000      E     MOV     DPTR,#timer_value
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 72  

044B E0                MOVX    A,@DPTR
044C F8                MOV     R0,A
044D A3                INC     DPTR
044E E0                MOVX    A,@DPTR
044F F9                MOV     R1,A
0450 A3                INC     DPTR
0451 E0                MOVX    A,@DPTR
0452 FA                MOV     R2,A
0453 A3                INC     DPTR
0454 E0                MOVX    A,@DPTR
0455 FB                MOV     R3,A
0456 900000      E     MOV     DPTR,#timer_value0
0459 E0                MOVX    A,@DPTR
045A FC                MOV     R4,A
045B A3                INC     DPTR
045C E0                MOVX    A,@DPTR
045D FD                MOV     R5,A
045E A3                INC     DPTR
045F E0                MOVX    A,@DPTR
0460 FE                MOV     R6,A
0461 A3                INC     DPTR
0462 E0                MOVX    A,@DPTR
0463 C3                CLR     C
0464 9B                SUBB    A,R3
0465 FF                MOV     R7,A
0466 EE                MOV     A,R6
0467 9A                SUBB    A,R2
0468 FE                MOV     R6,A
0469 ED                MOV     A,R5
046A 99                SUBB    A,R1
046B FD                MOV     R5,A
046C EC                MOV     A,R4
046D 98                SUBB    A,R0
046E FC                MOV     R4,A
046F E4                CLR     A
0470 120000      E     LCALL   ?C?FCASTL
0473 E4                CLR     A
0474 FB                MOV     R3,A
0475 FA                MOV     R2,A
0476 797A              MOV     R1,#07AH
0478 7844              MOV     R0,#044H
047A 120000      E     LCALL   ?C?FPDIV
047D 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0480 120000      E     LCALL   ?C?LSTXDATA
0483 7B01              MOV     R3,#01H
0485 7A00        R     MOV     R2,#HIGH str
0487 7900        R     MOV     R1,#LOW str
0489 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 501
048C 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
048F 7401              MOV     A,#01H
0491 F0                MOVX    @DPTR,A
0492 A3                INC     DPTR
0493 7400        R     MOV     A,#HIGH str
0495 F0                MOVX    @DPTR,A
0496 A3                INC     DPTR
0497 7400        R     MOV     A,#LOW str
0499 F0                MOVX    @DPTR,A
049A 900000      R     MOV     DPTR,#info_string
049D E0                MOVX    A,@DPTR
049E FB                MOV     R3,A
049F A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 73  

04A0 E0                MOVX    A,@DPTR
04A1 FA                MOV     R2,A
04A2 A3                INC     DPTR
04A3 E0                MOVX    A,@DPTR
04A4 F9                MOV     R1,A
04A5 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 502
04A8 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
04AB 74FF              MOV     A,#0FFH
04AD F0                MOVX    @DPTR,A
04AE A3                INC     DPTR
04AF 7400        R     MOV     A,#HIGH ?SC_210
04B1 F0                MOVX    @DPTR,A
04B2 A3                INC     DPTR
04B3 7400        R     MOV     A,#LOW ?SC_210
04B5 F0                MOVX    @DPTR,A
04B6 900000      R     MOV     DPTR,#info_string
04B9 E0                MOVX    A,@DPTR
04BA FB                MOV     R3,A
04BB A3                INC     DPTR
04BC E0                MOVX    A,@DPTR
04BD FA                MOV     R2,A
04BE A3                INC     DPTR
04BF E0                MOVX    A,@DPTR
04C0 F9                MOV     R1,A
04C1 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 503
04C4 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
04C7 74FF              MOV     A,#0FFH
04C9 F0                MOVX    @DPTR,A
04CA A3                INC     DPTR
04CB 7400        R     MOV     A,#HIGH ?SC_210
04CD F0                MOVX    @DPTR,A
04CE A3                INC     DPTR
04CF 7400        R     MOV     A,#LOW ?SC_210
04D1 F0                MOVX    @DPTR,A
04D2 900000      R     MOV     DPTR,#info_string
04D5 E0                MOVX    A,@DPTR
04D6 FB                MOV     R3,A
04D7 A3                INC     DPTR
04D8 E0                MOVX    A,@DPTR
04D9 FA                MOV     R2,A
04DA A3                INC     DPTR
04DB E0                MOVX    A,@DPTR
04DC F9                MOV     R1,A
04DD 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 505
04E0 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
04E3 74FF              MOV     A,#0FFH
04E5 F0                MOVX    @DPTR,A
04E6 A3                INC     DPTR
04E7 7400        R     MOV     A,#HIGH ?SC_465
04E9 F0                MOVX    @DPTR,A
04EA A3                INC     DPTR
04EB 7400        R     MOV     A,#LOW ?SC_465
04ED F0                MOVX    @DPTR,A
04EE 900000      E     MOV     DPTR,#timer_value
04F1 E0                MOVX    A,@DPTR
04F2 F8                MOV     R0,A
04F3 A3                INC     DPTR
04F4 E0                MOVX    A,@DPTR
04F5 F9                MOV     R1,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 74  

04F6 A3                INC     DPTR
04F7 E0                MOVX    A,@DPTR
04F8 FA                MOV     R2,A
04F9 A3                INC     DPTR
04FA E0                MOVX    A,@DPTR
04FB FB                MOV     R3,A
04FC 900000      E     MOV     DPTR,#timer_value0
04FF E0                MOVX    A,@DPTR
0500 FC                MOV     R4,A
0501 A3                INC     DPTR
0502 E0                MOVX    A,@DPTR
0503 FD                MOV     R5,A
0504 A3                INC     DPTR
0505 E0                MOVX    A,@DPTR
0506 FE                MOV     R6,A
0507 A3                INC     DPTR
0508 E0                MOVX    A,@DPTR
0509 C3                CLR     C
050A 9B                SUBB    A,R3
050B FF                MOV     R7,A
050C EE                MOV     A,R6
050D 9A                SUBB    A,R2
050E FE                MOV     R6,A
050F ED                MOV     A,R5
0510 99                SUBB    A,R1
0511 FD                MOV     R5,A
0512 EC                MOV     A,R4
0513 98                SUBB    A,R0
0514 FC                MOV     R4,A
0515 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0518 120000      E     LCALL   ?C?LSTXDATA
051B 7B01              MOV     R3,#01H
051D 7A00        R     MOV     R2,#HIGH str
051F 7900        R     MOV     R1,#LOW str
0521 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 506
0524 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0527 7401              MOV     A,#01H
0529 F0                MOVX    @DPTR,A
052A A3                INC     DPTR
052B 7400        R     MOV     A,#HIGH str
052D F0                MOVX    @DPTR,A
052E A3                INC     DPTR
052F 7400        R     MOV     A,#LOW str
0531 F0                MOVX    @DPTR,A
0532 900000      R     MOV     DPTR,#info_string
0535 E0                MOVX    A,@DPTR
0536 FB                MOV     R3,A
0537 A3                INC     DPTR
0538 E0                MOVX    A,@DPTR
0539 FA                MOV     R2,A
053A A3                INC     DPTR
053B E0                MOVX    A,@DPTR
053C F9                MOV     R1,A
053D 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 507
0540 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0543 74FF              MOV     A,#0FFH
0545 F0                MOVX    @DPTR,A
0546 A3                INC     DPTR
0547 7400        R     MOV     A,#HIGH ?SC_210
0549 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 75  

054A A3                INC     DPTR
054B 7400        R     MOV     A,#LOW ?SC_210
054D F0                MOVX    @DPTR,A
054E 900000      R     MOV     DPTR,#info_string
0551 E0                MOVX    A,@DPTR
0552 FB                MOV     R3,A
0553 A3                INC     DPTR
0554 E0                MOVX    A,@DPTR
0555 FA                MOV     R2,A
0556 A3                INC     DPTR
0557 E0                MOVX    A,@DPTR
0558 F9                MOV     R1,A
0559 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 508
055C 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
055F 74FF              MOV     A,#0FFH
0561 F0                MOVX    @DPTR,A
0562 A3                INC     DPTR
0563 7400        R     MOV     A,#HIGH ?SC_210
0565 F0                MOVX    @DPTR,A
0566 A3                INC     DPTR
0567 7400        R     MOV     A,#LOW ?SC_210
0569 F0                MOVX    @DPTR,A
056A 900000      R     MOV     DPTR,#info_string
056D E0                MOVX    A,@DPTR
056E FB                MOV     R3,A
056F A3                INC     DPTR
0570 E0                MOVX    A,@DPTR
0571 FA                MOV     R2,A
0572 A3                INC     DPTR
0573 E0                MOVX    A,@DPTR
0574 F9                MOV     R1,A
0575 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 509
                                           ; SOURCE LINE # 510
0578         ?C0100:
0578 22                RET     
             ; FUNCTION _infoPrepare (END)

             ; FUNCTION _infoReading (BEGIN)
                                           ; SOURCE LINE # 513
0000 900000      R     MOV     DPTR,#info_string
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 514
                                           ; SOURCE LINE # 518
000B 900000      R     MOV     DPTR,#info_string
000E E0                MOVX    A,@DPTR
000F FB                MOV     R3,A
0010 A3                INC     DPTR
0011 E0                MOVX    A,@DPTR
0012 FA                MOV     R2,A
0013 A3                INC     DPTR
0014 E0                MOVX    A,@DPTR
0015 F8                MOV     R0,A
0016 AC02              MOV     R4,AR2
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 76  

0018 AD03              MOV     R5,AR3
001A 7BFF              MOV     R3,#0FFH
001C 7A00        R     MOV     R2,#HIGH ?SC_209
001E 7900        R     MOV     R1,#LOW ?SC_209
0020 120000      E     LCALL   ?C?STRCPYAMD
                                           ; SOURCE LINE # 519
0023 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0026 74FF              MOV     A,#0FFH
0028 F0                MOVX    @DPTR,A
0029 A3                INC     DPTR
002A 7400        R     MOV     A,#HIGH ?SC_210
002C F0                MOVX    @DPTR,A
002D A3                INC     DPTR
002E 7400        R     MOV     A,#LOW ?SC_210
0030 F0                MOVX    @DPTR,A
0031 900000      R     MOV     DPTR,#info_string
0034 E0                MOVX    A,@DPTR
0035 FB                MOV     R3,A
0036 A3                INC     DPTR
0037 E0                MOVX    A,@DPTR
0038 FA                MOV     R2,A
0039 A3                INC     DPTR
003A E0                MOVX    A,@DPTR
003B F9                MOV     R1,A
003C 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 520
003F 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0042 74FF              MOV     A,#0FFH
0044 F0                MOVX    @DPTR,A
0045 A3                INC     DPTR
0046 7400        R     MOV     A,#HIGH ?SC_476
0048 F0                MOVX    @DPTR,A
0049 A3                INC     DPTR
004A 7400        R     MOV     A,#LOW ?SC_476
004C F0                MOVX    @DPTR,A
004D 900000      R     MOV     DPTR,#info_string
0050 E0                MOVX    A,@DPTR
0051 FB                MOV     R3,A
0052 A3                INC     DPTR
0053 E0                MOVX    A,@DPTR
0054 FA                MOV     R2,A
0055 A3                INC     DPTR
0056 E0                MOVX    A,@DPTR
0057 F9                MOV     R1,A
0058 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 521
005B E4                CLR     A
005C 900000      R     MOV     DPTR,#i
005F F0                MOVX    @DPTR,A
0060 A3                INC     DPTR
0061 F0                MOVX    @DPTR,A
0062         ?C0101:
0062 900000      E     MOV     DPTR,#N_IMU_Connected
0065 E0                MOVX    A,@DPTR
0066 FF                MOV     R7,A
0067 C3                CLR     C
0068 900000      R     MOV     DPTR,#i+01H
006B E0                MOVX    A,@DPTR
006C 9F                SUBB    A,R7
006D 7480              MOV     A,#080H
006F F8                MOV     R0,A
0070 900000      R     MOV     DPTR,#i
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 77  

0073 E0                MOVX    A,@DPTR
0074 6480              XRL     A,#080H
0076 98                SUBB    A,R0
0077 4003              JC      $ + 5H
0079 020000      R     LJMP    ?C0109
                                           ; SOURCE LINE # 522
007C 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
007F 74FF              MOV     A,#0FFH
0081 F0                MOVX    @DPTR,A
0082 A3                INC     DPTR
0083 7400        R     MOV     A,#HIGH ?SC_316
0085 F0                MOVX    @DPTR,A
0086 A3                INC     DPTR
0087 7400        R     MOV     A,#LOW ?SC_316
0089 F0                MOVX    @DPTR,A
008A 900000      R     MOV     DPTR,#i
008D E0                MOVX    A,@DPTR
008E FE                MOV     R6,A
008F A3                INC     DPTR
0090 E0                MOVX    A,@DPTR
0091 FF                MOV     R7,A
0092 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0095 EE                MOV     A,R6
0096 F0                MOVX    @DPTR,A
0097 A3                INC     DPTR
0098 EF                MOV     A,R7
0099 F0                MOVX    @DPTR,A
009A 2400        E     ADD     A,#LOW IMU_connected
009C F582              MOV     DPL,A
009E 7400        E     MOV     A,#HIGH IMU_connected
00A0 3E                ADDC    A,R6
00A1 F583              MOV     DPH,A
00A3 E0                MOVX    A,@DPTR
00A4 FF                MOV     R7,A
00A5 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
00A8 E4                CLR     A
00A9 F0                MOVX    @DPTR,A
00AA A3                INC     DPTR
00AB EF                MOV     A,R7
00AC F0                MOVX    @DPTR,A
00AD 7B01              MOV     R3,#01H
00AF 7A00        R     MOV     R2,#HIGH str
00B1 7900        R     MOV     R1,#LOW str
00B3 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 523
00B6 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
00B9 7401              MOV     A,#01H
00BB F0                MOVX    @DPTR,A
00BC A3                INC     DPTR
00BD 7400        R     MOV     A,#HIGH str
00BF F0                MOVX    @DPTR,A
00C0 A3                INC     DPTR
00C1 7400        R     MOV     A,#LOW str
00C3 F0                MOVX    @DPTR,A
00C4 900000      R     MOV     DPTR,#info_string
00C7 E0                MOVX    A,@DPTR
00C8 FB                MOV     R3,A
00C9 A3                INC     DPTR
00CA E0                MOVX    A,@DPTR
00CB FA                MOV     R2,A
00CC A3                INC     DPTR
00CD E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 78  

00CE F9                MOV     R1,A
00CF 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 525
00D2 900000      R     MOV     DPTR,#i
00D5 E0                MOVX    A,@DPTR
00D6 FE                MOV     R6,A
00D7 A3                INC     DPTR
00D8 E0                MOVX    A,@DPTR
00D9 FF                MOV     R7,A
00DA 2400        E     ADD     A,#LOW IMU_connected
00DC F582              MOV     DPL,A
00DE 7400        E     MOV     A,#HIGH IMU_connected
00E0 3E                ADDC    A,R6
00E1 F583              MOV     DPH,A
00E3 E0                MOVX    A,@DPTR
00E4 75F005            MOV     B,#05H
00E7 A4                MUL     AB
00E8 2400        E     ADD     A,#LOW c_mem+04H
00EA F582              MOV     DPL,A
00EC E4                CLR     A
00ED 3400        E     ADDC    A,#HIGH c_mem+04H
00EF F583              MOV     DPH,A
00F1 E0                MOVX    A,@DPTR
00F2 7003              JNZ     $ + 5H
00F4 020000      R     LJMP    ?C0104
                                           ; SOURCE LINE # 526
00F7 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
00FA 74FF              MOV     A,#0FFH
00FC F0                MOVX    @DPTR,A
00FD A3                INC     DPTR
00FE 7400        R     MOV     A,#HIGH ?SC_491
0100 F0                MOVX    @DPTR,A
0101 A3                INC     DPTR
0102 7400        R     MOV     A,#LOW ?SC_491
0104 F0                MOVX    @DPTR,A
0105 900000      E     MOV     DPTR,#g_imu+01H
0108 75F025            MOV     B,#025H
010B EF                MOV     A,R7
010C 120000      E     LCALL   ?C?OFFXADD
010F EE                MOV     A,R6
0110 75F025            MOV     B,#025H
0113 A4                MUL     AB
0114 2583              ADD     A,DPH
0116 F583              MOV     DPH,A
0118 E0                MOVX    A,@DPTR
0119 FD                MOV     R5,A
011A A3                INC     DPTR
011B E0                MOVX    A,@DPTR
011C 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
011F CD                XCH     A,R5
0120 F0                MOVX    @DPTR,A
0121 A3                INC     DPTR
0122 ED                MOV     A,R5
0123 F0                MOVX    @DPTR,A
0124 900000      E     MOV     DPTR,#g_imu+03H
0127 75F025            MOV     B,#025H
012A EF                MOV     A,R7
012B 120000      E     LCALL   ?C?OFFXADD
012E EE                MOV     A,R6
012F 75F025            MOV     B,#025H
0132 A4                MUL     AB
0133 2583              ADD     A,DPH
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 79  

0135 F583              MOV     DPH,A
0137 E0                MOVX    A,@DPTR
0138 FF                MOV     R7,A
0139 A3                INC     DPTR
013A E0                MOVX    A,@DPTR
013B 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
013E CF                XCH     A,R7
013F F0                MOVX    @DPTR,A
0140 A3                INC     DPTR
0141 EF                MOV     A,R7
0142 F0                MOVX    @DPTR,A
0143 900000      R     MOV     DPTR,#i
0146 E0                MOVX    A,@DPTR
0147 A3                INC     DPTR
0148 E0                MOVX    A,@DPTR
0149 900000      E     MOV     DPTR,#g_imu+05H
014C 75F025            MOV     B,#025H
014F 120000      E     LCALL   ?C?OFFXADD
0152 EE                MOV     A,R6
0153 75F025            MOV     B,#025H
0156 A4                MUL     AB
0157 2583              ADD     A,DPH
0159 F583              MOV     DPH,A
015B E0                MOVX    A,@DPTR
015C FF                MOV     R7,A
015D A3                INC     DPTR
015E E0                MOVX    A,@DPTR
015F 900000      E     MOV     DPTR,#?_sprintf?BYTE+0AH
0162 CF                XCH     A,R7
0163 F0                MOVX    @DPTR,A
0164 A3                INC     DPTR
0165 EF                MOV     A,R7
0166 F0                MOVX    @DPTR,A
0167 7B01              MOV     R3,#01H
0169 7A00        R     MOV     R2,#HIGH str
016B 7900        R     MOV     R1,#LOW str
016D 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 527
0170 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0173 7401              MOV     A,#01H
0175 F0                MOVX    @DPTR,A
0176 A3                INC     DPTR
0177 7400        R     MOV     A,#HIGH str
0179 F0                MOVX    @DPTR,A
017A A3                INC     DPTR
017B 7400        R     MOV     A,#LOW str
017D F0                MOVX    @DPTR,A
017E 900000      R     MOV     DPTR,#info_string
0181 E0                MOVX    A,@DPTR
0182 FB                MOV     R3,A
0183 A3                INC     DPTR
0184 E0                MOVX    A,@DPTR
0185 FA                MOV     R2,A
0186 A3                INC     DPTR
0187 E0                MOVX    A,@DPTR
0188 F9                MOV     R1,A
0189 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 528
018C         ?C0104:
                                           ; SOURCE LINE # 530
018C 900000      R     MOV     DPTR,#i
018F E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 80  

0190 FE                MOV     R6,A
0191 A3                INC     DPTR
0192 E0                MOVX    A,@DPTR
0193 FF                MOV     R7,A
0194 2400        E     ADD     A,#LOW IMU_connected
0196 F582              MOV     DPL,A
0198 7400        E     MOV     A,#HIGH IMU_connected
019A 3E                ADDC    A,R6
019B F583              MOV     DPH,A
019D E0                MOVX    A,@DPTR
019E 75F005            MOV     B,#05H
01A1 A4                MUL     AB
01A2 2400        E     ADD     A,#LOW c_mem+05H
01A4 F582              MOV     DPL,A
01A6 E4                CLR     A
01A7 3400        E     ADDC    A,#HIGH c_mem+05H
01A9 F583              MOV     DPH,A
01AB E0                MOVX    A,@DPTR
01AC 7003              JNZ     $ + 5H
01AE 020000      R     LJMP    ?C0105
                                           ; SOURCE LINE # 531
01B1 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
01B4 74FF              MOV     A,#0FFH
01B6 F0                MOVX    @DPTR,A
01B7 A3                INC     DPTR
01B8 7400        R     MOV     A,#HIGH ?SC_508
01BA F0                MOVX    @DPTR,A
01BB A3                INC     DPTR
01BC 7400        R     MOV     A,#LOW ?SC_508
01BE F0                MOVX    @DPTR,A
01BF 900000      E     MOV     DPTR,#g_imu+07H
01C2 75F025            MOV     B,#025H
01C5 EF                MOV     A,R7
01C6 120000      E     LCALL   ?C?OFFXADD
01C9 EE                MOV     A,R6
01CA 75F025            MOV     B,#025H
01CD A4                MUL     AB
01CE 2583              ADD     A,DPH
01D0 F583              MOV     DPH,A
01D2 E0                MOVX    A,@DPTR
01D3 FD                MOV     R5,A
01D4 A3                INC     DPTR
01D5 E0                MOVX    A,@DPTR
01D6 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
01D9 CD                XCH     A,R5
01DA F0                MOVX    @DPTR,A
01DB A3                INC     DPTR
01DC ED                MOV     A,R5
01DD F0                MOVX    @DPTR,A
01DE 900000      E     MOV     DPTR,#g_imu+09H
01E1 75F025            MOV     B,#025H
01E4 EF                MOV     A,R7
01E5 120000      E     LCALL   ?C?OFFXADD
01E8 EE                MOV     A,R6
01E9 75F025            MOV     B,#025H
01EC A4                MUL     AB
01ED 2583              ADD     A,DPH
01EF F583              MOV     DPH,A
01F1 E0                MOVX    A,@DPTR
01F2 FF                MOV     R7,A
01F3 A3                INC     DPTR
01F4 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 81  

01F5 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
01F8 CF                XCH     A,R7
01F9 F0                MOVX    @DPTR,A
01FA A3                INC     DPTR
01FB EF                MOV     A,R7
01FC F0                MOVX    @DPTR,A
01FD 900000      R     MOV     DPTR,#i
0200 E0                MOVX    A,@DPTR
0201 A3                INC     DPTR
0202 E0                MOVX    A,@DPTR
0203 900000      E     MOV     DPTR,#g_imu+0BH
0206 75F025            MOV     B,#025H
0209 120000      E     LCALL   ?C?OFFXADD
020C EE                MOV     A,R6
020D 75F025            MOV     B,#025H
0210 A4                MUL     AB
0211 2583              ADD     A,DPH
0213 F583              MOV     DPH,A
0215 E0                MOVX    A,@DPTR
0216 FF                MOV     R7,A
0217 A3                INC     DPTR
0218 E0                MOVX    A,@DPTR
0219 900000      E     MOV     DPTR,#?_sprintf?BYTE+0AH
021C CF                XCH     A,R7
021D F0                MOVX    @DPTR,A
021E A3                INC     DPTR
021F EF                MOV     A,R7
0220 F0                MOVX    @DPTR,A
0221 7B01              MOV     R3,#01H
0223 7A00        R     MOV     R2,#HIGH str
0225 7900        R     MOV     R1,#LOW str
0227 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 532
022A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
022D 7401              MOV     A,#01H
022F F0                MOVX    @DPTR,A
0230 A3                INC     DPTR
0231 7400        R     MOV     A,#HIGH str
0233 F0                MOVX    @DPTR,A
0234 A3                INC     DPTR
0235 7400        R     MOV     A,#LOW str
0237 F0                MOVX    @DPTR,A
0238 900000      R     MOV     DPTR,#info_string
023B E0                MOVX    A,@DPTR
023C FB                MOV     R3,A
023D A3                INC     DPTR
023E E0                MOVX    A,@DPTR
023F FA                MOV     R2,A
0240 A3                INC     DPTR
0241 E0                MOVX    A,@DPTR
0242 F9                MOV     R1,A
0243 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 533
0246         ?C0105:
                                           ; SOURCE LINE # 535
0246 900000      R     MOV     DPTR,#i
0249 E0                MOVX    A,@DPTR
024A FE                MOV     R6,A
024B A3                INC     DPTR
024C E0                MOVX    A,@DPTR
024D FF                MOV     R7,A
024E 2400        E     ADD     A,#LOW IMU_connected
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 82  

0250 F582              MOV     DPL,A
0252 7400        E     MOV     A,#HIGH IMU_connected
0254 3E                ADDC    A,R6
0255 F583              MOV     DPH,A
0257 E0                MOVX    A,@DPTR
0258 75F005            MOV     B,#05H
025B A4                MUL     AB
025C 2400        E     ADD     A,#LOW c_mem+06H
025E F582              MOV     DPL,A
0260 E4                CLR     A
0261 3400        E     ADDC    A,#HIGH c_mem+06H
0263 F583              MOV     DPH,A
0265 E0                MOVX    A,@DPTR
0266 7003              JNZ     $ + 5H
0268 020000      R     LJMP    ?C0106
                                           ; SOURCE LINE # 536
026B 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
026E 74FF              MOV     A,#0FFH
0270 F0                MOVX    @DPTR,A
0271 A3                INC     DPTR
0272 7400        R     MOV     A,#HIGH ?SC_526
0274 F0                MOVX    @DPTR,A
0275 A3                INC     DPTR
0276 7400        R     MOV     A,#LOW ?SC_526
0278 F0                MOVX    @DPTR,A
0279 900000      E     MOV     DPTR,#g_imu+0DH
027C 75F025            MOV     B,#025H
027F EF                MOV     A,R7
0280 120000      E     LCALL   ?C?OFFXADD
0283 EE                MOV     A,R6
0284 75F025            MOV     B,#025H
0287 A4                MUL     AB
0288 2583              ADD     A,DPH
028A F583              MOV     DPH,A
028C E0                MOVX    A,@DPTR
028D FD                MOV     R5,A
028E A3                INC     DPTR
028F E0                MOVX    A,@DPTR
0290 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0293 CD                XCH     A,R5
0294 F0                MOVX    @DPTR,A
0295 A3                INC     DPTR
0296 ED                MOV     A,R5
0297 F0                MOVX    @DPTR,A
0298 900000      E     MOV     DPTR,#g_imu+0FH
029B 75F025            MOV     B,#025H
029E EF                MOV     A,R7
029F 120000      E     LCALL   ?C?OFFXADD
02A2 EE                MOV     A,R6
02A3 75F025            MOV     B,#025H
02A6 A4                MUL     AB
02A7 2583              ADD     A,DPH
02A9 F583              MOV     DPH,A
02AB E0                MOVX    A,@DPTR
02AC FF                MOV     R7,A
02AD A3                INC     DPTR
02AE E0                MOVX    A,@DPTR
02AF 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
02B2 CF                XCH     A,R7
02B3 F0                MOVX    @DPTR,A
02B4 A3                INC     DPTR
02B5 EF                MOV     A,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 83  

02B6 F0                MOVX    @DPTR,A
02B7 900000      R     MOV     DPTR,#i
02BA E0                MOVX    A,@DPTR
02BB A3                INC     DPTR
02BC E0                MOVX    A,@DPTR
02BD 900000      E     MOV     DPTR,#g_imu+011H
02C0 75F025            MOV     B,#025H
02C3 120000      E     LCALL   ?C?OFFXADD
02C6 EE                MOV     A,R6
02C7 75F025            MOV     B,#025H
02CA A4                MUL     AB
02CB 2583              ADD     A,DPH
02CD F583              MOV     DPH,A
02CF E0                MOVX    A,@DPTR
02D0 FF                MOV     R7,A
02D1 A3                INC     DPTR
02D2 E0                MOVX    A,@DPTR
02D3 900000      E     MOV     DPTR,#?_sprintf?BYTE+0AH
02D6 CF                XCH     A,R7
02D7 F0                MOVX    @DPTR,A
02D8 A3                INC     DPTR
02D9 EF                MOV     A,R7
02DA F0                MOVX    @DPTR,A
02DB 7B01              MOV     R3,#01H
02DD 7A00        R     MOV     R2,#HIGH str
02DF 7900        R     MOV     R1,#LOW str
02E1 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 537
02E4 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
02E7 7401              MOV     A,#01H
02E9 F0                MOVX    @DPTR,A
02EA A3                INC     DPTR
02EB 7400        R     MOV     A,#HIGH str
02ED F0                MOVX    @DPTR,A
02EE A3                INC     DPTR
02EF 7400        R     MOV     A,#LOW str
02F1 F0                MOVX    @DPTR,A
02F2 900000      R     MOV     DPTR,#info_string
02F5 E0                MOVX    A,@DPTR
02F6 FB                MOV     R3,A
02F7 A3                INC     DPTR
02F8 E0                MOVX    A,@DPTR
02F9 FA                MOV     R2,A
02FA A3                INC     DPTR
02FB E0                MOVX    A,@DPTR
02FC F9                MOV     R1,A
02FD 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 538
0300         ?C0106:
                                           ; SOURCE LINE # 540
0300 900000      R     MOV     DPTR,#i
0303 E0                MOVX    A,@DPTR
0304 FE                MOV     R6,A
0305 A3                INC     DPTR
0306 E0                MOVX    A,@DPTR
0307 2400        E     ADD     A,#LOW IMU_connected
0309 F582              MOV     DPL,A
030B 7400        E     MOV     A,#HIGH IMU_connected
030D 3E                ADDC    A,R6
030E F583              MOV     DPH,A
0310 E0                MOVX    A,@DPTR
0311 75F005            MOV     B,#05H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 84  

0314 A4                MUL     AB
0315 2400        E     ADD     A,#LOW c_mem+07H
0317 F582              MOV     DPL,A
0319 E4                CLR     A
031A 3400        E     ADDC    A,#HIGH c_mem+07H
031C F583              MOV     DPH,A
031E E0                MOVX    A,@DPTR
031F 7003              JNZ     $ + 5H
0321 020000      R     LJMP    ?C0107
                                           ; SOURCE LINE # 541
0324 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0327 74FF              MOV     A,#0FFH
0329 F0                MOVX    @DPTR,A
032A A3                INC     DPTR
032B 7400        R     MOV     A,#HIGH ?SC_543
032D F0                MOVX    @DPTR,A
032E A3                INC     DPTR
032F 7400        R     MOV     A,#LOW ?SC_543
0331 F0                MOVX    @DPTR,A
0332 900000      R     MOV     DPTR,#i
0335 E0                MOVX    A,@DPTR
0336 FA                MOV     R2,A
0337 A3                INC     DPTR
0338 E0                MOVX    A,@DPTR
0339 FB                MOV     R3,A
033A 900000      E     MOV     DPTR,#g_imu+013H
033D 75F025            MOV     B,#025H
0340 120000      E     LCALL   ?C?OFFXADD
0343 EA                MOV     A,R2
0344 75F025            MOV     B,#025H
0347 A4                MUL     AB
0348 2583              ADD     A,DPH
034A F583              MOV     DPH,A
034C E0                MOVX    A,@DPTR
034D FC                MOV     R4,A
034E A3                INC     DPTR
034F E0                MOVX    A,@DPTR
0350 FD                MOV     R5,A
0351 A3                INC     DPTR
0352 E0                MOVX    A,@DPTR
0353 FE                MOV     R6,A
0354 A3                INC     DPTR
0355 E0                MOVX    A,@DPTR
0356 FF                MOV     R7,A
0357 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
035A 120000      E     LCALL   ?C?LSTXDATA
035D 900000      E     MOV     DPTR,#g_imu+017H
0360 75F025            MOV     B,#025H
0363 EB                MOV     A,R3
0364 120000      E     LCALL   ?C?OFFXADD
0367 EA                MOV     A,R2
0368 75F025            MOV     B,#025H
036B A4                MUL     AB
036C 2583              ADD     A,DPH
036E F583              MOV     DPH,A
0370 E0                MOVX    A,@DPTR
0371 FC                MOV     R4,A
0372 A3                INC     DPTR
0373 E0                MOVX    A,@DPTR
0374 FD                MOV     R5,A
0375 A3                INC     DPTR
0376 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 85  

0377 FE                MOV     R6,A
0378 A3                INC     DPTR
0379 E0                MOVX    A,@DPTR
037A FF                MOV     R7,A
037B 900000      E     MOV     DPTR,#?_sprintf?BYTE+0AH
037E 120000      E     LCALL   ?C?LSTXDATA
0381 900000      R     MOV     DPTR,#i
0384 E0                MOVX    A,@DPTR
0385 FA                MOV     R2,A
0386 A3                INC     DPTR
0387 E0                MOVX    A,@DPTR
0388 FB                MOV     R3,A
0389 900000      E     MOV     DPTR,#g_imu+01BH
038C 75F025            MOV     B,#025H
038F 120000      E     LCALL   ?C?OFFXADD
0392 EA                MOV     A,R2
0393 75F025            MOV     B,#025H
0396 A4                MUL     AB
0397 2583              ADD     A,DPH
0399 F583              MOV     DPH,A
039B E0                MOVX    A,@DPTR
039C FC                MOV     R4,A
039D A3                INC     DPTR
039E E0                MOVX    A,@DPTR
039F FD                MOV     R5,A
03A0 A3                INC     DPTR
03A1 E0                MOVX    A,@DPTR
03A2 FE                MOV     R6,A
03A3 A3                INC     DPTR
03A4 E0                MOVX    A,@DPTR
03A5 FF                MOV     R7,A
03A6 900000      E     MOV     DPTR,#?_sprintf?BYTE+0EH
03A9 120000      E     LCALL   ?C?LSTXDATA
03AC 900000      E     MOV     DPTR,#g_imu+01FH
03AF 75F025            MOV     B,#025H
03B2 EB                MOV     A,R3
03B3 120000      E     LCALL   ?C?OFFXADD
03B6 EA                MOV     A,R2
03B7 75F025            MOV     B,#025H
03BA A4                MUL     AB
03BB 2583              ADD     A,DPH
03BD F583              MOV     DPH,A
03BF E0                MOVX    A,@DPTR
03C0 FC                MOV     R4,A
03C1 A3                INC     DPTR
03C2 E0                MOVX    A,@DPTR
03C3 FD                MOV     R5,A
03C4 A3                INC     DPTR
03C5 E0                MOVX    A,@DPTR
03C6 FE                MOV     R6,A
03C7 A3                INC     DPTR
03C8 E0                MOVX    A,@DPTR
03C9 FF                MOV     R7,A
03CA 900000      E     MOV     DPTR,#?_sprintf?BYTE+012H
03CD 120000      E     LCALL   ?C?LSTXDATA
03D0 7B01              MOV     R3,#01H
03D2 7A00        R     MOV     R2,#HIGH str
03D4 7900        R     MOV     R1,#LOW str
03D6 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 542
03D9 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
03DC 7401              MOV     A,#01H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 86  

03DE F0                MOVX    @DPTR,A
03DF A3                INC     DPTR
03E0 7400        R     MOV     A,#HIGH str
03E2 F0                MOVX    @DPTR,A
03E3 A3                INC     DPTR
03E4 7400        R     MOV     A,#LOW str
03E6 F0                MOVX    @DPTR,A
03E7 900000      R     MOV     DPTR,#info_string
03EA E0                MOVX    A,@DPTR
03EB FB                MOV     R3,A
03EC A3                INC     DPTR
03ED E0                MOVX    A,@DPTR
03EE FA                MOV     R2,A
03EF A3                INC     DPTR
03F0 E0                MOVX    A,@DPTR
03F1 F9                MOV     R1,A
03F2 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 543
03F5         ?C0107:
                                           ; SOURCE LINE # 545
03F5 900000      R     MOV     DPTR,#i
03F8 E0                MOVX    A,@DPTR
03F9 FE                MOV     R6,A
03FA A3                INC     DPTR
03FB E0                MOVX    A,@DPTR
03FC FF                MOV     R7,A
03FD 2400        E     ADD     A,#LOW IMU_connected
03FF F582              MOV     DPL,A
0401 7400        E     MOV     A,#HIGH IMU_connected
0403 3E                ADDC    A,R6
0404 F583              MOV     DPH,A
0406 E0                MOVX    A,@DPTR
0407 75F005            MOV     B,#05H
040A A4                MUL     AB
040B 2400        E     ADD     A,#LOW c_mem+08H
040D F582              MOV     DPL,A
040F E4                CLR     A
0410 3400        E     ADDC    A,#HIGH c_mem+08H
0412 F583              MOV     DPH,A
0414 E0                MOVX    A,@DPTR
0415 6052              JZ      ?C0103
                                           ; SOURCE LINE # 546
0417 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
041A 74FF              MOV     A,#0FFH
041C F0                MOVX    @DPTR,A
041D A3                INC     DPTR
041E 7400        R     MOV     A,#HIGH ?SC_572
0420 F0                MOVX    @DPTR,A
0421 A3                INC     DPTR
0422 7400        R     MOV     A,#LOW ?SC_572
0424 F0                MOVX    @DPTR,A
0425 900000      E     MOV     DPTR,#g_imu+023H
0428 75F025            MOV     B,#025H
042B EF                MOV     A,R7
042C 120000      E     LCALL   ?C?OFFXADD
042F EE                MOV     A,R6
0430 75F025            MOV     B,#025H
0433 A4                MUL     AB
0434 2583              ADD     A,DPH
0436 F583              MOV     DPH,A
0438 E0                MOVX    A,@DPTR
0439 FF                MOV     R7,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 87  

043A A3                INC     DPTR
043B E0                MOVX    A,@DPTR
043C 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
043F CF                XCH     A,R7
0440 F0                MOVX    @DPTR,A
0441 A3                INC     DPTR
0442 EF                MOV     A,R7
0443 F0                MOVX    @DPTR,A
0444 7B01              MOV     R3,#01H
0446 7A00        R     MOV     R2,#HIGH str
0448 7900        R     MOV     R1,#LOW str
044A 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 547
044D 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0450 7401              MOV     A,#01H
0452 F0                MOVX    @DPTR,A
0453 A3                INC     DPTR
0454 7400        R     MOV     A,#HIGH str
0456 F0                MOVX    @DPTR,A
0457 A3                INC     DPTR
0458 7400        R     MOV     A,#LOW str
045A F0                MOVX    @DPTR,A
045B 900000      R     MOV     DPTR,#info_string
045E E0                MOVX    A,@DPTR
045F FB                MOV     R3,A
0460 A3                INC     DPTR
0461 E0                MOVX    A,@DPTR
0462 FA                MOV     R2,A
0463 A3                INC     DPTR
0464 E0                MOVX    A,@DPTR
0465 F9                MOV     R1,A
0466 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 548
                                           ; SOURCE LINE # 549
0469         ?C0103:
0469 900000      R     MOV     DPTR,#i+01H
046C E0                MOVX    A,@DPTR
046D 04                INC     A
046E F0                MOVX    @DPTR,A
046F 7006              JNZ     ?C0185
0471 900000      R     MOV     DPTR,#i
0474 E0                MOVX    A,@DPTR
0475 04                INC     A
0476 F0                MOVX    @DPTR,A
0477         ?C0185:
0477 020000      R     LJMP    ?C0101
                                           ; SOURCE LINE # 550
047A         ?C0109:
047A 22                RET     
             ; FUNCTION _infoReading (END)

             ; FUNCTION _commWrite (BEGIN)
                                           ; SOURCE LINE # 555
0000 900000      R     MOV     DPTR,#packet_data
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 88  

000B A3                INC     DPTR
000C EC                MOV     A,R4
000D F0                MOVX    @DPTR,A
000E A3                INC     DPTR
000F ED                MOV     A,R5
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 556
                                           ; SOURCE LINE # 560
0011 7F3A              MOV     R7,#03AH
0013 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 561
0016 7F3A              MOV     R7,#03AH
0018 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 564
001B 900000      E     MOV     DPTR,#g_mem+01H
001E E0                MOVX    A,@DPTR
001F FF                MOV     R7,A
0020 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 567
0023 900000      R     MOV     DPTR,#packet_lenght
0026 E0                MOVX    A,@DPTR
0027 A3                INC     DPTR
0028 E0                MOVX    A,@DPTR
0029 FF                MOV     R7,A
002A 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 570
002D E4                CLR     A
002E F500        R     MOV     index,A
0030 F500        R     MOV     index+01H,A
0032         ?C0110:
0032 D3                SETB    C
0033 900000      R     MOV     DPTR,#packet_lenght+01H
0036 E0                MOVX    A,@DPTR
0037 9500        R     SUBB    A,index+01H
0039 900000      R     MOV     DPTR,#packet_lenght
003C E0                MOVX    A,@DPTR
003D 9500        R     SUBB    A,index
003F 4022              JC      ?C0111
                                           ; SOURCE LINE # 571
0041 900000      R     MOV     DPTR,#packet_data
0044 E0                MOVX    A,@DPTR
0045 FB                MOV     R3,A
0046 A3                INC     DPTR
0047 E0                MOVX    A,@DPTR
0048 FA                MOV     R2,A
0049 A3                INC     DPTR
004A E0                MOVX    A,@DPTR
004B 2500        R     ADD     A,index+01H
004D F9                MOV     R1,A
004E EA                MOV     A,R2
004F 3500        R     ADDC    A,index
0051 FA                MOV     R2,A
0052 120000      E     LCALL   ?C?CLDPTR
0055 FF                MOV     R7,A
0056 120000      E     LCALL   _UART_RS485_PutChar
0059 0500        R     INC     index+01H
005B E500        R     MOV     A,index+01H
005D 7002              JNZ     ?C0186
005F 0500        R     INC     index
0061         ?C0186:
0061 80CF              SJMP    ?C0110
0063         ?C0111:
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 89  

                                           ; SOURCE LINE # 573
0063 E4                CLR     A
0064 F500        R     MOV     index,A
0066 F500        R     MOV     index+01H,A
0068         ?C0113:
                                           ; SOURCE LINE # 575
0068 120000      E     LCALL   UART_RS485_ReadTxStatus
006B EF                MOV     A,R7
006C 20E013            JB      ACC.0,?C0114
006F 0500        R     INC     index+01H
0071 E500        R     MOV     A,index+01H
0073 AE00        R     MOV     R6,index
0075 7002              JNZ     ?C0187
0077 0500        R     INC     index
0079         ?C0187:
0079 14                DEC     A
007A D3                SETB    C
007B 94E8              SUBB    A,#0E8H
007D EE                MOV     A,R6
007E 9403              SUBB    A,#03H
0080 40E6              JC      ?C0113
0082         ?C0114:
                                           ; SOURCE LINE # 577
0082 7F01              MOV     R7,#01H
0084 120000      E     LCALL   _RS485_CTS_Write
                                           ; SOURCE LINE # 578
0087 E4                CLR     A
0088 FF                MOV     R7,A
0089 120000      E     LCALL   _RS485_CTS_Write
                                           ; SOURCE LINE # 579
008C 22                RET     
             ; FUNCTION _commWrite (END)

             ; FUNCTION _LCRChecksum (BEGIN)
                                           ; SOURCE LINE # 588
0000 900000      R     MOV     DPTR,#data_array
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
;---- Variable 'data_length' assigned to Register 'R5' ----
                                           ; SOURCE LINE # 591
000B E4                CLR     A
000C F500        R     MOV     checksum,A
                                           ; SOURCE LINE # 593
000E F500        R     MOV     i,A
0010         ?C0116:
0010 E500        R     MOV     A,i
0012 C3                CLR     C
0013 9D                SUBB    A,R5
0014 5019              JNC     ?C0117
                                           ; SOURCE LINE # 594
0016 900000      R     MOV     DPTR,#data_array
0019 E0                MOVX    A,@DPTR
001A FB                MOV     R3,A
001B A3                INC     DPTR
001C E0                MOVX    A,@DPTR
001D FA                MOV     R2,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 90  

001E A3                INC     DPTR
001F E0                MOVX    A,@DPTR
0020 2500        R     ADD     A,i
0022 F9                MOV     R1,A
0023 E4                CLR     A
0024 3A                ADDC    A,R2
0025 FA                MOV     R2,A
0026 120000      E     LCALL   ?C?CLDPTR
0029 6200        R     XRL     checksum,A
002B 0500        R     INC     i
002D 80E1              SJMP    ?C0116
002F         ?C0117:
                                           ; SOURCE LINE # 596
002F AF00        R     MOV     R7,checksum
                                           ; SOURCE LINE # 597
0031         ?C0119:
0031 22                RET     
             ; FUNCTION _LCRChecksum (END)

             ; FUNCTION _sendAcknowledgment (BEGIN)
                                           ; SOURCE LINE # 603
;---- Variable 'value' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 604
;---- Variable 'packet_lenght' assigned to Register 'R4/R5' ----
0000 7D02              MOV     R5,#02H
0002 7C00              MOV     R4,#00H
                                           ; SOURCE LINE # 607
0004 900000      R     MOV     DPTR,#packet_data
0007 EF                MOV     A,R7
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 608
0009 A3                INC     DPTR
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 610
000B 7B01              MOV     R3,#01H
000D 7A00        R     MOV     R2,#HIGH packet_data
000F 7900        R     MOV     R1,#LOW packet_data
0011 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 611
0014 22                RET     
             ; FUNCTION _sendAcknowledgment (END)

             ; FUNCTION _memStore (BEGIN)
                                           ; SOURCE LINE # 622
0000 900000      R     MOV     DPTR,#displacement
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 623
                                           ; SOURCE LINE # 627
0008 900000      R     MOV     DPTR,#ret_val
000B 7401              MOV     A,#01H
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 630
000E 120000      E     LCALL   ISR_RS485_RX_Disable
                                           ; SOURCE LINE # 634
0011 120000      E     LCALL   CySetTemp
                                           ; SOURCE LINE # 636
0014 7800        E     MOV     R0,#LOW c_mem
0016 7C00        E     MOV     R4,#HIGH c_mem
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 91  

0018 7D01              MOV     R5,#01H
001A 7B01              MOV     R3,#01H
001C 7A00        E     MOV     R2,#HIGH g_mem
001E 7900        E     MOV     R1,#LOW g_mem
0020 7E00              MOV     R6,#00H
0022 7F59              MOV     R7,#059H
0024 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 638
0027 900000      R     MOV     DPTR,#pages
002A E4                CLR     A
002B F0                MOVX    @DPTR,A
002C A3                INC     DPTR
002D 7406              MOV     A,#06H
002F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 640
0030 E4                CLR     A
0031 900000      R     MOV     DPTR,#i
0034 F0                MOVX    @DPTR,A
0035 A3                INC     DPTR
0036 F0                MOVX    @DPTR,A
0037         ?C0121:
0037 900000      R     MOV     DPTR,#pages
003A E0                MOVX    A,@DPTR
003B FE                MOV     R6,A
003C A3                INC     DPTR
003D E0                MOVX    A,@DPTR
003E FF                MOV     R7,A
003F 900000      R     MOV     DPTR,#i
0042 E0                MOVX    A,@DPTR
0043 FC                MOV     R4,A
0044 A3                INC     DPTR
0045 E0                MOVX    A,@DPTR
0046 FD                MOV     R5,A
0047 C3                CLR     C
0048 9F                SUBB    A,R7
0049 EE                MOV     A,R6
004A 6480              XRL     A,#080H
004C F8                MOV     R0,A
004D EC                MOV     A,R4
004E 6480              XRL     A,#080H
0050 98                SUBB    A,R0
0051 503F              JNC     ?C0122
                                           ; SOURCE LINE # 641
0053 ED                MOV     A,R5
0054 C4                SWAP    A
0055 F8                MOV     R0,A
0056 540F              ANL     A,#0FH
0058 C8                XCH     A,R0
0059 68                XRL     A,R0
005A FF                MOV     R7,A
005B EC                MOV     A,R4
005C C4                SWAP    A
005D 54F0              ANL     A,#0F0H
005F 48                ORL     A,R0
0060 FE                MOV     R6,A
0061 7B01              MOV     R3,#01H
0063 7400        E     MOV     A,#LOW g_mem
0065 2F                ADD     A,R7
0066 F9                MOV     R1,A
0067 7400        E     MOV     A,#HIGH g_mem
0069 3E                ADDC    A,R6
006A FA                MOV     R2,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 92  

006B 900000      R     MOV     DPTR,#displacement
006E E0                MOVX    A,@DPTR
006F A3                INC     DPTR
0070 E0                MOVX    A,@DPTR
0071 FF                MOV     R7,A
0072 ED                MOV     A,R5
0073 2F                ADD     A,R7
0074 FD                MOV     R5,A
0075 120000      E     LCALL   _EEPROM_Write
;---- Variable 'writeStatus' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 642
0078 EF                MOV     A,R7
0079 6007              JZ      ?C0123
                                           ; SOURCE LINE # 643
007B E4                CLR     A
007C 900000      R     MOV     DPTR,#ret_val
007F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 644
0080 8010              SJMP    ?C0122
                                           ; SOURCE LINE # 645
                                           ; SOURCE LINE # 646
0082         ?C0123:
0082 900000      R     MOV     DPTR,#i+01H
0085 E0                MOVX    A,@DPTR
0086 04                INC     A
0087 F0                MOVX    @DPTR,A
0088 7006              JNZ     ?C0188
008A 900000      R     MOV     DPTR,#i
008D E0                MOVX    A,@DPTR
008E 04                INC     A
008F F0                MOVX    @DPTR,A
0090         ?C0188:
0090 80A5              SJMP    ?C0121
0092         ?C0122:
                                           ; SOURCE LINE # 648
0092 7800        E     MOV     R0,#LOW g_mem
0094 7C00        E     MOV     R4,#HIGH g_mem
0096 7D01              MOV     R5,#01H
0098 7B01              MOV     R3,#01H
009A 7A00        E     MOV     R2,#HIGH c_mem
009C 7900        E     MOV     R1,#LOW c_mem
009E 7E00              MOV     R6,#00H
00A0 7F59              MOV     R7,#059H
00A2 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 651
00A5 120000      E     LCALL   ISR_RS485_RX_Enable
                                           ; SOURCE LINE # 653
00A8 900000      R     MOV     DPTR,#ret_val
00AB E0                MOVX    A,@DPTR
00AC FF                MOV     R7,A
                                           ; SOURCE LINE # 654
00AD         ?C0125:
00AD 22                RET     
             ; FUNCTION _memStore (END)

             ; FUNCTION memRecall (BEGIN)
                                           ; SOURCE LINE # 665
                                           ; SOURCE LINE # 666
                                           ; SOURCE LINE # 669
;---- Variable 'i' assigned to Register 'R6/R7' ----
0000 E4                CLR     A
0001 FF                MOV     R7,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 93  

0002 FE                MOV     R6,A
0003         ?C0126:
0003 C3                CLR     C
0004 EF                MOV     A,R7
0005 9459              SUBB    A,#059H
0007 EE                MOV     A,R6
0008 9400              SUBB    A,#00H
000A 5023              JNC     ?C0127
                                           ; SOURCE LINE # 670
000C 900000      R     MOV     DPTR,#EEPROM_ADDR
000F E0                MOVX    A,@DPTR
0010 FC                MOV     R4,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 2F                ADD     A,R7
0014 F582              MOV     DPL,A
0016 EC                MOV     A,R4
0017 3E                ADDC    A,R6
0018 F583              MOV     DPH,A
001A E0                MOVX    A,@DPTR
001B FD                MOV     R5,A
001C 7400        E     MOV     A,#LOW g_mem
001E 2F                ADD     A,R7
001F F582              MOV     DPL,A
0021 7400        E     MOV     A,#HIGH g_mem
0023 3E                ADDC    A,R6
0024 F583              MOV     DPH,A
0026 ED                MOV     A,R5
0027 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 671
0028 0F                INC     R7
0029 EF                MOV     A,R7
002A 7001              JNZ     ?C0189
002C 0E                INC     R6
002D         ?C0189:
002D 80D4              SJMP    ?C0126
002F         ?C0127:
                                           ; SOURCE LINE # 674
002F 900000      E     MOV     DPTR,#g_mem
0032 E0                MOVX    A,@DPTR
0033 7004              JNZ     ?C0129
                                           ; SOURCE LINE # 675
0035 120000      R     LCALL   memRestore
                                           ; SOURCE LINE # 676
0038 22                RET     
0039         ?C0129:
                                           ; SOURCE LINE # 677
0039 7800        E     MOV     R0,#LOW c_mem
003B 7C00        E     MOV     R4,#HIGH c_mem
003D 7D01              MOV     R5,#01H
003F 7B01              MOV     R3,#01H
0041 7A00        E     MOV     R2,#HIGH g_mem
0043 7900        E     MOV     R1,#LOW g_mem
0045 7E00              MOV     R6,#00H
0047 7F59              MOV     R7,#059H
0049 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 678
                                           ; SOURCE LINE # 679
004C         ?C0131:
004C 22                RET     
             ; FUNCTION memRecall (END)

C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 94  

             ; FUNCTION memRestore (BEGIN)
                                           ; SOURCE LINE # 690
                                           ; SOURCE LINE # 693
;---- Variable 'i' assigned to Register 'R6/R7' ----
0000 E4                CLR     A
0001 FF                MOV     R7,A
0002 FE                MOV     R6,A
0003         ?C0132:
0003 C3                CLR     C
0004 EF                MOV     A,R7
0005 9459              SUBB    A,#059H
0007 EE                MOV     A,R6
0008 9400              SUBB    A,#00H
000A 502A              JNC     ?C0133
                                           ; SOURCE LINE # 694
000C EF                MOV     A,R7
000D 2480              ADD     A,#080H
000F FD                MOV     R5,A
0010 E4                CLR     A
0011 3E                ADDC    A,R6
0012 FC                MOV     R4,A
0013 900000      R     MOV     DPTR,#EEPROM_ADDR
0016 E0                MOVX    A,@DPTR
0017 FA                MOV     R2,A
0018 A3                INC     DPTR
0019 E0                MOVX    A,@DPTR
001A 2D                ADD     A,R5
001B F582              MOV     DPL,A
001D EA                MOV     A,R2
001E 3C                ADDC    A,R4
001F F583              MOV     DPH,A
0021 E0                MOVX    A,@DPTR
0022 FD                MOV     R5,A
0023 7400        E     MOV     A,#LOW g_mem
0025 2F                ADD     A,R7
0026 F582              MOV     DPL,A
0028 7400        E     MOV     A,#HIGH g_mem
002A 3E                ADDC    A,R6
002B F583              MOV     DPH,A
002D ED                MOV     A,R5
002E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 695
002F 0F                INC     R7
0030 EF                MOV     A,R7
0031 7001              JNZ     ?C0190
0033 0E                INC     R6
0034         ?C0190:
0034 80CD              SJMP    ?C0132
0036         ?C0133:
                                           ; SOURCE LINE # 698
0036 900000      E     MOV     DPTR,#g_mem
0039 E0                MOVX    A,@DPTR
003A 7004              JNZ     ?C0135
                                           ; SOURCE LINE # 699
003C 120000      R     LCALL   memInit
003F 22                RET     
                                           ; SOURCE LINE # 700
0040         ?C0135:
                                           ; SOURCE LINE # 701
0040 E4                CLR     A
0041 FF                MOV     R7,A
0042 FE                MOV     R6,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 95  

0043 120000      R     LCALL   _memStore
                                           ; SOURCE LINE # 702
                                           ; SOURCE LINE # 703
0046         ?C0136:
0046 22                RET     
             ; FUNCTION memRestore (END)

             ; FUNCTION memInit (BEGIN)
                                           ; SOURCE LINE # 713
                                           ; SOURCE LINE # 714
                                           ; SOURCE LINE # 719
0000 900000      E     MOV     DPTR,#g_mem+01H
0003 7401              MOV     A,#01H
0005 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 723
0006 900000      E     MOV     DPTR,#g_mem
0009 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 726
;---- Variable 'i' assigned to Register 'R7' ----
000A E4                CLR     A
000B FF                MOV     R7,A
000C         ?C0138:
000C EF                MOV     A,R7
000D C3                CLR     C
000E 9411              SUBB    A,#011H
0010 5055              JNC     ?C0139
                                           ; SOURCE LINE # 727
0012 EF                MOV     A,R7
0013 75F005            MOV     B,#05H
0016 A4                MUL     AB
0017 2400        E     ADD     A,#LOW g_mem+04H
0019 F582              MOV     DPL,A
001B E4                CLR     A
001C 3400        E     ADDC    A,#HIGH g_mem+04H
001E F583              MOV     DPH,A
0020 7401              MOV     A,#01H
0022 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 728
0023 EF                MOV     A,R7
0024 75F005            MOV     B,#05H
0027 A4                MUL     AB
0028 2400        E     ADD     A,#LOW g_mem+05H
002A F582              MOV     DPL,A
002C E4                CLR     A
002D 3400        E     ADDC    A,#HIGH g_mem+05H
002F F583              MOV     DPH,A
0031 7401              MOV     A,#01H
0033 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 729
0034 EF                MOV     A,R7
0035 75F005            MOV     B,#05H
0038 A4                MUL     AB
0039 2400        E     ADD     A,#LOW g_mem+06H
003B F582              MOV     DPL,A
003D E4                CLR     A
003E 3400        E     ADDC    A,#HIGH g_mem+06H
0040 F583              MOV     DPH,A
0042 E4                CLR     A
0043 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 730
0044 EF                MOV     A,R7
0045 75F005            MOV     B,#05H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 96  

0048 A4                MUL     AB
0049 2400        E     ADD     A,#LOW g_mem+07H
004B F582              MOV     DPL,A
004D E4                CLR     A
004E 3400        E     ADDC    A,#HIGH g_mem+07H
0050 F583              MOV     DPH,A
0052 E4                CLR     A
0053 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 731
0054 EF                MOV     A,R7
0055 75F005            MOV     B,#05H
0058 A4                MUL     AB
0059 2400        E     ADD     A,#LOW g_mem+08H
005B F582              MOV     DPL,A
005D E4                CLR     A
005E 3400        E     ADDC    A,#HIGH g_mem+08H
0060 F583              MOV     DPH,A
0062 E4                CLR     A
0063 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 735
0064 0F                INC     R7
0065 80A5              SJMP    ?C0138
0067         ?C0139:
                                           ; SOURCE LINE # 738
0067 E4                CLR     A
0068 FF                MOV     R7,A
0069 FE                MOV     R6,A
006A 120000      R     LCALL   _memStore
006D EF                MOV     A,R7
006E 600E              JZ      ?C0141
0070 7F08              MOV     R7,#08H
0072 7E00              MOV     R6,#00H
0074 120000      R     LCALL   _memStore
0077 EF                MOV     A,R7
0078 6004              JZ      ?C0141
007A 7F01              MOV     R7,#01H
007C 8002              SJMP    ?C0142
007E         ?C0141:
007E 7F00              MOV     R7,#00H
0080         ?C0142:
                                           ; SOURCE LINE # 739
0080         ?C0143:
0080 22                RET     
             ; FUNCTION memInit (END)

             ; FUNCTION cmd_set_baudrate (BEGIN)
                                           ; SOURCE LINE # 748
                                           ; SOURCE LINE # 751
0000 900000      E     MOV     DPTR,#g_rx+01H
0003 E0                MOVX    A,@DPTR
0004 900000      E     MOV     DPTR,#c_mem+02H
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 753
0008 24F3              ADD     A,#0F3H
000A 700A              JNZ     ?C0146
                                           ; SOURCE LINE # 754
000C         ?C0145:
                                           ; SOURCE LINE # 755
000C 7D01              MOV     R5,#01H
000E 7F0C              MOV     R7,#0CH
0010 7E00              MOV     R6,#00H
0012 120000      E     LCALL   _CLOCK_UART_SetDividerRegister
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 97  

                                           ; SOURCE LINE # 756
0015 22                RET     
                                           ; SOURCE LINE # 757
0016         ?C0146:
                                           ; SOURCE LINE # 758
0016 7D01              MOV     R5,#01H
0018 7F02              MOV     R7,#02H
001A 7E00              MOV     R6,#00H
001C 120000      E     LCALL   _CLOCK_UART_SetDividerRegister
                                           ; SOURCE LINE # 759
                                           ; SOURCE LINE # 760
001F         ?C0147:
001F 22                RET     
             ; FUNCTION cmd_set_baudrate (END)

             ; FUNCTION cmd_ping (BEGIN)
                                           ; SOURCE LINE # 762
                                           ; SOURCE LINE # 767
0000 E4                CLR     A
0001 900000      R     MOV     DPTR,#packet_data
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 770
0005 A3                INC     DPTR
0006 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 773
0007 7B01              MOV     R3,#01H
0009 7A00        R     MOV     R2,#HIGH packet_data
000B 7900        R     MOV     R1,#LOW packet_data
000D 7D02              MOV     R5,#02H
000F FC                MOV     R4,A
0010 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 774
0013 22                RET     
             ; FUNCTION cmd_ping (END)

             ; FUNCTION cmd_store_params (BEGIN)
                                           ; SOURCE LINE # 776
                                           ; SOURCE LINE # 778
0000 E4                CLR     A
0001 FF                MOV     R7,A
0002 FE                MOV     R6,A
0003 120000      R     LCALL   _memStore
0006 EF                MOV     A,R7
0007 6006              JZ      ?C0149
                                           ; SOURCE LINE # 779
0009 7F01              MOV     R7,#01H
000B 120000      R     LCALL   _sendAcknowledgment
000E 22                RET     
000F         ?C0149:
                                           ; SOURCE LINE # 781
000F E4                CLR     A
0010 FF                MOV     R7,A
0011 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 782
0014         ?C0151:
0014 22                RET     
             ; FUNCTION cmd_store_params (END)

             ; FUNCTION cmd_get_imu_readings (BEGIN)
                                           ; SOURCE LINE # 784
                                           ; SOURCE LINE # 788
0000 900000      R     MOV     DPTR,#c
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 98  

0003 7401              MOV     A,#01H
0005 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 789
0006 E4                CLR     A
0007 A3                INC     DPTR
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 790
0009 A3                INC     DPTR
000A 04                INC     A
000B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 797
000C A3                INC     DPTR
000D 74A1              MOV     A,#0A1H
000F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 799
0010 E4                CLR     A
0011 900000      R     MOV     DPTR,#k_imu
0014 F0                MOVX    @DPTR,A
0015         ?C0152:
0015 900000      E     MOV     DPTR,#N_IMU_Connected
0018 E0                MOVX    A,@DPTR
0019 FF                MOV     R7,A
001A 900000      R     MOV     DPTR,#k_imu
001D E0                MOVX    A,@DPTR
001E FE                MOV     R6,A
001F C3                CLR     C
0020 9F                SUBB    A,R7
0021 4003              JC      $ + 5H
0023 020000      R     LJMP    ?C0153
                                           ; SOURCE LINE # 800
                                           ; SOURCE LINE # 802
0026 900000      R     MOV     DPTR,#single_packet
0029 743A              MOV     A,#03AH
002B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 803
002C 7400        E     MOV     A,#LOW IMU_connected
002E 2E                ADD     A,R6
002F F582              MOV     DPL,A
0031 E4                CLR     A
0032 3400        E     ADDC    A,#HIGH IMU_connected
0034 F583              MOV     DPH,A
0036 E0                MOVX    A,@DPTR
0037 75F005            MOV     B,#05H
003A A4                MUL     AB
003B 2400        E     ADD     A,#LOW c_mem+04H
003D F582              MOV     DPL,A
003F E4                CLR     A
0040 3400        E     ADDC    A,#HIGH c_mem+04H
0042 F583              MOV     DPH,A
0044 E0                MOVX    A,@DPTR
0045 607B              JZ      ?C0155
                                           ; SOURCE LINE # 804
0047 900000      R     MOV     DPTR,#k_imu
004A E0                MOVX    A,@DPTR
004B FF                MOV     R7,A
004C 75F025            MOV     B,#025H
004F A4                MUL     AB
0050 2400        E     ADD     A,#LOW g_imu+01H
0052 F582              MOV     DPL,A
0054 E5F0              MOV     A,B
0056 3400        E     ADDC    A,#HIGH g_imu+01H
0058 F583              MOV     DPH,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 99  

005A E0                MOVX    A,@DPTR
005B FC                MOV     R4,A
005C A3                INC     DPTR
005D E0                MOVX    A,@DPTR
005E FD                MOV     R5,A
005F 900000      R     MOV     DPTR,#c
0062 E0                MOVX    A,@DPTR
0063 FE                MOV     R6,A
0064 2400        R     ADD     A,#LOW single_packet
0066 F582              MOV     DPL,A
0068 E4                CLR     A
0069 3400        R     ADDC    A,#HIGH single_packet
006B F583              MOV     DPH,A
006D EC                MOV     A,R4
006E F0                MOVX    @DPTR,A
006F A3                INC     DPTR
0070 ED                MOV     A,R5
0071 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 805
0072 75F025            MOV     B,#025H
0075 EF                MOV     A,R7
0076 A4                MUL     AB
0077 2400        E     ADD     A,#LOW g_imu+03H
0079 F582              MOV     DPL,A
007B E5F0              MOV     A,B
007D 3400        E     ADDC    A,#HIGH g_imu+03H
007F F583              MOV     DPH,A
0081 E0                MOVX    A,@DPTR
0082 FC                MOV     R4,A
0083 A3                INC     DPTR
0084 E0                MOVX    A,@DPTR
0085 FD                MOV     R5,A
0086 7400        R     MOV     A,#LOW single_packet+02H
0088 2E                ADD     A,R6
0089 F582              MOV     DPL,A
008B E4                CLR     A
008C 3400        R     ADDC    A,#HIGH single_packet+02H
008E F583              MOV     DPH,A
0090 EC                MOV     A,R4
0091 F0                MOVX    @DPTR,A
0092 A3                INC     DPTR
0093 ED                MOV     A,R5
0094 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 806
0095 900000      R     MOV     DPTR,#k_imu
0098 E0                MOVX    A,@DPTR
0099 75F025            MOV     B,#025H
009C A4                MUL     AB
009D 2400        E     ADD     A,#LOW g_imu+05H
009F F582              MOV     DPL,A
00A1 E5F0              MOV     A,B
00A3 3400        E     ADDC    A,#HIGH g_imu+05H
00A5 F583              MOV     DPH,A
00A7 E0                MOVX    A,@DPTR
00A8 FC                MOV     R4,A
00A9 A3                INC     DPTR
00AA E0                MOVX    A,@DPTR
00AB FD                MOV     R5,A
00AC 7400        R     MOV     A,#LOW single_packet+04H
00AE 2E                ADD     A,R6
00AF F582              MOV     DPL,A
00B1 E4                CLR     A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 100 

00B2 3400        R     ADDC    A,#HIGH single_packet+04H
00B4 F583              MOV     DPH,A
00B6 EC                MOV     A,R4
00B7 F0                MOVX    @DPTR,A
00B8 A3                INC     DPTR
00B9 ED                MOV     A,R5
00BA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 807
00BB 900000      R     MOV     DPTR,#c
00BE E0                MOVX    A,@DPTR
00BF 2406              ADD     A,#06H
00C1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 808
00C2         ?C0155:
                                           ; SOURCE LINE # 809
00C2 900000      R     MOV     DPTR,#k_imu
00C5 E0                MOVX    A,@DPTR
00C6 FF                MOV     R7,A
00C7 2400        E     ADD     A,#LOW IMU_connected
00C9 F582              MOV     DPL,A
00CB E4                CLR     A
00CC 3400        E     ADDC    A,#HIGH IMU_connected
00CE F583              MOV     DPH,A
00D0 E0                MOVX    A,@DPTR
00D1 75F005            MOV     B,#05H
00D4 A4                MUL     AB
00D5 2400        E     ADD     A,#LOW c_mem+05H
00D7 F582              MOV     DPL,A
00D9 E4                CLR     A
00DA 3400        E     ADDC    A,#HIGH c_mem+05H
00DC F583              MOV     DPH,A
00DE E0                MOVX    A,@DPTR
00DF 6078              JZ      ?C0156
                                           ; SOURCE LINE # 810
00E1 900000      R     MOV     DPTR,#k_imu
00E4 E0                MOVX    A,@DPTR
00E5 FE                MOV     R6,A
00E6 75F025            MOV     B,#025H
00E9 A4                MUL     AB
00EA 2400        E     ADD     A,#LOW g_imu+07H
00EC F582              MOV     DPL,A
00EE E5F0              MOV     A,B
00F0 3400        E     ADDC    A,#HIGH g_imu+07H
00F2 F583              MOV     DPH,A
00F4 E0                MOVX    A,@DPTR
00F5 FC                MOV     R4,A
00F6 A3                INC     DPTR
00F7 E0                MOVX    A,@DPTR
00F8 FD                MOV     R5,A
00F9 900000      R     MOV     DPTR,#c
00FC E0                MOVX    A,@DPTR
00FD FB                MOV     R3,A
00FE 2400        R     ADD     A,#LOW single_packet
0100 F582              MOV     DPL,A
0102 E4                CLR     A
0103 3400        R     ADDC    A,#HIGH single_packet
0105 F583              MOV     DPH,A
0107 EC                MOV     A,R4
0108 F0                MOVX    @DPTR,A
0109 A3                INC     DPTR
010A ED                MOV     A,R5
010B F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 101 

                                           ; SOURCE LINE # 811
010C 75F025            MOV     B,#025H
010F EE                MOV     A,R6
0110 A4                MUL     AB
0111 2400        E     ADD     A,#LOW g_imu+09H
0113 F582              MOV     DPL,A
0115 E5F0              MOV     A,B
0117 3400        E     ADDC    A,#HIGH g_imu+09H
0119 F583              MOV     DPH,A
011B E0                MOVX    A,@DPTR
011C FC                MOV     R4,A
011D A3                INC     DPTR
011E E0                MOVX    A,@DPTR
011F FD                MOV     R5,A
0120 7400        R     MOV     A,#LOW single_packet+02H
0122 2B                ADD     A,R3
0123 F582              MOV     DPL,A
0125 E4                CLR     A
0126 3400        R     ADDC    A,#HIGH single_packet+02H
0128 F583              MOV     DPH,A
012A EC                MOV     A,R4
012B F0                MOVX    @DPTR,A
012C A3                INC     DPTR
012D ED                MOV     A,R5
012E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 812
012F 75F025            MOV     B,#025H
0132 EF                MOV     A,R7
0133 A4                MUL     AB
0134 2400        E     ADD     A,#LOW g_imu+0BH
0136 F582              MOV     DPL,A
0138 E5F0              MOV     A,B
013A 3400        E     ADDC    A,#HIGH g_imu+0BH
013C F583              MOV     DPH,A
013E E0                MOVX    A,@DPTR
013F FE                MOV     R6,A
0140 A3                INC     DPTR
0141 E0                MOVX    A,@DPTR
0142 FF                MOV     R7,A
0143 7400        R     MOV     A,#LOW single_packet+04H
0145 2B                ADD     A,R3
0146 F582              MOV     DPL,A
0148 E4                CLR     A
0149 3400        R     ADDC    A,#HIGH single_packet+04H
014B F583              MOV     DPH,A
014D EE                MOV     A,R6
014E F0                MOVX    @DPTR,A
014F A3                INC     DPTR
0150 EF                MOV     A,R7
0151 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 813
0152 900000      R     MOV     DPTR,#c
0155 E0                MOVX    A,@DPTR
0156 2406              ADD     A,#06H
0158 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 814
0159         ?C0156:
                                           ; SOURCE LINE # 815
0159 900000      R     MOV     DPTR,#k_imu
015C E0                MOVX    A,@DPTR
015D FF                MOV     R7,A
015E 2400        E     ADD     A,#LOW IMU_connected
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 102 

0160 F582              MOV     DPL,A
0162 E4                CLR     A
0163 3400        E     ADDC    A,#HIGH IMU_connected
0165 F583              MOV     DPH,A
0167 E0                MOVX    A,@DPTR
0168 75F005            MOV     B,#05H
016B A4                MUL     AB
016C 2400        E     ADD     A,#LOW c_mem+06H
016E F582              MOV     DPL,A
0170 E4                CLR     A
0171 3400        E     ADDC    A,#HIGH c_mem+06H
0173 F583              MOV     DPH,A
0175 E0                MOVX    A,@DPTR
0176 6078              JZ      ?C0157
                                           ; SOURCE LINE # 816
0178 900000      R     MOV     DPTR,#k_imu
017B E0                MOVX    A,@DPTR
017C FE                MOV     R6,A
017D 75F025            MOV     B,#025H
0180 A4                MUL     AB
0181 2400        E     ADD     A,#LOW g_imu+0DH
0183 F582              MOV     DPL,A
0185 E5F0              MOV     A,B
0187 3400        E     ADDC    A,#HIGH g_imu+0DH
0189 F583              MOV     DPH,A
018B E0                MOVX    A,@DPTR
018C FC                MOV     R4,A
018D A3                INC     DPTR
018E E0                MOVX    A,@DPTR
018F FD                MOV     R5,A
0190 900000      R     MOV     DPTR,#c
0193 E0                MOVX    A,@DPTR
0194 FB                MOV     R3,A
0195 2400        R     ADD     A,#LOW single_packet
0197 F582              MOV     DPL,A
0199 E4                CLR     A
019A 3400        R     ADDC    A,#HIGH single_packet
019C F583              MOV     DPH,A
019E EC                MOV     A,R4
019F F0                MOVX    @DPTR,A
01A0 A3                INC     DPTR
01A1 ED                MOV     A,R5
01A2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 817
01A3 75F025            MOV     B,#025H
01A6 EE                MOV     A,R6
01A7 A4                MUL     AB
01A8 2400        E     ADD     A,#LOW g_imu+0FH
01AA F582              MOV     DPL,A
01AC E5F0              MOV     A,B
01AE 3400        E     ADDC    A,#HIGH g_imu+0FH
01B0 F583              MOV     DPH,A
01B2 E0                MOVX    A,@DPTR
01B3 FC                MOV     R4,A
01B4 A3                INC     DPTR
01B5 E0                MOVX    A,@DPTR
01B6 FD                MOV     R5,A
01B7 7400        R     MOV     A,#LOW single_packet+02H
01B9 2B                ADD     A,R3
01BA F582              MOV     DPL,A
01BC E4                CLR     A
01BD 3400        R     ADDC    A,#HIGH single_packet+02H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 103 

01BF F583              MOV     DPH,A
01C1 EC                MOV     A,R4
01C2 F0                MOVX    @DPTR,A
01C3 A3                INC     DPTR
01C4 ED                MOV     A,R5
01C5 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 818
01C6 75F025            MOV     B,#025H
01C9 EF                MOV     A,R7
01CA A4                MUL     AB
01CB 2400        E     ADD     A,#LOW g_imu+011H
01CD F582              MOV     DPL,A
01CF E5F0              MOV     A,B
01D1 3400        E     ADDC    A,#HIGH g_imu+011H
01D3 F583              MOV     DPH,A
01D5 E0                MOVX    A,@DPTR
01D6 FE                MOV     R6,A
01D7 A3                INC     DPTR
01D8 E0                MOVX    A,@DPTR
01D9 FF                MOV     R7,A
01DA 7400        R     MOV     A,#LOW single_packet+04H
01DC 2B                ADD     A,R3
01DD F582              MOV     DPL,A
01DF E4                CLR     A
01E0 3400        R     ADDC    A,#HIGH single_packet+04H
01E2 F583              MOV     DPH,A
01E4 EE                MOV     A,R6
01E5 F0                MOVX    @DPTR,A
01E6 A3                INC     DPTR
01E7 EF                MOV     A,R7
01E8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 819
01E9 900000      R     MOV     DPTR,#c
01EC E0                MOVX    A,@DPTR
01ED 2406              ADD     A,#06H
01EF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 820
01F0         ?C0157:
                                           ; SOURCE LINE # 821
01F0 900000      R     MOV     DPTR,#k_imu
01F3 E0                MOVX    A,@DPTR
01F4 2400        E     ADD     A,#LOW IMU_connected
01F6 F582              MOV     DPL,A
01F8 E4                CLR     A
01F9 3400        E     ADDC    A,#HIGH IMU_connected
01FB F583              MOV     DPH,A
01FD E0                MOVX    A,@DPTR
01FE 75F005            MOV     B,#05H
0201 A4                MUL     AB
0202 2400        E     ADD     A,#LOW c_mem+07H
0204 F582              MOV     DPL,A
0206 E4                CLR     A
0207 3400        E     ADDC    A,#HIGH c_mem+07H
0209 F583              MOV     DPH,A
020B E0                MOVX    A,@DPTR
020C 7003              JNZ     $ + 5H
020E 020000      R     LJMP    ?C0158
                                           ; SOURCE LINE # 822
0211 900000      R     MOV     DPTR,#k_imu
0214 E0                MOVX    A,@DPTR
0215 FB                MOV     R3,A
0216 75F025            MOV     B,#025H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 104 

0219 A4                MUL     AB
021A 2400        E     ADD     A,#LOW g_imu+013H
021C F582              MOV     DPL,A
021E E5F0              MOV     A,B
0220 3400        E     ADDC    A,#HIGH g_imu+013H
0222 F583              MOV     DPH,A
0224 E0                MOVX    A,@DPTR
0225 FC                MOV     R4,A
0226 A3                INC     DPTR
0227 E0                MOVX    A,@DPTR
0228 FD                MOV     R5,A
0229 A3                INC     DPTR
022A E0                MOVX    A,@DPTR
022B FE                MOV     R6,A
022C A3                INC     DPTR
022D E0                MOVX    A,@DPTR
022E FF                MOV     R7,A
022F 900000      R     MOV     DPTR,#c
0232 E0                MOVX    A,@DPTR
0233 FA                MOV     R2,A
0234 2400        R     ADD     A,#LOW single_packet
0236 F582              MOV     DPL,A
0238 E4                CLR     A
0239 3400        R     ADDC    A,#HIGH single_packet
023B F583              MOV     DPH,A
023D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 823
0240 75F025            MOV     B,#025H
0243 EB                MOV     A,R3
0244 A4                MUL     AB
0245 2400        E     ADD     A,#LOW g_imu+017H
0247 F582              MOV     DPL,A
0249 E5F0              MOV     A,B
024B 3400        E     ADDC    A,#HIGH g_imu+017H
024D F583              MOV     DPH,A
024F E0                MOVX    A,@DPTR
0250 FC                MOV     R4,A
0251 A3                INC     DPTR
0252 E0                MOVX    A,@DPTR
0253 FD                MOV     R5,A
0254 A3                INC     DPTR
0255 E0                MOVX    A,@DPTR
0256 FE                MOV     R6,A
0257 A3                INC     DPTR
0258 E0                MOVX    A,@DPTR
0259 FF                MOV     R7,A
025A 7400        R     MOV     A,#LOW single_packet+04H
025C 2A                ADD     A,R2
025D F582              MOV     DPL,A
025F E4                CLR     A
0260 3400        R     ADDC    A,#HIGH single_packet+04H
0262 F583              MOV     DPH,A
0264 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 824
0267 900000      R     MOV     DPTR,#k_imu
026A E0                MOVX    A,@DPTR
026B FB                MOV     R3,A
026C 75F025            MOV     B,#025H
026F A4                MUL     AB
0270 2400        E     ADD     A,#LOW g_imu+01BH
0272 F582              MOV     DPL,A
0274 E5F0              MOV     A,B
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 105 

0276 3400        E     ADDC    A,#HIGH g_imu+01BH
0278 F583              MOV     DPH,A
027A E0                MOVX    A,@DPTR
027B FC                MOV     R4,A
027C A3                INC     DPTR
027D E0                MOVX    A,@DPTR
027E FD                MOV     R5,A
027F A3                INC     DPTR
0280 E0                MOVX    A,@DPTR
0281 FE                MOV     R6,A
0282 A3                INC     DPTR
0283 E0                MOVX    A,@DPTR
0284 FF                MOV     R7,A
0285 7400        R     MOV     A,#LOW single_packet+08H
0287 2A                ADD     A,R2
0288 F582              MOV     DPL,A
028A E4                CLR     A
028B 3400        R     ADDC    A,#HIGH single_packet+08H
028D F583              MOV     DPH,A
028F 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 825
0292 75F025            MOV     B,#025H
0295 EB                MOV     A,R3
0296 A4                MUL     AB
0297 2400        E     ADD     A,#LOW g_imu+01FH
0299 F582              MOV     DPL,A
029B E5F0              MOV     A,B
029D 3400        E     ADDC    A,#HIGH g_imu+01FH
029F F583              MOV     DPH,A
02A1 E0                MOVX    A,@DPTR
02A2 FC                MOV     R4,A
02A3 A3                INC     DPTR
02A4 E0                MOVX    A,@DPTR
02A5 FD                MOV     R5,A
02A6 A3                INC     DPTR
02A7 E0                MOVX    A,@DPTR
02A8 FE                MOV     R6,A
02A9 A3                INC     DPTR
02AA E0                MOVX    A,@DPTR
02AB FF                MOV     R7,A
02AC 7400        R     MOV     A,#LOW single_packet+0CH
02AE 2A                ADD     A,R2
02AF F582              MOV     DPL,A
02B1 E4                CLR     A
02B2 3400        R     ADDC    A,#HIGH single_packet+0CH
02B4 F583              MOV     DPH,A
02B6 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 826
02B9 900000      R     MOV     DPTR,#c
02BC E0                MOVX    A,@DPTR
02BD 2410              ADD     A,#010H
02BF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 827
02C0         ?C0158:
                                           ; SOURCE LINE # 828
02C0 900000      R     MOV     DPTR,#k_imu
02C3 E0                MOVX    A,@DPTR
02C4 FF                MOV     R7,A
02C5 2400        E     ADD     A,#LOW IMU_connected
02C7 F582              MOV     DPL,A
02C9 E4                CLR     A
02CA 3400        E     ADDC    A,#HIGH IMU_connected
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 106 

02CC F583              MOV     DPH,A
02CE E0                MOVX    A,@DPTR
02CF 75F005            MOV     B,#05H
02D2 A4                MUL     AB
02D3 2400        E     ADD     A,#LOW c_mem+08H
02D5 F582              MOV     DPL,A
02D7 E4                CLR     A
02D8 3400        E     ADDC    A,#HIGH c_mem+08H
02DA F583              MOV     DPH,A
02DC E0                MOVX    A,@DPTR
02DD 602D              JZ      ?C0159
                                           ; SOURCE LINE # 829
02DF 75F025            MOV     B,#025H
02E2 EF                MOV     A,R7
02E3 A4                MUL     AB
02E4 2400        E     ADD     A,#LOW g_imu+023H
02E6 F582              MOV     DPL,A
02E8 E5F0              MOV     A,B
02EA 3400        E     ADDC    A,#HIGH g_imu+023H
02EC F583              MOV     DPH,A
02EE E0                MOVX    A,@DPTR
02EF FE                MOV     R6,A
02F0 A3                INC     DPTR
02F1 E0                MOVX    A,@DPTR
02F2 FF                MOV     R7,A
02F3 900000      R     MOV     DPTR,#c
02F6 E0                MOVX    A,@DPTR
02F7 2400        R     ADD     A,#LOW single_packet
02F9 F582              MOV     DPL,A
02FB E4                CLR     A
02FC 3400        R     ADDC    A,#HIGH single_packet
02FE F583              MOV     DPH,A
0300 EE                MOV     A,R6
0301 F0                MOVX    @DPTR,A
0302 A3                INC     DPTR
0303 EF                MOV     A,R7
0304 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 830
0305 900000      R     MOV     DPTR,#c
0308 E0                MOVX    A,@DPTR
0309 2402              ADD     A,#02H
030B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 831
030C         ?C0159:
                                           ; SOURCE LINE # 832
030C 900000      R     MOV     DPTR,#k_imu
030F E0                MOVX    A,@DPTR
0310 2400        E     ADD     A,#LOW IMU_connected
0312 F582              MOV     DPL,A
0314 E4                CLR     A
0315 3400        E     ADDC    A,#HIGH IMU_connected
0317 F583              MOV     DPH,A
0319 E0                MOVX    A,@DPTR
031A 25E0              ADD     A,ACC
031C 2400        E     ADD     A,#LOW single_imu_size
031E F582              MOV     DPL,A
0320 E4                CLR     A
0321 3400        E     ADDC    A,#HIGH single_imu_size
0323 F583              MOV     DPH,A
0325 E0                MOVX    A,@DPTR
0326 FE                MOV     R6,A
0327 A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 107 

0328 E0                MOVX    A,@DPTR
0329 2400        R     ADD     A,#LOW single_packet+0FFFFH
032B F582              MOV     DPL,A
032D 7400        R     MOV     A,#HIGH single_packet+0FFFFH
032F 3E                ADDC    A,R6
0330 F583              MOV     DPH,A
0332 743A              MOV     A,#03AH
0334 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 833
0335 900000      R     MOV     DPTR,#c
0338 7401              MOV     A,#01H
033A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 835
033B E4                CLR     A
033C A3                INC     DPTR
033D F0                MOVX    @DPTR,A
033E         ?C0160:
033E 900000      R     MOV     DPTR,#k_imu
0341 E0                MOVX    A,@DPTR
0342 2400        E     ADD     A,#LOW IMU_connected
0344 F582              MOV     DPL,A
0346 E4                CLR     A
0347 3400        E     ADDC    A,#HIGH IMU_connected
0349 F583              MOV     DPH,A
034B E0                MOVX    A,@DPTR
034C F9                MOV     R1,A
034D 25E0              ADD     A,ACC
034F 2400        E     ADD     A,#LOW single_imu_size
0351 F582              MOV     DPL,A
0353 E4                CLR     A
0354 3400        E     ADDC    A,#HIGH single_imu_size
0356 F583              MOV     DPH,A
0358 E0                MOVX    A,@DPTR
0359 FE                MOV     R6,A
035A A3                INC     DPTR
035B E0                MOVX    A,@DPTR
035C FF                MOV     R7,A
035D 900000      R     MOV     DPTR,#k
0360 E0                MOVX    A,@DPTR
0361 FD                MOV     R5,A
0362 D3                SETB    C
0363 EF                MOV     A,R7
0364 9D                SUBB    A,R5
0365 7480              MOV     A,#080H
0367 F8                MOV     R0,A
0368 EE                MOV     A,R6
0369 6480              XRL     A,#080H
036B 98                SUBB    A,R0
036C 402B              JC      ?C0161
                                           ; SOURCE LINE # 836
036E E0                MOVX    A,@DPTR
036F FF                MOV     R7,A
0370 2400        R     ADD     A,#LOW single_packet
0372 F582              MOV     DPL,A
0374 E4                CLR     A
0375 3400        R     ADDC    A,#HIGH single_packet
0377 F583              MOV     DPH,A
0379 E0                MOVX    A,@DPTR
037A FE                MOV     R6,A
037B EF                MOV     A,R7
037C 900000      R     MOV     DPTR,#gl_c
037F E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 108 

0380 2D                ADD     A,R5
0381 FD                MOV     R5,A
0382 E4                CLR     A
0383 33                RLC     A
0384 FC                MOV     R4,A
0385 7400        R     MOV     A,#LOW packet_data
0387 2D                ADD     A,R5
0388 F582              MOV     DPL,A
038A 7400        R     MOV     A,#HIGH packet_data
038C 3C                ADDC    A,R4
038D F583              MOV     DPH,A
038F EE                MOV     A,R6
0390 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 837
0391 900000      R     MOV     DPTR,#k
0394 E0                MOVX    A,@DPTR
0395 04                INC     A
0396 F0                MOVX    @DPTR,A
0397 80A5              SJMP    ?C0160
0399         ?C0161:
                                           ; SOURCE LINE # 838
0399 E9                MOV     A,R1
039A 25E0              ADD     A,ACC
039C 2400        E     ADD     A,#LOW single_imu_size
039E F582              MOV     DPL,A
03A0 E4                CLR     A
03A1 3400        E     ADDC    A,#HIGH single_imu_size
03A3 F583              MOV     DPH,A
03A5 E0                MOVX    A,@DPTR
03A6 A3                INC     DPTR
03A7 E0                MOVX    A,@DPTR
03A8 FF                MOV     R7,A
03A9 900000      R     MOV     DPTR,#gl_c
03AC E0                MOVX    A,@DPTR
03AD 2F                ADD     A,R7
03AE F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 840
03AF 7E00              MOV     R6,#00H
03B1 7F16              MOV     R7,#016H
03B3 7D00              MOV     R5,#00H
03B5 7B01              MOV     R3,#01H
03B7 7A00        R     MOV     R2,#HIGH single_packet
03B9 7900        R     MOV     R1,#LOW single_packet
03BB 120000      E     LCALL   ?C?MEMSET
                                           ; SOURCE LINE # 842
03BE 900000      R     MOV     DPTR,#k_imu
03C1 E0                MOVX    A,@DPTR
03C2 04                INC     A
03C3 F0                MOVX    @DPTR,A
03C4 020000      R     LJMP    ?C0152
03C7         ?C0153:
                                           ; SOURCE LINE # 845
03C7 7B01              MOV     R3,#01H
03C9 7A00        R     MOV     R2,#HIGH packet_data
03CB 7900        R     MOV     R1,#LOW packet_data
03CD 900000      E     MOV     DPTR,#imus_data_size
03D0 E0                MOVX    A,@DPTR
03D1 A3                INC     DPTR
03D2 E0                MOVX    A,@DPTR
03D3 14                DEC     A
03D4 FD                MOV     R5,A
03D5 120000      R     LCALL   _LCRChecksum
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    03/09/2018 17:30:35 PAGE 109 

03D8 900000      E     MOV     DPTR,#imus_data_size
03DB E0                MOVX    A,@DPTR
03DC FC                MOV     R4,A
03DD A3                INC     DPTR
03DE E0                MOVX    A,@DPTR
03DF FD                MOV     R5,A
03E0 2400        R     ADD     A,#LOW packet_data+0FFFFH
03E2 F582              MOV     DPL,A
03E4 7400        R     MOV     A,#HIGH packet_data+0FFFFH
03E6 3C                ADDC    A,R4
03E7 F583              MOV     DPH,A
03E9 EF                MOV     A,R7
03EA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 846
03EB 7B01              MOV     R3,#01H
03ED 7A00        R     MOV     R2,#HIGH packet_data
03EF 7900        R     MOV     R1,#LOW packet_data
03F1 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 847
03F4 22                RET     
             ; FUNCTION cmd_get_imu_readings (END)



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   8368    ----
   CONSTANT SIZE    =   2801    ----
   XDATA SIZE       =   1102    3927
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      20
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
